# Introducci√≥n a Gatsby

## 0010. ¬øQu√© es Gatsby

### Descripci√≥n:


Gatsby es un _framework open source_ incre√≠blemente r√°pido, tanto en desarrollo como en producci√≥n. Trabaja con un stack innovador, ya que integra tecnolog√≠as como React y GraphQL con diferentes fuentes de informaci√≥n como WordPress o [Sanity.io](http://Sanity.io).

Gatsby usa GraphQL para recolectar la informaci√≥n de nuestro sitio web desde diferentes fuentes: APIs, CMS o nuestro sistema de archivos. Y teniendo lista la informaci√≥n, renderiza nuestras vistas en React.js para construir sitios est√°ticos muy optimizados.

Entre muchas otras aplicaciones, la documentaci√≥n oficial de React.js est√° construida con Gatsby: [Reactjs.org](https://es.reactjs.org).

Nuestro profesor es Jose Carlos Correa, desarrollador JavaScript fullstack, miembro de multiples comunidades de desarrollo e instructor en Ironhack M√©xico.

Recuerda que el proyecto del curso es solo un ejemplo de c√≥mo construir tu pr√≥xima tienda online.  
Screen reader support enabled.

### Links:

* [GatsbyJS](http://gatsbyjs.org)

* [Showcase | GatsbyJS](https://www.gatsbyjs.org/showcase/)

* [React ‚Äì Una biblioteca de JavaScript para construir interfaces de usuario](https://es.reactjs.org)

* [Flamingo | Women's Razors, at Home Wax Strips, and Body Care for Women with Hair ](https://www.shopflamingo.com/)

### Comentarios:

* **Rub√©n Maier Enzler** (16)

	
	Los amo, me encanta que comiencen el curso mostrando el proyecto que uno terminar√≠a haciendo a lo largo de cada tema. Crean que nos alivian mucho a las personas ansiosas y curiosas que est√°n pendientes de saber que sigue para saber que se logra hacer, y a su vez te motiva a terminar el curso lo antes posible e ir proyectando el uso que uno le dar√≠a a esta nueva skill

* **daniel.hincapie** (3)

	
	recibe datos de firebase?

	* **Diego Hern√°n Moreno Amaya** (1)

		
		Misma pregunta

	* **Cesar Galindo** (1)

		
		seg√∫n la pagina oficial, si  
		<https://www.gatsbyjs.org/packages/gatsby-plugin-firebase/>

* **RichBarusta** (3)

	
	Gatsby podr√≠a ser af√≠n a la arquitectura de micro-frontends ??

	* **joss_dz** (7)

		
		Si, y [ac√° tienes un recurso](https://www.youtube.com/watch?v=0Ta-awtLZTs) excelente por Jason Lengstorf del equipo oficial de Gatsby

* **Juan Antonio Avalos Orozco** (2)

	
	De las mejores intro que he visto en cursos!

* **Cristian3** (1)

	
	 **ventajas de Gatsby:**  
	Nos entrega un sitio r√°pido, optimizado y tiene una buena navegaci√≥n
	
	Link de gatsby: [gatsby](https://www.gatsbyjs.org)

* **luisrovez** (1)

	
	Eh visto de Gatby se basa en JAMStack (Javascript API¬¥S Markup) ü§î, pero no me queda claro que es en realidad, solamente que es conjunto de tecnolog√≠as para el desarrollo web como MEAN, MERN, etc‚Ä¶ pero todos los procesos no se realizan en el servidor, sino, en el cliente.

	* **zomars** (2)

		
		Se podr√≠a decir que es una manera de mantener separado el front y back de una aplicaci√≥n. Te permite usar cualquier API y cualquier framework JS y aun as√≠ funcionar entre si.

* **Abner Paul Ccari Lindo** (1)

	
	Que genial, lo mejor de dos mundos GraphQL y React üöÄ

* **samuelfloreshernandez** (1)

	
	Muy buena introducci√≥n al curso, motiva mucho los resultados que muestra!

* **benitezconzeta** (1)

	
	Wow!!! Buen√≠simo. El profe me deja con muchas expectativas para aprender Gatsby!!!

## 0020. ¬øPor qu√© Gatsby Seguridad y Velocidad

### Descripci√≥n:


Aprende m√°s en el Curso de Desarrollo de Aplicaciones Web con Gatsby JS: <https://platzi.com/gatsby>  
Adquiere hoy la suscripci√≥n a Platzi en: <https://platzi.com/precios>

En esta clase el profesor Jos√© Carlos Correa nos explica c√≥mo funciona Gatsby y por qu√© debemos considerar su stack innovador para construir aplicaciones web r√°pidas y seguras.

Gatsby es un framework open source que nos facilita la construcci√≥n de aplicaciones web. Integra tecnolog√≠as como React, GraphQL y diferentes fuentes de informaci√≥n como Firebase, WordPress o Sanity. Su velocidad se debe a que compila la aplicaci√≥n mientras desarrollamos para que el sitio en producci√≥n obtenga todos los beneficios de las Single Page Applications y el Server Side Rendering.

### Links:

* [GatsbyJS](http://gatsbyjs.org)

* [Showcase | GatsbyJS](https://www.gatsbyjs.org/showcase/)

* [React ‚Äì Una biblioteca de JavaScript para construir interfaces de usuario](https://es.reactjs.org)

* [Flamingo | Women's Razors, at Home Wax Strips, and Body Care for Women with Hair ](https://www.shopflamingo.com/)

### Comentarios:

* **Juan David Castro (Platzi)** (4)

	
	[Next.js](https://platzi.com/clases/next-js/) tambi√©n es un generador de sitios est√°ticos, pero no tiene todo el ecosistema de plugins preparado para que los datos se encuentren disponibles tan r√°pido desde GraphQL.

* **Edgar de Jesus Mendoza Ortegon** (4)

	
	excelente explicaci√≥n.

* **Rub√©n Maier Enzler** (3)

	
	Tengo una duda, ¬øpodr√≠a hacer una PWA con esta tecnolog√≠a si convino los conocimientos del curso de ‚ÄúPWA con react‚Äù y este?

	* **joss_dz** (3)

		
		Por supuesto, en el proyecto que te genera el comando ¬¥gatsby new¬¥ del cli de gatsby hay un plugin llamado gatsby-plugin-offline que est√° comentado, basta con des-comentarlo para tener una PWA con gatsby. Tu sitio instalable. incluso hay starters que ya vienen configurados para ser una PWA

	* **Rub√©n Maier Enzler** (1)

		
		Gracias @joss_dz

* **Edgar de Jesus Mendoza Ortegon** (3)

	
	¬øpodemos usar otro backend c√≥mo por ejemplo Python o Golang?

	* **Juan David Castro (Platzi)** (1)

		
		Pra crear una API y consumir su informaci√≥n, s√≠.  
		Para el render, no.

	* **Andres Hernandez Lozano** (3)

		
		No importa de donde vengan los datos‚Ä¶Puede ser de un API construido en cualquier lenguaje.

* **Daniel Hurtado** (2)

	
	Gatsby parece ser la mejor opci√≥n. Pero, y si un sitio tiene miles o decenas de miles o cientas de miles de p√°ginas? Por ejemplo, Platzi, que deber√≠a tener decenas de miles de p√°ginas prerenderizadas por cada curso, gatsby se manejar√≠a bien en ese sentido?

* **Jos√© Alberto Ortiz Vargas** (2)

	
	Puedo hacer backend con PHP y Frontend con Gatsby?

	* **fermebaz** (1)

		
		Si, por medio de una API.

* **harbarnard** (2)

	
	es recomendable usar angular con firebase, para poder usar SEO usamos gatsby y con eso la parte de la seguridad se ve completa. la pregunta es? para paginas dinamicas o portalweb con datos dinamicos se podria usar gatsby?

* **Matias Niz** (2)

	
	Espero no equivocarme, pero con lo que vimos en el curso de Next, lo que se renderiza en el servidor es la pagina que visitamos al inicio, el resto de paginas que accedemos al navegar dentro de una app con next son client side.

* **darwinyusef** (2)

	
	Tengo una pregunta no se si puedan responderla, En google existe una caracteristica que potencia los buscadores llamada google <https://amp.dev/> ya que AMP facilita la creaci√≥n de grandes experiencias en la web. tengo entendido que solo con NEXT es posible usar amp con Gatsby es posible?

	* **joss_dz** (2)

		
		Claro que es posible, gatsby tiene un [plugin](https://www.gatsbyjs.org/packages/gatsby-plugin-amp/) que te permite trabajar con esta tecnolog√≠a. Incluso existe este [starter](https://www.gatsbyjs.org/starters/tomoyukikashiro/gatsby-starter-blog-amp-to-pwa/) que te permite trabajar con la configuraci√≥n de gatsby + amp

* **Rub√©n Maier Enzler** (2)

	
	no veo la diferencia entre una SSR y Gatsby, es decir, el sitio est√°tico que genera Gtsby sigue estando en un servidor, y sigue entregando las cosas por parte como hacer SSR, es decir, ambos dan en la medida en la que se lo piden.

	* **joss_dz** (7)

		
		El detalle est√° en que en un Sitio de SSR, la respuesta del servidor fue preparada en el servidor en tiempo de ejecuci√≥n. Esto quiere decir que hay una maquina haciendo el procesamiento de tu petici√≥n y devolviendo un sitio renderizado. Gatsby genera las vistas del proyecto y te entrega todo listo.

	* **WilliamVelazquez** (1)

		
		Ten√≠a entendido que NextJS tambi√©n generaba sitios est√°ticos entonces, ¬øCu√°l ser√≠a la diferencia entre Gatsby y NextJS?ü§î

	* **Rub√©n Maier Enzler** (1)

		
		@joss_dz, seguimos en la misma, tanto ‚Äúgenerar las vistas del proyecto‚Äù como ‚Äúuna maquina procesando peticiones y renderizando lo solicitado‚Äù es lo mismo, con la diferencia de que uno te entrega una parte y el otro todo. Ahora, detenete a pensar, renderizar todas las vistas y enviarlas entera, es costoso en tiempo inicial y costoso en consumo de cache/ram por parte del browser puesto que pasa a estar toda esa info en el cliente, y es el browser quien gestiona reactivamente cada petici√≥n. Por lo tanto, si Gtsby funcionar√≠a as√≠, ser√≠a peor que una SSR. La arquitectura de funcionamiento efectivamente deber√≠a ser mejor, pero dudo que te entregue de una todo hecho, por lo que entiendo del video tambi√©n es por petici√≥n, pero no llego a entender si hay un proceso de ‚Äúrenderizaci√≥n iterativa incremental‚Äù, que una vez dada la primer petici√≥n, ya empaqueta el resto de vistas y las tiene preparadas para futuras peticiones, el tema es que con datos din√°micos, los paquetes de petici√≥n no podr√≠an pre-ensamblarse al instante de petici√≥n.

	* **adrianrbp** (3)
@rmaierenzler la clave en la respuesta del profe est√° en "tiempo de ejecuci√≥n", SSR genera las vistas en tiempo de ejecuci√≥n √≥ de manera dinamica con cada petici√≥n, a diferencia de Gatsby que genera las vistas en tiempo de compilaci√≥n √≥ de manera est√°tica previa a cualquier petici√≥n y en cada petici√≥n devuelve archivos est√°ticos pre-compilados (pareja html-js) . Este es un link donde se explica la diferencia de Next.js(SSR) y gatsby. https://youtu.be/xC4Yq_mXvPM Tambi√©n comentan que Next.js puede hacer lo mismo, pero que gatsby es la opci√≥n en esa categor√≠a.

	* **Rub√©n Maier Enzler** (1)

		
		@adriandn, gracias, el profe no dijo eso en la explicaci√≥n. Pero ahora me entra otra duda, ¬øcomo hace gatsby para ensamblar en tiempo de copilaci√≥n (que entiendo es antes de que el servidor ponga su atenci√≥n en marcha) si aun no recibi√≥ los datos asociado?. Por ejemplo, en una pantalla de login, el cliente ingresa datos, que son enviados al servidor, el servidor los procesa, los valida con la backend DB y devuelve por ejemplo al cliente a su perfil (siendo este perfil ya otra pagina que expone los datos personales que tambi√©n fueron consultados en la DB). Me resulta raro, porque dependiendo el usuario logados los datos ser√°n distintos, y el html final de ‚Äúperfil‚Äù deber√≠a tener los datos correspondientes, por lo que no queda otra que modelar el html en tiempo de ejecuci√≥n,

* **juand_silva** (1)

	
	D√≥nde puedo descargar la documentaci√≥n que utiliza el profesor para el curso?

* **Alessandri** (1)

	
	Muy interesante todo lo que cubre en la parte de seguridad al no conectarnos directamente con el backend y la db

* **Miguel Ruiz Moreno** (1)

	
	¬øCon respecto al SEO el factor que diferencia a una aplicaci√≥n de Gatsby frente a una SPA con React que use react-helmet √∫nicamente ser√≠a el tiempo de carga inicial?

	* **joss_dz** (3)

		
		As√≠ es, a dem√°s que en gatsby sigues usando helmet. Solamente no lo ‚Äòconfiguras‚Äô üòÑ

* **Abner Paul Ccari Lindo** (1)

	
	En este caso, gatsby seria perfecto para crear landing pages? o igual existiria problemas con el SEO?

	* **joss_dz** (4)

		
		As√≠ es, me parece una buena idea. a veces pienso que no debemos hacer sobre-ingenier√≠a o usar algo tan robusto para algo tan simple. Pero con Gatsby me encanta romper esa regla por que solo necesitas `gatsby new` y tienes todo un proyecto base optimizado sin mucho esfuerzo.

* **BRYAN ALEXANDER CONDOR DE LA CRUZ** (1)

	
	SSR es lo mismo a lo que hace SPA con **LazyLoading** ?

	* **Diego Alexander Forero Higuera (Platzi)** (7)

		
		No, Server Side Render o SSR es que el servidor ya env√≠a el contenido listo para ser mostrado por el navegador, como si fuera un html est√°tico. Una Single Page Application es una aplicaci√≥n que carga en la misma vista varias cosas sin necesidad de refrescar, el LazyLoading lo que hace es que no todo se cargue al tiempo si no se cargue por ejemplo las im√°genes solo cuando son visibles dentro del navegador.

	* **Juan David Castro (Platzi)** (2)

		
		Nope. Mira este art√≠culo: [Server Side Rendering vs. Single Page Applications vs. Generadores de Sitios Est√°ticos](https://platzi.com/blog/spa-vs-ssr-vs-static-site-generators/).

* **Alvise Leal** (1)

	
	Justo conozco este framework despu√©s de haber realizado un website con Vue y el SPA-Prerender Plugin para afrontar los mismos problemas que Gatsby (o Gridsome, para Vue).
	
	Mi duda es ¬øque diferencia o ventajas tendr√≠a utilizar Gatsby/Gridsome frente a hacer el prerenderizado por tu cuenta?
	
	Se que te facilita bastante la configuraci√≥n para poder _fetchear_ contenido al momento de hacer el prerenderizado, pero a parte de eso ¬øque otro plus notable tiene este framework?

## 0030. Diferencias entre SPA, SSR y Gatsby

### Descripci√≥n:


Texto por [@juandc](https://platzi.com/@juandc/)

**Gatsby no solo es r√°pido, tambi√©n es seguro.**

Para entenderlo mejor debes conocer las diferencias entre _Server Side Render_ y _Single Page Applications_.

### React en Single Page Applications

Este tipo de aplicaciones es muy com√∫n cuando trabajamos con React.js.

Las SPAs son p√°ginas que siempre cargan el mismo archivo HTML. Este, a su vez, carga un archivo gigante de JavaScript con toda la l√≥gica de nuestra apliacaci√≥n (por ejemplo, usando React.js).

Estas p√°ginas tienen una carga inicial muy lenta, ya que no podremos ver la informaci√≥n importante hasta que termine de cargar el archivo de JavaScript. Pero una vez termina la carga inicial, las SPAs son muy r√°pidas, incluso al navegar por diferentes secciones de nuestra aplicaci√≥n.

Como el archivo de JavaScript tiene todo el c√≥digo de nuestra aplicaci√≥n, el tiempo de navegaci√≥n pasa de segundos a milisegundos. No necesitamos hacer m√°s requests al servidor. Pero en mucho casos debemos esperar algunos segundos para que termine la carga inicial y podamos utilizar la aplicaci√≥n.

### React en Server Side Rendering

Diferentes herramientas como [Next.js](https://platzi.com/next) nos ayudan a utilizar React en el servidor para no afectar el SEO y disminuir el tiempo de carga de nuestra aplicaci√≥n, todo esto sin perder interactividad.

El Server Side Rendering tradicional es muy com√∫n en aplicaciones construidas con WordPress, por ejemplo. Aunque estas p√°ginas tienen un tiempo de carga muy corto, la carga debe repetirse cada vez que el usuario navega por nuestra aplicaci√≥n, es decir, casi todas las veces que damos click en un link o bot√≥n.

Las herramientas de SSR con React.js son muy conscientes de este problema, por lo que convierten nuestra aplicaci√≥n en una SPA inmediatamente despu√©s de que termina la carga inicial. Es decir, utilizan SSR en la primera carga y luego se convierten en SPAs para mejorar la navegaci√≥n e interactividad de nuestro sitio.

### React en Gatsby: lo mejor de ambos mundos

Gatsby es un generador de sitios est√°ticos. Esto quiere decir que en vez de renderizar desde el servidor, lo que sucede cada vez que un usuario entra a nuestra aplicaci√≥n, Gatsby renderiza el contenido **solo una vez** en la etapa de desarrollo. Nuestro servidor no debe renderizar todo el tiempo, solo env√≠a el HTML inicial (ya renderizado) para que m√°s adelante el navegador se encargue de cargar el c√≥digo JavaScript que nos ayudar√° a que nuestra p√°gina funcione como una SPA.

De esta forma obtenemos todos los beneficios: por ser una SPA, seguimos teniendo una alta interactividad y navegaci√≥n muy r√°pida, y adem√°s, conseguimos una carga inicial muy r√°pida, en algunos casos incluso superior a la del SSR.

### Gatsby vs. WordPress

Gatsby tambi√©n nos ayuda a consumir informaci√≥n desde un CMS como WordPress. De esta forma podemos editar nuestro contenido desde una plataforma que ya conocemos sin que esto afecte al rendimiento de nuestra aplicaci√≥n.

**Gatsby** :

  * Utiliza el Virtual DOM (m√°s velocidad)
  * Componentes
  * Hot Reloading
  * Code Splitting e im√°genes responsivas



**WordPress** :

  * Manejo manual del DOM
  * Debemos copiar y pegar para reutilizar c√≥digo (aunque las buenas pr√°cticas nos pueden ayudar bastante)
  * Refresh para ver los cambios



### Comentarios:

* **MTab** (2)

	
	Qu√© interesante sesi√≥n! Vamos por m√°s‚Ä¶

* **Abel Fernando Yupanqui Rojas** (2)

	
	Buena informaci√≥n !! , es importante saber que es lo que sucede detr√°s de todo desarrollo para seguir avanzando !!

* **Fabi√°n andres Pedraza Borhorquez** (1)

	
	es muy interesante aprender gatsby ya que nuestro ecommerce puede cargar en mili segundos y ha google le encanta eso y as√≠ podemos estar mas r√°pido entre las primeras posiciones

* **luisrovez** (1)

	
	Super interesante, me siento emocionado de aprender este Framework y poder usarlo en mis futuros proyectos, ademas que el profesor es excelente explicando, hasta ahora xd

* **Jessie Buckland P√©rez** (1)

	
	Me parece incre√≠ble lo que se puede llegar a hacer con Gatsby, y solo estamos en la tercera clase üòÑ

* **johnaagudelo** (1)

	
	super bien!!!

* **Juan Antonio Avalos Orozco** (1)

	
	Buen resumen, basicamente la clase anterior.

	* **ferroblesh** (2)

		
		Lo mismo pens√©. Bastante informativo el resumen üòÉ

* **Adrian Camilo Caminos** (1)

	
	Digamos si quisiera manejar todo mi contenido SEO, environments cual seria mejor nextJS o Gatsby tengo esa duda ? gracias üòÑ

	* **joss_dz** (3)

		
		Creo que si ese es el objetivo m√°s bien te tocar√≠a decidir a ti, en cuesti√≥n de comodidad y gusto. ambas herramientas resuelven ese problema. Solo dir√≠a que si quieres hacer el resto de cosas a mano Nextjs, Si quieres la carga r√°pida y todo el contenido centralizado y tu sitio construido previo al request del usuario, Gatsby.

# Preparando el entorno

## 0040. Requisitos previos y herramientas de desarrollo

### Descripci√≥n:


### Requisitos:

  * [Curso de Fundamentos de JavaScript](https://platzi.com/cursos/fundamentos-javascript/)
  * [Curso de React.js](https://platzi.com/cursos/react/)
  * Opcional: [Curso de React.js Avanzado](https://platzi.com/cursos/react-avanzado/)
  * [Curso B√°sico de Node](https://platzi.com/cursos/basico-nodejs/)
  * Opcional: [Curso de Esenciales de Node.js](https://platzi.com/cursos/node-js/)
  * [Curso B√°sico de GraphQL](https://platzi.com/cursos/graphql/)



### Herramientas de desarrollo:

  * [Prettier](https://prettier.io): Nos ayuda a formatear (corregir) nuestro c√≥digo para seguir buenas pr√°cticas.
  * [ESLint](https://eslint.org): Nos ayuda a detectar errores, incluso antes de ejecutar o probar nuestro c√≥digo. De esta forma agilizamos el trabajo, ya que obtenemos una gu√≠a visual para detectar si algo est√° mal, todo esto al mismo tiempo que vamos programando.



Recuerda que puedes instalar los plugins de ambas herramientas en editor de c√≥digo favorito. De esta forma no tendras que ejecutar un mismo comando todo el tiempo para detectar los errores, los plugins lo har√°n por ti cada vez que guardes tus archivos.

### Links:

* [Curso B√°sico de Node.js](https://platzi.com/cursos/basico-nodejs/)

* [Curso de React.js](https://platzi.com/cursos/react/)

* [Curso B√°sico de GraphQL](https://platzi.com/cursos/graphql/)

### Comentarios:

* **luisrovez** (2)

	
	Pero Gatsby es una herramienta para el desarrollo del lado del cliente, dir√≠a yo, ya que esta basado en la arquitectura de JAMStack ü§î

	* **Cesar Galindo** (1)

		
		mira esta comparaci√≥n que hace gatsby con jamstack frameworks
		
		<https://www.gatsbyjs.org/features/jamstack/>

* **Oscar Miguel Fabian Bernal** (2)

	
	excelenteeee, hace timepo era para que hagan clases utilizando esto üòâ

* **dariosoto522** (2)

	
	muy bueno

* **platzerito080420202** (1)

	
	Cuando apreto F1 y clikeo el ‚Äúopen setting json‚Äù me aparece esto.
	
	{  
	‚Äúfiles.autoSave‚Äù: ‚Äúoff‚Äù,  
	‚Äúworkbench.sideBar.location‚Äù: ‚Äúleft‚Äù,  
	‚Äúphp-cs-fixer.executablePath‚Äù: ‚Äú${extensionPath}\php-cs-fixer.phar‚Äù,  
	‚Äúphp-cs-fixer.lastDownload‚Äù: 1575209722806,  
	‚Äúwindow.zoomLevel‚Äù: 0  
	}
	
	pero no lo que te sale a ti jos_smith xd

* **Kelly Jesus Salazar Sanchez** (1)

	
	A quien le dio este error:
	
	`Warning: Unsafe lifecycle methods were found within a strict-mode tree:
	
	componentWillMount: Please update the following components to use componentDidMount instead: SideEffect(NullComponent)`

* **Jose Luis Colmenares** (1)

	
	Casi todos los cursos menso el de GraphQL. Voy a intentar avanzar as√≠ y ver hasta donde llego

	* **Gabriel De Andrade (Platzi)** (1)

		
		Te deber√≠a ir bien, de todas maneras si tienes dudas cons√∫ltale a la comunidad y te ayudamos a resolverlas üòÑ

* **onlinejaime** (1)

	
	Deber√≠a estar especificado aqu√≠ que se trabaja con MacOS y que si se hace con WIndows no funciona igual. Por lo menos se evitar√≠an p√©rdidas de tiempo‚Ä¶

	* **Juan David Castro (Platzi)** (6)

		
		üëã Hey!
		
		Para preparar todo nuestro entorno de desarrollo podemos tomar el [Curso de Prework: Buenas Pr√°cticas y Entorno de Desarrollo](https://platzi.com/clases/prework/). Se explican los temas para todos los tipos de sistemas operativos, incluyendo Windows. üòâ

## 0050. Configuraci√≥n de ESLint

### Descripci√≥n:


## ¬øQu√© es ESLint?

ESLint es una herramienta de linting para Javascript. Un linter es un programa que se encarga de revisar el c√≥digo escrito y es capaz de se√±alar errores y posibles bugs que podemos corregir para mejorar nuestros programas, de esta manera tenemos acceso a los errores incluso antes de que sucedan.

## ¬øPor qu√© usar ESLint?

Gracias a que JavaScript es un lenguaje din√°mico y d√©bilmente tipado, especialmente propenso a errores por parte del programador es que ESLint es muy √∫til. Esta herramienta nos ayuda a prevenir la manera de anta√±o para encontrar errores en este lenguaje.

El objetivo de ESLint es encontrar errores mucho antes de que sucedan, de manera autom√°tica y sin necesidad de ejecutar el c√≥digo. Esto nos permite reparar los errores muy r√°pido y agilizar nuestro tiempo de desarrollo.

ESLint est√° basado en reglas configurables y viene con un conjunto preestablecido que podemos usar como punto de inicio y m√°s adelante poder habilitar o deshabilitar ciertas reglas considerando nuestro estilo de c√≥digo o incluso una convenci√≥n en nuestro equipo de desarrollo.

## ESLint y Gatsby

Gatsby incluye una configuraci√≥n integrada de ESLint . Para la mayor√≠a de los usuarios, la configuraci√≥n incorporada de ESLint es todo lo que necesita. Sin embargo, si tienes una configuraci√≥n personalizada o una convenci√≥n en tu equipo de trabajo podemos configurarlo.

### instalaci√≥n

Ya que Gatsby viene con ESLint configurado de base podemos a√±adir nuestra configuraci√≥n inicializando desde la herramienta en node_modules:
``` 
    ./node_modules/.bin/eslint --init
    
```

Este comando va a lanzar un proceso de ayuda para configurar ESLint paso a paso, revisemos los elementos:

  1. ¬øCon qu√© objetivo vamos a usar ESLint?

![alt_text](https://i.postimg.cc/9fcbNMv8/Captura-de-Pantalla-2019-07-03-a-la-s-19-45-55.png)

Revisar la sintaxis; revisar la sintaxis y encontrar problemas; o revisar sintaxis, encontrar problemas y forzar un estilo de c√≥digo.

En nuestro caso basta con revisar la sintaxis y encontrar problemas.

  2. ¬øQu√© tipo de m√≥dulos va a utilizar nuestro proyecto?

![alt_text](https://i.postimg.cc/pdkCNvv2/Captura-de-Pantalla-2019-07-03-a-la-s-19-46-53.png)

Utilizaremos Javascript modules.

  3. ¬øQu√© Framework/Biblioteca va a usar nuestro proyecto?

![alt_text](https://i.postimg.cc/G22Qdf3v/Captura-de-Pantalla-2019-07-03-a-la-s-19-47-43.png)

Nuestro proyecto va a utilizar React.

  4. ¬øEn qu√© entorno corre nuestro proyecto?

![alt_text](https://i.postimg.cc/YjcfNq6x/Captura-de-Pantalla-2019-07-03-a-la-s-19-48-34.png)

Para nuestro proyecto podemos seleccionar ambas.

  5. ¬øEn qu√© formato deseas el archivo de configuraci√≥n?

![alt_text](https://i.postimg.cc/WpdB7WmD/Captura-de-Pantalla-2019-07-03-a-la-s-19-49-16.png)

  6. Por √∫ltimo, Hace falta una dependencia para trabajar con el est√°ndar de JavaScript, ¬øquieres instalarla ahora?

![alt_text](https://i.postimg.cc/66FDbrzM/Captura-de-Pantalla-2019-07-03-a-la-s-19-50-19.png)

Contin√∫a con Y, esto va a instalar una herramienta que nos va a permitir trabajar con React.

El resultado de este proceso es un archivo llamado .eslintrc.js con el siguiente contenido:
``` 
    module.exports = {
      env: {
        browser: true,
        es6: true,
        node: true
      },
      extends: 'eslint:recommended',
      globals: {
        Atomics: 'readonly',
        SharedArrayBuffer: 'readonly'
      },
      parserOptions: {
        ecmaFeatures: {
          jsx: true
        },
        ecmaVersion: 2018,
        sourceType: 'module'
      },
      plugins: ['react'],
      rules: {}
    }
    
```

Vamos a cambiar la propiedad extends, que nos ayuda a heredar una serie de configuraciones pre establecidas y recomendadas. El proceso de init nos ayud√≥ a instalar un plugin para react, vamos a heredar de √©l en extends.
``` 
    "extends": [
        "eslint:recommended",
        "plugin:react/recommended"
      ]
    
```

Por √∫ltimo, vamos a revisar la opci√≥n de rules, esta secci√≥n nos permite configurar reglas en particular. Podemos habilitar o deshabilitar reglas para el linter, por ejemplo, que nos notifique con un error o advertencia si no colocamos los punto y coma en el proyecto.
``` 
    "rules": {
        "semi": "warning",
      },
    
```

Gracias a que tenemos configurado el plugin de React y React busca mejores pr√°cticas tambi√©n hay reglas orientadas al desarrollo de React, podemos modificarlas de igual manera, por ejemplo, remover la linterna para prop-types:
``` 
    "rules": {
        "semi": "off",
        "react/prop-types": 0,
        "react/display-name": 0,
      },
    
```

Esta es la manera de configurar ESLint de manera manual, recuerda que la herramienta nos ayuda a prevenir errores incluso antes de ejecutar el c√≥digo y ver los errores en consola.

### Comentarios:

* **Oscar Lobo** (9)

	
	En efecto hay varios pasos que se deben aplicar antes de ejecutar este proceso, porque quede perdido al llegar aqui y no tener modulos de node instalado
	
	Install the Gatsby CLI
	``` 
	    npm install -g gatsby-cli
	    
	```
	
	Create a new site
	``` 
	    gatsby new gatsby-site
	    
	```
	
	Change directories into site folder
	``` 
	    cd gatsby-site
	    
	```
	
	Luego de estos pasos si ejecutar el comando para Eslint
	``` 
	    ./node_modules/.bin/eslint --init
	    
	```

* **Juan Antonio Avalos Orozco** (3)

	
	Recuerden, la raiz del proyecto:  
	`yarn install`  
	Y, luego  
	`./node_modules/.bin/eslint --init`  
	Eso lo obviaron en este articulo.

* **Renzo Mayer** (3)

	
	Cuando dicen de ejecutar este comando:  
	./node_modules/.bin/eslint --init
	
	Deber√≠an haber pasos previos ya que anteriormente no se ha instalado gatsby , por lo que me queda la duda de si no les falta mencionar esa parte o quizas yo me lo perdi y lo siento por eso.
	
	Yo tuve que <https://www.gatsbyjs.org/docs/quick-start> y termine creando la carpeta gatsby-site y ahi si funciono el comando.

* **Elias Ojeda Medina** (2)

	
	Est√° clase deber√≠a estar despu√©s de la siguiente, en la posici√≥n 6

* **Renzo Mayer** (1)

	
	Y comento que con la version 10.15.3 e instalando gatsby con yarn me da el siguiente error:
	``` 
	    An error occurred while generating your JavaScript config file. A config file was still generated, but the config file itself may not follow your linting rules.
	    Error: Cannot find module '../cli-engine'
	    Error: An error occurred while generating your JavaScript config file. A config file was still generated, but the config file itself may not follow your linting rules.
	    Error: Cannot find module '../cli-engine'
	        at Function.Module._resolveFilename (internal/modules/cjs/loader.js:582:15)
	        at Function.Module._load (internal/modules/cjs/loader.js:508:25)
	        at Module.require (internal/modules/cjs/loader.js:637:17)
	        at require (internal/modules/cjs/helpers.js:22:18)
	        at writeJSConfigFile (/Users/crovat/study/gatsby/proyect/gatsby-site/node_modules/eslint/lib/config/config-file.js:294:27)
	        at Object.write (/Users/crovat/study/gatsby/proyect/gatsby-site/node_modules/eslint/lib/config/config-file.js:328:13)
	        at writeFile (/Users/crovat/study/gatsby/proyect/gatsby-site/node_modules/eslint/lib/config/config-initializer.js:56:16)
	        at askInstallModules.then (/Users/crovat/study/gatsby/proyect/gatsby-site/node_modules/eslint/lib/config/config-initializer.js:560:29)
	        at process._tickCallback (internal/process/next_tick.js:68:7)
	    ‚ûú  gatsby-site git:(master) ‚úó nvm version
	    v10.15.3
	    
	```
	
	De todas maneras se genera el archivo .eslintrc.js que es muy similiar al de su descripci√≥n.
	``` 
	    module.exports = {
	        "env": {
	            "browser": true,
	            "es6": true
	        },
	        "extends": "eslint:recommended",
	        "globals": {
	            "Atomics": "readonly",
	            "SharedArrayBuffer": "readonly"
	        },
	        "parserOptions": {
	            "ecmaFeatures": {
	                "jsx": true
	            },
	            "ecmaVersion": 2018,
	            "sourceType": "module"
	        },
	        "plugins": [
	            "react"
	        ],
	        "rules": {
	        }
	    };```
	    
	    como veran lo unico que cambia es que en env no esta la key "node".
	    
	```

## 0060. Gatsby y Gatsby CLI y Starters

### Descripci√≥n:


### Crea tu primer sitio web en Gatsby

Tenemos dos formas de instalar Gatsby y crear nuestros proyectos.

**1\. A mano:** Debemos crear las carpetas y archivos de nuestro proyecto siguiendo las pr√°cticas de Gatsby. Tambi√©n debemos instalar las dependencias:
``` 
    npm install --save react react-dom gatsby
    
```

**2\. De forma global:** Usamos `gatsby-cli` para generar un proyecto b√°sico de Gatsby. No debemos crear los archivos ni las carpetas, solo ejecutar los siguientes comandos:
``` 
    # No olvides instalar:
    npm install -g gatsby-cli
    
    # Ahora s√≠:
    gatsby develop
    
```

### Starters

_La comunidad alrededor de Gatsby es incre√≠ble._

Los starters son proyectos creados con el fin de modificar el contenido y tener nuestro sitio listo sin necesidad de hacer configuraciones. Solo debemos copiar el nombre del starter y ejecutar el siguiente comando:
``` 
    gatsby new tu-proyecto creador/nombre-del-starter
    
```

### Links:

* [Starter Library | GatsbyJS](https://www.gatsbyjs.org/starters)

### Comentarios:

* **Favio N√°quira** (5)

	
	Este curso si tiene las descripciones completas abajo del video, est√° genial, adem√°s el profe le pone ganas =D

* **jesusmurf** (3)

	
	Me ha encantado todo el tema de starters. Tengo ganas de empezar a jugar con Gatsby!

* **Jes√∫s Manuel Fuentes Trejo** (2)

	
	Cuando tienes instalado zsh, puedes utilizar
	``` 
	    take mi_directorio
	    
	```
	
	y viene siendo un alias para
	``` 
	    mkdir mi_directorio && cd mi_directorio
	    
	```

* **jhon manuel angulo moncada** (2)

	
	para usar los Starters y como recomendaci√≥n general deber√≠as instalar Git =).

* **Mario E Fernandez  Serrano** (2)

	
	Hola, amigos estoy siguiendo el curso , solo que al ejecutar [ gatsby develop ] no me corre el proyecto‚Ä¶ üò¶ alguno sabe a que se debe ? por otro lado instalado [ npm install -g gatsby-cli ] y al crear el proyecto tampoco me ejecuta. üò¶ ayuda SOS xD‚Ä¶

	* **Diego Alexander Forero Higuera (Platzi)** (2)

		
		Hola, puedes compartir si te sale alg√∫n error y si es as√≠ compartir el stack trace completo del error.

	* **joss_dz** (2)

		
		Si tienes problemas para crear puedes usar npx, te permite correr el cli sin la instalaci√≥n global.
		
		`npx gatsby new [nombre]`
		
		Intenta ejecutar con `npm run develop` || `yarn develop`

	* **edwintrumpet** (1)

		
		Para usar el comando `gatsby` debe instalarlo globalmente y por eso no le funciona el comando `gatsby develop`  
		Pero si lo que quiere es usar la instalaci√≥n local de _Gatsby_ puede hacerlo usando el script que se puso en el `package.json` usando el comando `npm run develop`  
		Como mencion√≥ el profe es mejor usar el comando `npx gatsby new <nombre del proyecto>` el cual no necesita de una instalaci√≥n global de _Gatsby_.

	* **juand_silva** (2)

		
		Es mejor no instalar dependecias de forma Global, a no ser de que sea necesario; ya que, las actualizaciones de estas dependencias se debe hacer de forma manual. Utiliza este comando  
		`npm run develop`

* **Gaston Morales** (2)

	
	 **Incre√≠ble el sistema de los Starters, son sencillos de utilizar y facilita mucho ciertos trabajos**

* **Alexander  Silvera** (2)

	
	puedo configurar gatsby con un proyecto de un blog con django?? Para servir los archivos estaticos??

	* **joss_dz** (2)

		
		En esencia, s√≠. Al final son archivos est√°ticos.

* **NATALIAGJ** (2)

	
	![](https://res.cloudinary.com/simplecol/image/upload/v1562339978/error_gatsby_gfejhz.png)  
	Aparece este error cuando ejecuto el comando gatsby new myproject

	* **NATALIAGJ** (4)

		
		Aca encontre la soluci√≥n para usuarios windows: <https://www.gatsbyjs.org/docs/gatsby-on-windows/>

	* **Mario E Fernandez  Serrano** (1)

		
		Como lo arreglo para MAC . üò¶

* **lennonpoul** (1)

	
	al momento de generar mi proyecto con gatsby new Nombre me sale un error no se si pueden ayudar a solucionarlo ![error.png](https://static.platzi.com/media/user_upload/error-c7679c8d-42bb-42f5-8066-d95fa5338370.jpg)

* **Andres Roberto Coello Goyes** (1)

	
	Lo tuve que abrir en la consola de git, el CMD me daba muchos problemas

* **jenapi** (1)

	
	Hey como consejo a todos los usuarios de windows, es demasiado tedioso usar windows simplemente es un dolor de cabeza tremendo, pero pueden usar el subsistema linux, ayuda demasiado, corr√≠ este codigo sin problema alguno usando el bash del susbsitema linux en windows, es una especie de consuelo para los usuarios de windows.

	* **Diego Andres Cardenas Caro** (3)

		
		Si quieres una consola rapido y muy familiar a linux instala Cmder, tremenda sobre Windows <https://cmder.net>

	* **Juan David Castro (Platzi)** (4)

		
		üëã Hey!
		
		Para preparar todo nuestro entorno de desarrollo podemos tomar el [Curso de Prework: Buenas Pr√°cticas y Entorno de Desarrollo](https://platzi.com/clases/prework/). Se explican los temas para todos los tipos de sistemas operativos, incluyendo Windows. üòâ

* **nicolas-garcia-puerta** (1)

	
	No me reconoce el comando gatsby develop y ya lo tengo agregado en el package.json
	
	¬øQue hago?

	* **joss_dz** (4)

		
		¬øPuedo ver tu repo?  
		Verifica lo siguiente:
		
		  * Tener instalado el cli de gatsby, en su defecto: `npm i -g gatsby-cli`
		  * verifica que tengas en tus scripts:
		
		
		``` 
		    "scripts": {
		    	"develop": "gatsby develop",
		    	"build": "gatsby build"
		    }
		    
		```

	* **nicolas-garcia-puerta** (4)

		
		Solucionado.
		
		En el video lo corriste antes de explicar que ya tenias instalado el CLI. Por eso me aparecia el command not found.
		
		Muchas Gracias

	* **edwintrumpet** (1)

		
		Si quiere usar el comando que agreg√≥ al `package.json` debe usar el comando `npm run develop`  
		Si usa directamente el comando `gatsby develop` est√° solicitando el comando gatsby desde una instalaci√≥n global en lugar de la instalaci√≥n local.

* **Miguel Sanchez** (1)

	
	Que tema pongo en visual studio para poder visualizar los iconos que est√°s usando

	* **joss_dz** (4)

		
		material icon theme üòÅ

* **Moises Qui√±ones Tineo** (1)
Hola a todos. Suelo tener siempre el mismo problema. Cuando intento instalar algo con npm, por ejemplo en este caso npm i -g gatsby-cli s...

	* **Juan David Castro (Platzi)** (1)

		
		No es un problema. Es completamente normal cuando instalamos paquetes de NPM globalmente. No tienes que preocuparte por eso. üòâ
		
		Aunque si no quieres tener que usar sudo puedes seguir algunos de estos tutoriales:
		
		üëâ <http://michaelb.org/the-right-way-to-do-global-npm-install-without-sudo/>  
		üëâ <https://github.com/sindresorhus/guides/blob/master/npm-global-without-sudo.md>  
		üëâ <https://medium.com/@samfeolu/install-your-npm-packages-globally-without-sudo-in-3-steps-d62c96a76b89>

# Fundamentos de Gatsby

## 0070. Presentaci√≥n y Estructura de Archivos de nuestro proyecto Platziswag

### Descripci√≥n:


### Boilerplate de nuestro proyecto

Vamos a clonar el repositorio de [github.com/Jossdz/Gatsby-platzi](https://github.com/Jossdz/Gatsby-platzi), de esta forma tendremos una estructura de archivos muy similar a la de `gatsby new`, pero esta vez con los estilos de nuestro proyecto listos:
``` 
    git clone https://github.com/Jossdz/Gatsby-platzi
    
```

### Archivos de configuraci√≥n de Gatsby

  * **`package.json`** : los paquetes, _scripts_ y la configuraci√≥n principal de cualquier proyecto con Node.js.
  * **`gatsby-config.js`** : configuramos la metadata (t√≠tulo, descripci√≥n y autor) y los plugins de Gatsby que usaremos para construir nuestra aplicaci√≥n.
  * **`gatsby-browser.js`** : una parte de nuestro c√≥digo se construye desde el servidor, en el build time, y otra parte muy importante en el navegador, cada vez que los usuarios entran a nuestra aplicaci√≥n. En este archivo podemos utilizar algunas APIs o m√©todos predefinidos para configurar el c√≥digo que debe ejecutarse en el navegador, por ejemplo, para a√±adir vistas, cargar librer√≠as o configurar un _store_ global para manejar el estado.
  * **`gatsby-node.js`** : configuramos todo lo que tiene que ver con la construcci√≥n de nuestro sitio web con Gatsby. Podemos generar vistas en funci√≥n de nuestra informaci√≥n proveniente de GraphQL, incluso utilizando APIs externas a nuestra aplicaci√≥n.
  * **`gatsby-ssr.js`** : configuramos lo que sucede en el build time para que nuestra aplicaci√≥n funcione correctamente en producci√≥n. Tiene el mismo fin que `gatsby-browser.js`, solo que este ser√° el c√≥digo que enviamos a producci√≥n.



El resto de archivos y carpetas contienen c√≥digo JavaScript (seguramente con React) y CSS.

### Links:

* [GitHub - Jossdz/Gatsby-platzi: Repositorio base del proyecto para el curso de gatsby en platzi.com](https://github.com/Jossdz/Gatsby-platzi)

### Comentarios:

* **Juan Antonio Avalos Orozco** (3)

	
	Por si les gusta mas ver git visualmente:  
	[GitHub Desktop](https://desktop.github.com/)

	* **Fabian Guerrero** (1)

		
		Honestamente he tenido algunos problemas con Github Desktop en mi experiencia profesional. Github Desktop se convierte en una soluci√≥n algo limitada a la hora de realizar operaciones mas complejas de manejo de Branches (como merges, ignorar y cosas asi); por ende te recomiendo usar Sourcetree, alli tu puedes usar los repositorios de cualquier soluci√≥n Git.
		
		Te dejo un sencillo video de youtube porque no pude subir una imagen para explicar lo sencillo que es
		
		[Tutorial Clonar Repo con SourceTree](https://www.youtube.com/watch?v=5K4gong_lA0)

* **David Behar** (2)

	
	Me fall√≥ la instalaci√≥n, el problema parece ser que es de instalaci√≥n sin permisos porque se arregl√≥ al borrar node-modules y instalar con la bandera [‚Äìunsafe-perm](https://geedew.com/What-does-unsafe-perm-in-npm-actually-do/)
	``` 
	    rm -rf node-modules
	    npm update
	    npm install --unsafe-perm
	    gatsby develop
	    
	```

* **zomars** (1)

	
	Alguien m√°s tiene este error?
	``` 
	    Errorin"/Users/zomars/Sites/Gatsby-platzi/node_modules/gatsby-plugin-manifest/gatsby-node.js": Cannot find module'gatsby/dist/utils/create-content-digest'
	    
	```

	* **zomars** (1)

		
		Al parecer mi error fue haber usado `yarn` para instalar las dependencias. Re-instalando con `npm i` fue mi soluci√≥n.

* **Alexis Ulises Barba P√©rez** (1)
Tuve un problema con el comando npm i relacionado con que uso deepin como SO. Lo solucione eliminando la carpeta node_nodules y ejecutando los comandos npm cache verify y npm i -g npm. Mi sugerencia es que ejecutes los comandos y actualices el repositorio y as√≠ los nuevos estudiantes no tengan el mismo problema

* **Ricardo Medina** (1)

	
	Muy bien gatsby, muy bien @Jossdz lo explicas de mandera sencilla y concisa.

* **johnaagudelo** (1)

	
	Excelente informaci√≥n, muy claro todo.

## 0080. Ecosistema de plugins

### Descripci√≥n:


Los plugins son c√≥digo de Gatsby que alguien m√°s de la comunidad escribi√≥ por nosotros para que podamos configurar nuestra aplicaci√≥n lo m√°s √°gil y r√°pido posible.

Los plugins pueden ayudarnos de 3 formas:

  * **`Plugins como Componentes`** : Cuando instalamos el plugin obtenemos un componente que debemos integrar a nuestra aplicaci√≥n para obtener alg√∫n beneficio.
  * **`Plugins como Funcionalidades`** : Nos ayudan a transformar informaci√≥n o implementar una funcionalidad en concreto. Por ejemplo: [gatsby-image](https://www.gatsbyjs.org/packages/gatsby-image) nos ayuda a crear nuevas versiones de nuestras im√°genes con menor calidad para mejorar la carga inicial de nuestro sitio web.
  * **`Plugins como Fuente de Datos`** : Estos plugins utilizan Node.js y GraphQL para consumir la informaci√≥n de alg√∫n lugar o herramienta como Firebase, WordPress, APIs Rest, entre otras.



### Comentarios:

* **darwinovalles** (6)

	
	Excelente curso, me gusta mucho como explica el profesor y de que se tiene en mente un proyecto final.

* **jacamachoc** (1)

	
	Gracias Joss, me esta ayudando mucho este curso, espero terminarlo y ponerlo en practica pronto.

## 0090. Usando React para manejar la parte visual e interactiva de nuestra aplicaci√≥n

### Descripci√≥n:


¬°No olvides instalar styled-components!
``` 
    npm install --save styled-components
    
```

Screen reader support enabled.

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Rol_de_react_en_gatsby](https://github.com/Jossdz/Gatsby-platzi/tree/Rol_de_react_en_gatsby)

### Comentarios:

* **Juan David Castro (Platzi)** (13)

	
	Este c√≥digo:
	``` 
	    export { defaultas X } from'...';
	    
	```
	
	Es equivalente a este otro:
	``` 
	    import X from'...';
	    
	    export { X };
	    
	```
	
	¬°Solo es un atajo! üò¨üòâ

	* **Georgie Duarte** (1)

		
		lo que no entiendo es porque es necesario en el archivo index, si cuando esta declarando el componente ya esta haciendo el export default

	* **Juan David Castro (Platzi)** (1)

		
		 **@GeoD** En este art√≠culo se explica muy bien: <https://medium.com/hackernoon/the-100-correct-way-to-structure-a-react-app-or-why-theres-no-such-thing-3ede534ef1ed>. üòâ

	* **David Behar** (2)

		
		Me agrad√≥ esa sintaxis

* **johnaagudelo** (2)

	
	El component SEO es del core de Gatsby?

	* **heysoypaez** (5)

		
		No, es un componente que configuras usando librerias como react-helmet con lo cual puedes modifcar el title, description y meta tags de tu p√°gina. Viene por defecto en algunas plantillas de gastby pero no es nativo.
		
		Te dejo documentaci√≥n:  
		<https://www.gatsbyjs.org/docs/add-seo-component/>[  
		](https://www.gatsbyjs.org/docs/add-seo-component/)

* **Cesar Galindo** (1)

	
	Si alguien le aparece este mensaje
	
	Error in ‚Äú/Users/home/Documents/Desarrollo/gatsby/Gatsby-platzi/node_modules/gatsby-plugin-manifest/gatsby-node.js‚Äù: Cannot find module ‚Äògatsby/dist/utils/create-content-digest‚Äô
	
	recomiendo eliminar el node_modules y package-lock y reinstalar, aunque seg√∫n Kyle (creador de Gatsby) es mejor utilizar yarn

* **Bernardo Ayala Montezuma** (1)

	
	¬øA alguien m√°s le pasa esto al ejecutar `gatsby develop`?:
	
	![2020-02-06 12_28_41-Window.png](https://static.platzi.com/media/user_upload/2020-02-06%2012_28_41-Window-8bd826a9-870d-496b-8761-d7404f8c806b.jpg)

	* **juand_silva** (1)

		
		Coloca el trace de la consola, al parecer no encuentra el componente Jumbo en el objeto IndexPage o te falta dependencias de React si es as√≠ debes ejecutar `$ npm i` o `yarn install`

	* **zomars** (1)

		
		Al parecer el `IndexPage` no tiene un export default.

* **Abdel Mejia** (1)

	
	Es optimo usar estilo por medio de js?

	* **johnaagudelo** (3)

		
		La ventaja de implementar el css por medio de js es que nos permite tener el css m√°s din√°mico, y generar componentes reutilizables.

* **Enzo Aliatis** (1)

	
	Este video deber√≠a estar en el 9

	* **Juan David Castro (Platzi)** (1)

		
		La clase ya est√° en la posici√≥n 9. ¬øTienes alg√∫n otro problema con el orden?

* **Josueth Acevedo** (1)
Hola, buen curso, La dependencia Style Component me dispara un error en la consola. Voy avanzar sin este plugin para ver que pasa.

	* **Juan David Castro (Platzi)** (1)

		
		¬øQu√© error te muestra? Puedes mostrarnos y te ayudamos a encontrar una soluci√≥n. üí™

# Creando la vista con React

## 0100. Router en Gatsby y Componente Link

### Descripci√≥n:


Gatsby nos facilita mucho la creaci√≥n de p√°ginas de nuestra aplicaci√≥n. Solo debemos crear un archivo en la carpeta `src/pages` con el nombre de la p√°gina y autom√°ticamente tendremos esa ruta disponible con el contenido del archivo.

Por ejemplo: Podremos ver contenido del archivo `src/pages/index.js` en la ruta `/` y el contenido del archivo `src/pages/about.js` en la ruta `/about`.

Adem√°s, Gatsby nos provee un componente `` para navegar entre nuestras p√°ginas. Funciona muy parecido a una etiqueta ``, pero al dar click no recargaremos la p√°gina ni haremos peticiones al servidor, en cambio, podremos visualizar inmediatamente el contenido de la p√°gina a la cual queremos navegar. Todo esto gracias a que Gatsby tiene todas las funcionalidades de una _Single Page Application_.

Recuerda que estas funcionalidades del componente `` solo funcionan en las p√°ginas de nuestras aplicaciones con Gatsby. No podemos usarlo para navegar a otras aplicaciones.

Para usar este componente solo debes importarlo desde:
``` 
    import { Link } from 'gatsby';
    
```

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Router_en_gatsby_link](https://github.com/Jossdz/Gatsby-platzi/tree/Router_en_gatsby_link)

### Comentarios:

* **Luis Arturo Lira Cerda** (4)

	
	Lo hice con la misma estructura que el de Gracias.  
	.  
	En la parte de los estilos agregu√© un margin de top y bottom de 15px al spam para que el bot√≥n no quedar√° encima del emoji.
	
	![Cancel.png](https://static.platzi.com/media/user_upload/Cancel-312114b8-85ea-4fc8-ae1f-0fad639b0d63.jpg)  
	.  
	Por cierto, estoy en Windows y si quieren usar emojis, les recomiendo la extensi√≥n de :emojisense:  
	.  
	Tambi√©n, algo que not√© al iniciar el proyecto es que el body manten√≠a el margen que viene por defecto. Para solucionarlo s√≥lo importe el archivo ‚Äòlayout.css‚Äô al componente de layout.
	``` 
	    import './layout.css'
	    
	```
	
	Lo pongo por si a alguien le pas√≥ tambi√©n, as√≠ lo solucion√©.

	* **joss_dz** (5)

		
		Contin√∫a con el curso üòÑ una vez que agreguemos un plugin llamado typography, todo toma forma y comienza a ser id√©ntico. por el reset de los estilos.

	* **Juan Antonio Avalos Orozco** (1)

		
		Excelente propuesta!!  
		Me diste ideas para Empty States üòÉ

* **Jorge Velasquez** (3)

	
	Para visualizar los emojis en windows ( presionar la tecla de windows mas la tecla de punto)

* **onlinejaime** (2)

	
	Alguien me puede decir por qu√© se ve mi app con bordes por todos lados??? Se necesita un reset.CSS o qu√©?? Copi√© directamente todo el proyecto tal cual se especific√≥ al principio de curso‚Ä¶
	
	![](![SwagPlatzi.JPG](https://static.platzi.com/media/user_upload/SwagPlatzi-f2ac07ff-5f64-4a16-bbc7-3db19afe4df7.jpg)

	* **Juan Antonio Avalos Orozco** (1)

		
		Mismo problema, del video pasado üòï

	* **Jhurgen Maraza** (5)

		
		Yo importe el layout.css dentro del layout.js y se me fueron todos esos bordes
		``` 
		    Import './layout.css
		    
		```

	* **Ernesto Vizca√≠no Alvarado** (1)
![Captura de Pantalla 2019-09-14 a la\(s\) 11.59.33 a. m..png](https://static.platzi.com/media/user_upload/Captura%20de%20Pantalla%202019-09-14%20a%20la%28s%29%2011.59.33%20a.%20m.-8d59da4e-05b7-4f5d-994e-2eeb27815d9f.jpg)

* **jorgejeal** (2)

	
	El Link de gatsby es el mismo de react router?

	* **joss_dz** (3)

		
		Es algo similar, pero gatsby internamente utiliza otro router llamado Reach Router

* **Cesar Octavio de Jes√∫s Meza Carrillo** (2)

	
	Aqui va mi resultado hasta el momento.
	
	![2019-07-16_16-57-39.jpg](https://static.platzi.com/media/user_upload/2019-07-16_16-57-39-31174823-1b2e-42ba-b031-43a20e2dee3d.jpg)

* **nicolas-garcia-puerta** (2)

	
	¬øComo puedo visualizar ese recuadro peque√±o de los emojis? ¬øComo se llama la extension?

	* **joss_dz** (4)

		
		No es una extensi√≥n üòÖ, es parte del SO de macos: `ctl + ‚åò + spacebar`

	* **jesusmurf** (1)

		
		Os recomiendo a ambos una app para Mac que se llama Rocket, te facilita todav√≠a mas la escritura de emojis üòä

* **Pablo Didone** (1)

	
	Hola, estoy teniendo este problema cuando ejecuto gatsby develop:
	
	Cannot find module ‚Äògatsby/dist/utils/create-content-digest‚Äô
	
	Alguna idea?
	
	Gracias

	* **Gabriel De Andrade (Platzi)** (1)

		
		Es lo √∫nico que aparece? Nos podr√≠as mostrar la consola? :D¬¥

	* **zomars** (1)

		
		A mi me sucedio ese error al instalar las dependencias con `yarn`. Al instalar con `npm i` se resolvio para mi,

* **Marcos Rissotto** (1)

	
	como podr√≠a redireccionar el sitio a https? Por default es http.  
	Gracias.

	* **Gabriel De Andrade (Platzi)** (2)

		
		Hola! En la etapa de desarrollo no es necesario, cuando se haga el Deploy de la app ver√°s como todo pasa a ser https üòÑ

* **Enzo Aliatis** (1)

	
	El video 9 deber√≠a ir en el 11 y asi bajar

* **darwinyusef** (1)

	
	No se debe configurar React Router?

	* **joss_dz** (6)

		
		No, Gatsby viene configurado ya con un router. ‚ô•Ô∏è  
		En espec√≠fico, reach router.

* **cquijind** (0)

	
	¬øEn windows como se visualiza el cuadro de los emojis?

	* **Juan David Castro (Platzi)** (3)

		
		Puedes usar esta extensi√≥n para VSCode: <https://marketplace.visualstudio.com/items?itemName=bierner.emojisense>. üòâ

	* **Jorge Velasquez** (3)

		
		Para visualizar los emojis en windows ( presionar la tecla de windows mas la tecla de punto)

## 0110. Layout en Gatsby

### Descripci√≥n:


Los Layouts son componentes que nos ayudan a presentar un mismo estilo visual en todas las p√°ginas de nuestra aplicaci√≥n. Envulelven el contenido de nuestra p√°gina para mostrar, adem√°s del contenido, otros componentes como el Men√∫, Footer, entre otros.  
‚Äã  
Por defecto, debemos importar nuestro componente Layout desde todos los archivos de nuestras p√°ginas, de otra forma solo veremos el contenido de la p√°gina sin los componentes que configuramos en el Layout.  
‚Äã  
Afortunadamente, Gatsby nos permite configurar componentes que envuelvan todas nuestras p√°ginas al momento de hacer render en el navegador. Para esto debemos configurar la opci√≥n `exports.wrapRootElement` del archivo `gatsby-browser.js`:  
‚Äã
``` 
    // gatsby-browser.js
    exports.wrapRootElement = ({ element }) => (
      <Layout>
        {element}
      </Layout>
    );
    
```

‚Äã  
¬°No olvides reiniciar tu servidor cuando actualices la configuraci√≥n!

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Layout_en_gatsby](https://github.com/Jossdz/Gatsby-platzi/tree/Layout_en_gatsby)

* [https://i.postimg.cc/6q3pg48v/Logo.png](https://i.postimg.cc/6q3pg48v/Logo.png)

* [https://i.postimg.cc/L6wpMxLt/cart.png](https://i.postimg.cc/L6wpMxLt/cart.png)

### Comentarios:

* **Juan Luis Rojas Le√≥n** (7)

	
	 _<https://i.postimg.cc/6q3pg48v/Logo.png>_  
	_<https://i.postimg.cc/L6wpMxLt/cart.png>_  
	‚ù§Ô∏è

* **Juan Antonio Avalos Orozco** (3)

	
	Para importar las imagenes, prueben:
	``` 
	    import logo from'../images/Logo.png'
	    import bolsa from'../images/cart.png'
	    
	    
	```
	
	Y ya solo las llaman asi:
	``` 
	    <imgsrc={logo}alt='logotipo' />
	    <imgsrc={carro}alt='cart icon' />
	    
	```

* **David Behar** (2)

	
	Ac√° la documentaci√≥n de [wrapRootElement](https://www.gatsbyjs.org/docs/browser-apis/#wrapRootElement)

* **Enzo Aliatis** (2)

	
	Si llegas hasta aqui, ve al video 10 luego 11 y regresa a este, el 9

	* **Juan Antonio Avalos Orozco** (2)

		
		#Heroe

* **Andres Roberto Coello Goyes** (1)

	
	no seria mas facil ponerle el Layout a gracias.js‚Ä¶ ??

	* **Luis Enrique Sanchez Pi√±erua** (2)

		
		Cuando usamos wrapRootElement lo que hacemos es poner en cada una de nuestras paginas el Layout, sin necesidad de plasmarlo en el codigo de cada pages. Cuando tenemos bastantes paginas (index, 404, gracias, cancelar compra, etc‚Ä¶) hacerlo con gatsby browser hace mas facil todo que poner el layout en cada page

* **jandrey** (1)

	
	Existe otra forma de importar images en Gatsby como en Next.js con /static/

* **Enzo Aliatis** (1)

	
	Parece ser que con la nueva version pasamos de wrapRootElement a wrapPageElement

	* **Juan David Castro (Platzi)** (1)

		
		Mira las respuestas a esta pregunta: <http://platzi.com/comentario/685820/>.

* **Matias Niz** (1)

	
	Crei que la api de gatsby tendria _document o _app como nextjs

* **Enzo Aliatis** (1)

	
	No estoy muy seguro del por que mi body aparece con margen ü§î

	* **joss_dz** (6)

		
		Es por que aun no configuramos typography que nos ayuda con el reset de css üòÑ no pasa nada

* **jose ortiz** (1)

	
	tengo un problema, al hacer la configuracion del gatsby-browser envia el layout a todas las paginas pero las envia sin estilos. üòï

	* **joss_dz** (2)

		
		¬øEst√°s seguro de que utilizas los componentes de styled-components ?  
		Nos compartes tu repo para revisar ? ‚ò∫Ô∏è

* **Yank Carlos Reyes Espinal** (1)
Cu√•les ser√≠an las concecuencias de usar Gatsby?

	* **Rob Arroyo** (2)

		
		¬øA qu√© te refieres exactamente? Se usa para tener un mejor rendimiento en sitios web y para mejorar tambi√©n el posicionamiento SEO. Como consecuencia, puedes tener un sitio m√°s r√°pido, m√°s seguro y mejor posicionado en internet.

* **Diego Ivan Padilla Bernal** (1)
¬øDiferencia entre wrapRootElement y wrapPageElement? Seg√∫n los ejemplos de la document...

	* **Juan David Castro (Platzi)** (1)

		
		¬°Hola! Aqu√≠ encuentras las diferencias:
		
		üëâ [wrapRootElement vs. wrapPageElement](https://markoskon.com/notes/wrap-root-element-vs-wrap-page-element/)  
		üëâ [Controlling the Gatsby Application Root](https://www.christopherbiscardi.com/post/controlling-the-gatsby-application-root/)  
		üëâ <https://github.com/gatsbyjs/gatsby/issues/10688>

* **Leo Islas** (0)

	
	igual se ve val pero igual para que futuros usos de img no se les llene el archivo importando n cantidad de imagenes creen este compoenente
	``` 
	    import React from 'react'
	    import { StaticQuery, graphql } from 'gatsby'
	    import Img from 'gatsby-image'
	    
	    // Note: You can change "images" to whatever you'd like.
	    
	    const Image = props => (
	      <StaticQuery
	        query={graphql`
	          query {
	            images: allFile {
	              edges {
	                node {
	                  relativePath
	                  name
	                  childImageSharp {
	                    fluid(maxWidth: 600) {
	                      ...GatsbyImageSharpFluid
	                    }
	                  }
	                }
	              }
	            }
	          }
	        `}
	        render={data => {
	          const image = data.images.edges.find(n => {
	            return n.node.relativePath.includes(props.filename)
	          });
	          if (!image) {
	            returnnull
	          }
	    
	          //const imageSizes = image.node.childImageSharp.sizes; sizes={imageSizes}
	          return <Img alt={props.alt} fluid={image.node.childImageSharp.fluid} />
	        }}
	      />
	    )
	    
	    exportdefault Image
	    
	    
	    
	```
	
	y despu√©s solo por prop mandan a llamar el nombre de la imagen
	``` 
	    <Imagefilename='nombredelaimagen.png'/>
	    
	```

# Graphql en Gatsby

## 0120. ¬øC√≥mo funciona GraphQL en Gatsby

### Descripci√≥n:


GraphQL es un lenguaje tipado que facilita la comunicaci√≥n entre servicios, pero los datos de nuestra aplicaci√≥n pueden venir de diferentes lugares, as√≠ que GraphQL no tiene forma de acceder a todos estos datos para que podamos consumirlos desde un mismo lugar.

Gatsby recolecta toda la informaci√≥n de nuestra aplicaci√≥n mientras desarrollamos en local y la almacena en un servidor de GraphQL. Luego, en la etapa de compilaci√≥n, justo antes de pasar a producci√≥n, Gatsby guardar√° los datos de GraphQL junto al c√≥digo, de esta forma los tendremos disponibles sin necesidad de hacer peticiones a las fuentes de datos originales.

### Links:

* [Curso B√°sico de GraphQL | Materiales](https://platzi.com/clases/graphql/)

### Comentarios:

* **darwinyusef** (2)

	
	Y que sucede en producci√≥n ?

	* **joss_dz** (4)

		
		El proceso de consumir la informaci√≥n del server de graphql sucede una sola vez en ‚ÄòCompilaci√≥n‚Äô y obtienes tu proyecto solo con archivos est√°ticos y la informaci√≥n renderizada. Por lo cual en producci√≥n ya tienes el app completa y funcional, no hay conexi√≥n a un servidor o base de datos.

* **steveng** (1)

	
	S√≠ el consumo es en desarrollo, qu√© sucede cuando se actualiza por ejemplo WordPress (API) y el sitio web con Gastby ya est√° en Producci√≥n?

	* **zomars** (1)

		
		Se puede hacer un webhook desde el server del API que le indique al server que est√° hospedando Gatsby cuando hay un cambio en el primero para que haga un nuevo build.

* **darwinyusef** (1)

	
	esa es la capa del backend hasta la transferencia? que beneficios tiene el usar gatsby y no directarmente con Apollo, o por ejemplo express-graphql?

	* **joss_dz** (3)

		
		La ventaja en realidad es que no te conectas en tiempo de ejecuci√≥n a ning√∫n servidor, todas las peticiones se hacen en ‚Äòcompilaci√≥n‚Äô por ende mejoras mucho la carga y tambi√©n la seguridad, ya que toda la info es tra√≠da al sitio en un entorno controlado.

* **Ybrahin Martinez** (1)
Si el proceso de consumir informaci√≥n sucede solamente una vez en tiempo de ‚Äúcompilaci√≥n‚Äù, ¬øc√≥mo se hace para consumir nuevamente informa...

	* **joss_dz** (2)

		
		Lo que puedes hacer es un webhook que dispare el build de tu sitio en gatsby cada que tu fuente de datos sea actualizada. En realidad no lo haces as√≠ nada m√°s en producci√≥n si no que necesitas construir de nuevo el sitio en gatsby. otra soluci√≥n ser√≠a usar rest o graphql pero eso ir√≠a en contra del principio de la seguridad de la cual hablo en las primeras clases üòÑ.

* **isaac78566** (0)

	
	¬øCon Gatsby puedo crear mutaciones con graphql?

## 0130. Accediendo a nuestros datos en Gatsby desde GraphQL

### Descripci√≥n:


Al iniciar nuestro servidor de desarrollo con Gatsby tambi√©n iniciamos un servidor de GraphQL que almacena todos los datos de nuestra aplicaci√≥n, incluyendo los datos que obtenemos por medio de los plugins.

Podemos visualizar todos estos datos y su documentaci√≥n entrando a: [`localhost:8000/__graphql`](localhost:8000/__graphql).

### Links:

* [GitHub - graphql/graphiql: An in-browser IDE for exploring GraphQL.](https://github.com/graphql/graphiql)

### Comentarios:

* **Juan David Castro (Platzi)** (10)

	
	üî• **Gatsby puede funcionar sin GraphQL** üî•
	
	  * üöÄ üëå Gu√≠a corta: <https://www.gatsbyjs.org/docs/using-gatsby-without-graphql>
	  * üòÇ üò≠ Historia super alargada pero muy divertida: <https://youtu.be/GLNpdJsUbpE>
	
	

	* **joss_dz** (2)

		
		Admiro un mont√≥n a Kitze, excelente aporte ü§òüèº

	* **capacita.ti** (2)

		
		gracias por el aporte, no conoc√≠a a Kitze. Ya me hice suscriptor de √©l XD.

	* **David Behar** (2)

		
		S√≠ fue divertida, jajaja

* **Enrique Devars (Platzi)** (9)

	
	A mi me gusta mucho mas usar playground para probar mis queries de graphQL. Si lo quieren usar en gatsby, en su package JSON agreguen este script:
	``` 
	    "develop": "GATSBY_GRAPHQL_IDE=playground gatsby develop",
	    
	```

* **Andres Roberto Coello Goyes** (1)

	
	¬øpor que hasta ahora no se ve el renderizado del HTML‚Ä¶?

## 0140. Queries, Edges (conexiones) y Nodos en Gatsby

### Descripci√≥n:


Al trabajar con plugins de fuente de datos debemos entender dos conceptos:

  * **`Edges`** : No podemos consumir la informaci√≥n de estos plugins de la misma forma que otras consultas de GraphQL. En estos casos, la propiedad `edges` nos hace referencia a la conexi√≥n entre estos plugins y el servidor de GraphQL.
  * **`Nodos`** : Son los elementos individuales de informaci√≥n que obtenemos al hacer una consulta con la propiedad `edges`.



Por ejemplo: Para conseguir la informaci√≥n del nuestras im√°genes (guardadas en la carpeta `src/images`) usamos el plugin [`gatsby-source-filesystem`](https://www.gatsbyjs.org/packages/gatsby-source-filesystem/).

En este caso podemos acceder a la informaci√≥n de nuestras im√°genes con la siguiente consulta de GraphQL:
``` 
    query {
      allFile {
        edges {
          node {
             name
             relativePath
          }
        }
      }
    }
    
```

Recuerda que la ruta que obtenemos con la propiedad `relativePath` es relativa a la propiedad `path` de nuestra configuraci√≥n del plugin `gatsby-source-filesystem` en el archivo `gatsby-config.js`.

Otro ejemplo: Podemos acceder a la metadata que configuramos en el archivo `gatsby-config.js` ejecutando la siguiente consulta en GraphQL:
``` 
    query {
      allSite {
        edges {
          node {
            siteMetadata {
              title
              description
              author
            }
          }
        }
      }
    }
    
```

### Links:

* [gatsby-source-filesystem](https://www.gatsbyjs.org/packages/gatsby-source-filesystem/)

### Comentarios:

* **Diego Ivan Padilla Bernal** (3)

	
	No entiendo la diferencia entre primero llamar por edges o hacerlo directo sin poner edges y usar nodes
	``` 
	    allFile {
	        nodes {
	          name,
	          relativePath
	        }
	      }
	    
	```
	
	¬øDiferencia entre el query escrito en el video y este query anterior?

	* **elianalopezv** (1)

		
		Tambi√©n me gustar√≠a saber. Yo creer√≠a que sin edges no funcionar√≠a cuando la conexi√≥n es a otro plugin de fuente de datos, como los que menciona (Firebase, wordpress, etc). En este caso podr√≠a funcionar por ser el mismo sistema de archivos local.

* **Enzo Aliatis** (2)

	
	Seg√∫n lo que he estudiado de Graphql, los edges y nodes, son parte de la paginaci√≥n que hace graphql, si estoy equivocado un gusto que me corrijan.

* **heysoypaez** (1)
¬øY es posible mandar informaci√≥n a mi fuente de datos en Gatsby? Por ejemplo insertar un registro a mi base de datos MongoDB con un POST ...

	* **Juan David Castro (Platzi)** (2)

		
		 **Noup. O sea, s√≠, pero no.**
		
		Todos los datos que ‚Äúguardes‚Äù en Gatsby son est√°ticos, no se pueden modificar. Si necesitas actualizar la informaci√≥n de una base de datos lo mejor es usar el m√©todo ‚Äútradicional‚Äù: comunicarte con una API y traer los datos desde all√≠.
		
		Si tus datos vienen de MongoDB pero cada vez que necesites actualizarlos puede generar un nuevo build de tu aplicaci√≥n, entonces super, puedes usar este plugin: <https://www.gatsbyjs.org/packages/gatsby-source-mongodb/>. üí™

## 0150. Consultas en GraphQL desde React

### Descripci√≥n:


En la clase anterior aprendimos c√≥mo consultar la informaci√≥n que nos proveen los plugins de fuente de datos desde GraphQL. Ahora, vamos a hacerlo desde nuestras vistas en React.

Debemos importar `graphql` desde `gatsby`:
``` 
    // src/pages/NuestroPage.js
    import { graphql } from 'gatsby';
    
```

Exportar nuestra consulta con el nombre de `query`:
``` 
    // src/pages/NuestroPage.js
    export const query = graphql`
      query NUESTRA_CONSULTA {
        # ...
      }
    `;
    
```

Y consumir la informaci√≥n de la propiedad `data` que obtenemos autom√°ticamente en el componente de nuestra p√°gina:
``` 
    // src/pages/NuestroPage.js
    export default function NuestroPage({ data }) {
      console.log(data.allSite.edges[0].node.siteMetadata);
    
      return /* ... */;
    }
    
```

Recuerda que solo podemos hacer estas consultas en los componentes p√°gina de nuestra aplicaci√≥n, es decir, solo desde los archivos dentro de `src/pages/`.

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Query_en_react](https://github.com/Jossdz/Gatsby-platzi/tree/Query_en_react)

### Comentarios:

* **Enzo Aliatis** (2)

	
	Si quisiera guardar un array, como datos, ¬øDonde lo guardar√≠a?  
	Por ejemplo para llenar los elementos de un navbar recorriendolo con un for  
	[‚ÄúHome‚Äù,‚ÄúBlog‚Äù,‚ÄúContact‚Äù]

* **Duvan Carvajal** (2)

	
	Tengo una duda ¬øTodos los querys que copie de GraphiQL los pego todos dentro de la misma constante query? o ¬ødefino mas constantes para pegar dentro los dem√°s querys?

	* **joss_dz** (4)

		
		Tienes que colocarlos todos dentro de la constante query, Gatsby busca en las p√°ginas esta constante/variable y sabe que debe ejecutar este query para inyectar el resultado en las props, esta es la raz√≥n del por que NO deber√≠as tener m√°s variables.
		
		Incluso esto est√° bien en Graphql por qu√© el nombre de los query puede ayudar a distinguir entre ellos.

* **pmaurig** (1)

	
	Es posible pasar variables como props para que un componente haga un query con ella?

	* **Alberto Camarena** (1)

		
		Si es posible, te recomiendo el curso de GraphQL en platzi donde ense√±an mas a fondo todo eso.

* **David Behar** (1)

	
	Para poder ver los querys formateados, necesitamos una extensi√≥n llamada [GraphQL](https://marketplace.visualstudio.com/items?itemName=Prisma.vscode-graphql), sino se ve gris feo.

* **jose ortiz** (1)

	
	tengo este error:
	
	GraphQL Error There was an error while compiling your site‚Äôs GraphQL queries.  
	Error: RelayParser: Encountered duplicate defintitions for one or more documents: each document must have a unique name. Duplicated documents:
	
	  * GET_DESCRIPTION
	
	
	
	si alguien sabe como solucionarlo podria ayudarme. ya intente cambiar los nombres pero ninguno esta duplicado como el error menciona.

	* **jose ortiz** (1)

		
		dejo mi [repo](https://github.com/jottache/platzi-gatsby) por si alguien puede ayudar

	* **joss_dz** (2)

		
		Este error es en Graphiql o en el cli del proyecto?

	* **jose ortiz** (1)

		
		asumo que debe ser en el cli, por que en grapiql me aparece la query perfectamente‚Ä¶ intente hacer la query desde otro archivo de la carpeta pages y me sale el mismo error‚Ä¶

	* **joss_dz** (2)

		
		Podr√≠as intentar no nombrar tu query ?
		
		Me refiero a poner `query { }` y no `query GET_DATA {}`

	* **jose ortiz** (2)

		
		ya lo hab√≠a intentado, si no le coloco nombre sale una especie de hash o un numero muy largo haciendo referencia al mismo error como si le hubiese puesto ese nombre.  
		algo como:  
		Duplicated documents:  
		asdjja823423nsdfn236wdfn239fnsdfn

* **Jean Carlos Nu√±ez Hernandez** (1)

	
	Esto es disruptivo esta parte de accesos con GraphQL

# Usando plugins en Gatsby

## 0160. Instalaci√≥n y configuraci√≥n de plugins

### Descripci√≥n:


Vamos a usar el plugin [`gatsby-plugin-typography`](https://www.gatsbyjs.org/packages/gatsby-plugin-typography) para manejar las fuentes de nuestro proyecto. Recuerda que este plugin nos ayuda a integrar la librer√≠a [Typography.js](https://kyleamathews.github.io/typography.js), por lo que debemos instalar el plugin y la librer√≠a base.

> **Dato curioso** : Esta librer√≠a fue creada por Kyle Mathews, uno de los creadores y desarrolladores de Gatsby.

Instalaci√≥n:
``` 
    npm install gatsby-plugin-typography react-typography typography
    
```

Configuraci√≥n:
``` 
    // gatsby-config.js
    module.exports = {
      siteMetadata: { /* ... */ },
      plugins: [
        /* ... */
        {
          resolve: `gatsby-plugin-typography`,
          options: {
            pathToConfigModule: `src/utils/typography`,
          },
        }
        /* ... */
      ],
    };
    
```
``` 
    // src/utils/typography.js
    import Typography from 'typography';
    
    const typography = new Typography({
      baseFontSize: "18px",
      baseLineHeight: 1.666,
      headerFontFamily: ["Lato", "Helvetica Neue", "Arial"],
      bodyFontFamily: ["Open Sans", "Roboto", "Georgia"],
    });
    
    export default typography;
    
```

Con esta configuraci√≥n asignamos tama√±os y fuentes personalizadas diferentes para nuestros elementos. Los estilos cambiar√°n dependiendo de d√≥nde est√©n: Todos los elementos dentro del `` usar√°n _Open Sans_ , pero los elementos del `` tendr√°n estilos diferentes y la fuente ser√° _Lato_.

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Instalacion_y_configuracion_de_plugins](https://github.com/Jossdz/Gatsby-platzi/tree/Instalacion_y_configuracion_de_plugins)

* [](https://www.gatsbyjs.org/plugins)

* [](https://www.gatsbyjs.org/packages/gatsby-plugin-typography)

* [https://kyleamathews.github.io/typography.js/](https://kyleamathews.github.io/typography.js/)

### Comentarios:

* **Nacxit** (2)

	
	Los plugins son herramientas de ayuda para el desarrollo de Gatsby no permite y facilita el entorno de trabajo‚Ä¶ Existen diversos plugins en gatsby‚Ä¶ son intalado por default por npm pero tambien son combatible con yarn

* **Miguel Ruiz Moreno** (2)

	
	¬øEs obligatorio para todos los strings usar template literals en el archivo gatsby-config.js?

	* **joss_dz** (4)

		
		Nope, no pasa nada si colocas strings con ‚Äô o "

* **Enzo Aliatis** (2)

	
	Creo que este video deb√≠o estar en el principio entre 9 y 10

	* **onlinejaime** (2)

		
		Enzo, estoy contigo. Creo que hay un desajuste total entre los v√≠deos y lo que se est√° dando en las clases‚Ä¶ Se deber√≠a haber explicado con anterioridad‚Ä¶

	* **Juan Antonio Avalos Orozco** (1)

		
		x2

* **darwinyusef** (2)

	
	como se puede descargar informaci√≥n de mysql con gatsby e incluirlo en graphql para luego importarlo en la vista?

	* **joss_dz** (2)

		
		No me he encontrado con la necesidad de hacerlo o en el escenario en particular, pero existe este plugin llamado [gatsby-source-mysql](https://www.gatsbyjs.org/packages/gatsby-source-mysql/). Configuras el plugin y en autom√°tico se incluye en graphql.

* **Carlos Silva** (2)
Excelente la explicaci√≥n de los como a√±adir un plugin y el ejemplo en este caso con Typography. Pero tengo una pregunta si uso este plugi...

	* **Ruben Padilla** (2)

		
		`Typography.js` trae por defecto `normalize.css`
		
		[Typography.js Docs](https://kyleamathews.github.io/typography.js/) üëà
		
		Para el caso de las fuentes, en la documentaci√≥n de Gatsby se recomienda eliminar las declaraciones de estilos para estas y as√≠ evitar conflictos con la configuraci√≥n de Typography.
		
		[Gatsby-Typography](https://www.gatsbyjs.org/docs/typography-js/) üëà

* **David Behar** (1)

	
	Me parece que las fuentes pintadas no son las que estamos requiriendo. Sobre todo la open Sans, es sans-serif, pero me parece que se est√° renderizando una serif que se parece m√°s a Times

* **Juan Antonio Avalos Orozco** (1)

	
	Los comandos de instalacion son iguales, por si te lo preguntabas. (Plugins y Docs). (y)

* **onlinejaime** (1)

	
	Todo esto est√° genial pero‚Ä¶ ¬øpara que salgan las fuentes que le hemos puesto? Porque s√≠ aparece cargado el typography pero las fuentes de la app no cambian‚Ä¶ ¬ø?  
	Aparte‚Ä¶ en mi Footer no hay espacios entre palabras‚Ä¶ ¬ø?  
	**¬øA qu√© se puede deber todo esto?**

	* **Leo Islas** (1)

		
		lo que pasa es que al instala Typography e indexarse en la parte de arriba del navegador se hace le efecto en cascada. entonces si hay css que modifiquen la font-family se modificaran por que se gerarquisa lo que yo hice es meterme al layout.css y quitarle todos los font-family precargados por Joss y ya funciono

* **jesusmurf** (1)

	
	De donde coge Typography las fuentes que va a usar? Donde estar√≠an almacenadas?

	* **joss_dz** (2)

		
		Las pide a Google fonts y las almacena por s√≠ solo.

## 0170. Im√°genes como fuente de datos

### Descripci√≥n:


### Comentarios:

* **pmaurig** (1)

	
	se puede hacer un query con props como variables? En este caso pasar√≠a el nombre de la imagen y dentro del componente hace el query para buscarla

## 0180. Plugins de transformaci√≥n

### Descripci√≥n:


 **`gatsby-transformer-sharp`** :

Se encarga de crear nuevas versiones de nuestras im√°genes con diferentes tama√±os, formatos (`.webp`, `.png`, entre otros) y calidad.

**`gatsby-image`** :

Utiliza la informaci√≥n de `gatsby-transformer-sharp` para cargar las versiones m√°s livianas de nuestras im√°genes (utilizando el tama√±o y formato que mejor se adapten al usuario) y luego cambiarlas por las versiones actualizadas de mejor calidad, todo esto con el fin de mejorar el tiempo de carga inicial de nuestra aplicaci√≥n.

Para usarlo solo debemos seguir los siguientes pasos:

Importar `StaticQuery` y `graphql` desde `gatsby`:
``` 
    // src/components/image.js
    import { StaticQuery, graphql } from 'gatsby';
    
```

Importar `Img` desde `gatsby-image`:
``` 
    // src/components/image.js
    import Img from 'gatsby-image';
    
```

Utilizar `graphql` para crear una consulta en la propiedad `query` de `StaticQuery` y consumir los datos desde la propiedad `render`:
``` 
    // src/components/image.js
    
    <StaticQuery
      query={graqhql`
        query GET_IMAGE {
          icon: file(relativePath: { eq: "icon.png" }) {
            childImageSharp {
              fluid(maxWidth: 1000) {
                ...GatsbyImageSharpFluid
              }
            }
          }
      `}
      render={data => {
        console.log(data);
    
        return <Img fluid={data[name].childImageSharp.fluid}/>;
      }}
    />
    
```

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Plugins_de_transformacion](https://github.com/Jossdz/Gatsby-platzi/tree/Plugins_de_transformacion)

### Comentarios:

* **CarlMateus** (7)

	
	Hay otra forma de traer las imagenes dependiendo del nombre que obtenga como propiedad el componente.
	``` 
	    import React from "react"
	    import { StaticQuery, graphql } from "gatsby"
	    import Img from "gatsby-image"
	    
	    const Image = ({ name }) => {
	    
	      return (
	        <StaticQuery
	          query={
	            graphql`
	            query {
	              allImageSharp {
	                edges {
	                  node {
	                    fluid(maxWidth: 500) {
	                      ...GatsbyImageSharpFluid
	                      originalName
	                    }
	                  }
	                }
	              }
	            }
	    
	          `
	          }
	    
	          render={data => {
	            const image = data.allImageSharp.edges.find(
	              edge => {
	                return edge.node.fluid.originalName === name
	              }
	            )
	    
	            if (!image) {
	              return null
	            }
	    
	            return <Img fluid={image.node.fluid} />
	          }}
	        />
	      )
	    }
	    
	    export default Image
	    
	```
	
	obtenemos las imagenes que tenemos en el proyecto y devolvemos la que estamos necesitando por propiedad para no tener que generar una query por cada imagen que se necesite, solo se llama el componente con el nombre de la imagen y ya.

	* **oscar** (1)

		
		es lo mismo solo que vas a estar llamando a todas las imagenes cada ves que se tenga que utilizar un componente Image‚Ä¶ pienso que es peor porque estas pidiendo todas las imagenes cada ves

	* **oscar** (1)

		
		aunque pensandolo bien eso ocurriria en el tiempo de construccion en el servidor asi que no habria mucho problema‚Ä¶ ando medio confundido jaja

	* **pmaurig** (1)

		
		Esto si anda correctamente! gran aporte! muchas gracias @CarlMateus

* **Juan David Castro (Platzi)** (7)

	
	Debemos usar el componente `StaticQuery` para hacer consultas en GraphQL desde cualquier archivo o componentes que no este en la carpeta `src/pages`.

	* **Jhon Alexander Perez Valencia** (1)

		
		(y)

	* **Juan Antonio Avalos Orozco** (1)

		
		üòÆ

* **Sandra Milena Rair√°n Pinilla** (6)

	
	Hola!!!  
	A los usuarios de Mac les muestra el error de la imagen **(33% Generating image thumbnails  
	ERROR)**. Lo solucione ejecutando este comando rm -rf node_modules y luego volver a instalar: npm install.  
	![ErrorThumbnailsImage.png](https://static.platzi.com/media/user_upload/ErrorThumbnailsImage-52c056db-8c49-4007-8b50-3ed61d6e5f70.jpg)

	* **Enrique Devars (Platzi)** (3)

		
		Luego Gatsby tiene problemas con eso, lo mejor a veces es borrar la carpeta de cache que genera Gatsby.

* **Enrique Devars (Platzi)** (5)

	
	Si quieren hacer un componente para cargar cualquier imagen de manera general, les dejo este componente.
	``` 
	    import React from'react';
	    import Img from'gatsby-image';
	    import { StaticQuery, graphql } from'gatsby';
	    
	    functionrenderImage(file) {
	      return <Img fluid={file.node.childImageSharp.fluid} />
	    }
	    
	    const MyImg = function (props) {
	      return <StaticQuery
	        query={graphql`
	          query {
	          images: allFile(filter:{ extension: { regex: "/jpeg|jpg|png|gif/"}}) {
	          edges {
	            node {
	              extension
	              relativePath
	              childImageSharp {
	                fluid(maxWidth: 1920) {
	                  ...GatsbyImageSharpFluid
	                }
	              }
	            }
	          }
	        }
	        }
	        `}
	        render={({ images }) => renderImage(images.edges.find(image => image.node.relativePath === props.src))}
	      />
	    }
	    export default MyImg;
	    
	```
	
	Para usarlo solo necesitan pasar como de prop la ruta relativa de su imagen.
	``` 
	    <MyImgsrc={relativePath} />
	    
	```

	* **pmaurig** (1)

		
		Est√° chequeado esto? como ir√≠a si en vez de pasar el path paso el originalName?

* **Juan Antonio Avalos Orozco** (2)

	
	Por cierto, si no te funciona el _ctrl + space_ , para ver las opciones en GraphiQL.  
	A mi me funciona usando **option + space**.

* **RBN1993** (2)

	
	A mi como usuario que la imagen tarde en cargar me da la sensaci√≥n de lentitud.  
	Y de momento las queries son horribles. Demasiada dot notation.  
	Espero que mejore luego.

	* **joss_dz** (4)

		
		Si, puede causar una sensaci√≥n extra√±a. Pero mejora much√≠simo el rendimiento de un sitio. Dependiendo de la red puede cargar m√°s r√°pido o m√°s lento. De igual manera puedes modificar el comportamiento para ofrecer una mejor experiencia como en el caso del [Blog de Kent C. Dodds](https://kentcdodds.com/blog/)

* **Cesar Galindo** (1)

	
	Estoy siguiendo con las instrucciones y me esta generando el siguiente error
	
	TypeError: Cannot read property ‚ÄòchildImageSharp‚Äô of undefined  
	render  
	src/components/image.js:19  
	16 | }  
	17 | }  
	18 | `}
	
	> 19 | render={data => <Img fluid={data[name].childImageSharp.fluid} />}  
	>  20 | />  
	>  21 | )  
	>  22 | }
	
	seg√∫n pude ver la forma cambio:  
	<https://www.gatsbyjs.org/tutorial/gatsby-image-tutorial/#image-fragments>
	
	pero no se como implementarlo

	* **capzzula** (2)

		
		Me daba el mismo error, hasta que encend√≠ que el error lo estaba generando yo, me olvide de enviarle la propiedad `name` al componente imagen y en min√∫scula.
		``` 
		    <Image name="icon" />
		    
		```
		
		De todas formas siempre es bueno poner tu c√≥digo, de manera que nos ayuda para entender mejor el error que te genera.

	* **Cesar Galindo** (1)

		
		Muchas gracias, buen hombre revice muchas veces el codigo y no encontraba el error. y totalmente alienados deberia haber colocado el repo

* **David Behar** (1)

	
	A alguien m√°s le pasa que el query no funciona?
	``` 
	    <StaticQuery
	      query={graphql`
	        query GET_IMAGE {
	          icon: file(relativePath: { eq: "icon.png" }) {
	            childImageSharp {
	              fluid(maxWidth: 1000) {
	                ...GatsbyImageSharpFluid
	              }
	            }
	          }
	      `}
	      render={data => {
	        console.log(data);
	    
	        return<Imgfluid={data[name].childImageSharp.fluid}/>;
	      }}
	    />
	    
	```
	
	Output
	``` 
	    - Unknown field 'fluid' on type 'ImageSharp'. 
	          file: /Users/behar/git/platzi/frontend/gatsby/Gatsby-platzi/src/components/image.js
	    
	```

* **Jhon Alexander Perez Valencia** (1)
segun entendi si necesito 10 imagenes tengo que crear 10 componentes de imagen 

	* **joss_dz** (4)

		
		Es un solo componente Image, lo que necesitas es el Query de graphql para cada imagen dentro del componente. ‚ò∫Ô∏è

## 0190. Estilizando nuestros componentes con styled-components

### Descripci√≥n:


Styled Components es una herramienta que nos ayuda a usar lo mejor de CSS en JavaScript y React.

Para usar esta herramienta solo debes seguir los siguientes pasos:

  1. Instalar `styled-components`:


``` 
    npm install --save styled-components
    
```

  2. Importar `styled` desde `styled-components`:


``` 
    import styled from 'styled-components';
    
```

  3. Crear un componente estilizado siguiendo la sintaxis de styled components (`styled.etiquetaDeHTML`):


``` 
    const Button = styled.button`
      /* Estilos CSS para nuestro bot√≥n */
    `;
    
```

  4. Podemos configurar las propiedades de CSS usando las props de todos nuestros componentes en React:


``` 
    const Button = styled.button`
      /* Estilos CSS para nuestro bot√≥n */
    
      color: ${props => props.color || 'black'};
    `;
    
```

  5. Tambi√©n podemos escribir los estilos usando variables o funciones de JavaScript:


``` 
    const colors = {
      green: '#98ca3f',
      orange: '#f8b7c1',
    };
    
    function GetColor(color) {
      return colors[color];
    }
    
    const Button = styled.button`
      /* Estilos CSS para nuestro bot√≥n */
    
      color: ${colors.green};
      background-color: ${GetColor('green')};
    `;
    
```

  6. Tambi√©n podemos configurar estilos con selectores anidados:


``` 
    const Button = styled.button`
      /* Estilos CSS para nuestro bot√≥n */
    
      color: ${props => props.color || 'black'};
    
      &:hover {
          /* Estilos CSS para nuestro bot√≥n cuando hacemos hover */
      }
    `;
    
```

  7. Finalmente, podemos usar nuestros componentes estilizados como cualquier otro componente en React:


``` 
    const IndexPage = props => (
      {/* ... */}
    
      <Button color="gray">¬°Comprar!</Button>
    
      {/* ... */}
    );
    
```

### Links:

* [styled-components](https://www.styled-components.com/)

### Comentarios:

* **jenapi** (3)

	
	Styled comoponents se parece demasido, por su forma de escribirse, a Sass

* **onlinejaime** (2)

	
	** * ** ‚Äî> Asterisco  
	** # ** ‚Äî> Almohadilla, gato, numeral, n√∫mero, etc‚Ä¶

* **Giovanny Javier Montalvo Cepeda** (2)

	
	Hola, una duda en cuanto al editor‚Ä¶ que fuente usas? y el color de tema?

	* **joss_dz** (6)

		
		Normalmente uso ‚ÄúDank mono‚Äù + un [tema propio](https://marketplace.visualstudio.com/items?itemName=jossdz.ironhack-theme).
		
		Pero tambi√©n te recomiendo [Victor mono](https://rubjo.github.io/victor-mono/) para la fuente.
		
		Temas me gustan:
		
		  * Palenight (este es el que uso en el curso)
		  * lucy
		  * panda
		
		

* **heysoypaez** (2)
¬øQu√© plugin usas para que te autocomplete las librerias disponibles en tu proyecto?

	* **Juan David Castro (Platzi)** (1)

		
		Es una de las funcionalidades que **Visual Studio Code** trae por defecto (aunque tambi√©n se pueden mejorar con plugins). Se llama **IntelliSense** : <https://code.visualstudio.com/docs/editor/intellisense>. üòâ

* **juand_silva** (1)

	
	En d√≥nde se ense√±a a colocar esos **media queries** en el min 6:48 de esa forma, en la documentaci√≥n de Styled-Components?

* **jas486** (1)

	
	hola! Que plugin usas para que te autocomplete dentro de  
	comillas invertidas

	* **Gabriel De Andrade (Platzi)** (1)

		
		[vscode-styled-components](https://marketplace.visualstudio.com/items?itemName=jpoissonnier.vscode-styled-components) üòÑ

* **jas486** (1)

	
	hola! Que plugin usas para que te autocomplete dentro de ``

* **Dobleve Tres** (1)

	
	Cuales son los plugins que usas para template literals y para ver los colores y el style asi con un preview?

	* **Leo Islas** (2)

		
		<https://marketplace.visualstudio.com/items?itemName=jpoissonnier.vscode-styled-components>
		
		ese es el plugin que instale para que me sea mas funcional el usar los styled-components los colores depende de el editor

	* **juand_silva** (1)

		
		Para el Highlight de los colores  
		<https://marketplace.visualstudio.com/items?itemName=naumovs.color-highlight>

## 0200. Estilos Globales con styled-components

### Descripci√≥n:


Al estilizar componentes con Styled Components estamos definiendo estilos √∫nicamente de los componentes creados con `styled`, no al resto de nuestra aplicaci√≥n (a pesar de que trabajemos con otras etiquetas HTML iguales a las que definimos en los componentes estilizados con `styled`):
``` 
    const StyledButton = styled.button`
      color: red;
    `;
    
    const App = () => (
      <>
        <StyledButton>
          El color de este boton es RED
        StyledButton>
    
        <button>Este bot√≥n no tiene estilosbutton>
    
        <button className="boton-color-violeta">
          Este bot√≥n tampoco tiene estilos
        button>
      
    );
    
```

Sin embargo, Styled Components tambi√©n nos permite crear estilos globales: Estilos que podemos aplicar a todas las clases o etiquetas HTML de la aplicaci√≥n.

  1. Importa `createGlobalStyle` de `styled-components`:


``` 
    import { createGlobalStyle } from 'styled-components';
    
```

  2. Crea un nuevo componente con los estilos globales de tu aplicaci√≥n usando `createGlobalStyle`:


``` 
    export const GlobalStyles = createGlobalStyle`
      button {
        color: green:
      }
    
      button.boton-color-violeta {
        color: purple;
      }
    `;
    
```

  3. Envuelve toda tu aplicaci√≥n en el componente de estilos globales:


``` 
    const App = () => (
      <>
        
    
          
            El color de este boton es RED
          
    
          Este bot√≥n tiene estilos: Es de color verde
    
          
            Este bot√≥n tambi√©n tiene estilos: Es de color violeta
          
      
    );
    
```

  4. Puedes usar el componente con estilos globales como parte de tu layout:


``` 
    // gatsby-browser.js
    const GlobalStyles = require('src/styles');
    
    exports.wrapRootElement = ({ element }) => (
      <>
        
        
          {element}
        
      
    );
    
```

### Links:

* [GitHub - Jossdz/Gatsby-platzi at styled_components_globales](https://github.com/Jossdz/Gatsby-platzi/tree/styled_components_globales)

### Comentarios:

* **Favio N√°quira** (2)
Disculpa la pregunta pero, ¬øes lo mismo <> que <Fragment>? Yo utilizaba esta √∫ltima forma porque es la de la documentaci√≥n, ...

	* **joss_dz** (5)

		
		En efecto
		``` 
		    <>
		    	...
		    </>
		    
		```
		
		es la notaci√≥n corta de:
		``` 
		    <React.Fragment>
		    	...
		    </React.Fragment>
		    
		```

* **onlinejaime** (1)
Hola a todos, no entiendo un par de cosas. He seguido tus v√≠deos desde el principio y, a estas alturas, todav√≠a no me cargan las tipograf...

	* **joss_dz** (2)

		
		¬øYa llegaste al apartado donde configuramos typography y el layout con la api de gatsby ?

# Stripe checkout

## 0210. Introducci√≥n a la API de Stripe Checkout

### Descripci√≥n:


La [API de Stripe Checkout](https://stripe.com/docs/payments/checkout) nos ayudar√° a alojar, gestionar y procesar los pagos de nuestros productos:

  1. Crea una cuenta en [dashboard.stripe.com/register](http://dashboard.stripe.com/register).
  2. Elije la opci√≥n de ‚ÄúUsar la API de Stripe‚Äù.
  3. Confirma tu correo e inicia sesi√≥n.
  4. Crea tus llaves privadas en la secci√≥n de ‚ÄúConsigue tus claves de prueba de API‚Äù.
  5. Guarda tus llaves en el archivo `.env.development`. Recuerda que no debes publicar este archivo en ninguna parte, nisiquiera en GitHub. Puedes a√±adirlo a tu lista de archivos ignorados en `.gitignore` para asegurarte de nunca a√±adirlo a tus commits.
  6. Habilita la opci√≥n de Checkout desde `Aplicaciones de Stripe > Configuraci√≥n de Checkout > Habilitado/Deshabilitado`.
  7. Termina la configuraci√≥n de tu cuenta en [dashboard.stripe.com/account](http://dashboard.stripe.com/account).  
Screen reader support enabled.



### Links:

* [Checkout Overview | Stripe Checkout](https://stripe.com/docs/payments/checkout)

### Comentarios:

* **Camilo Rivera Quintero** (5)

	
	Una buena opci√≥n por si quieren montar tienda en serio. <https://payouts.payoneer.com>, y viven el sub-desarrollo como yo.

* **Camilo Rivera Quintero** (2)

	
	Mi platanero no aparece en la opciones jajaja

* **Fabi√°n Nava Pereda** (2)

	
	[Stripe Global](https://stripe.com/global)

* **wilarizav** (2)

	
	Stripe se puede usar en colombia?

	* **Fabi√°n Nava Pereda** (3)

		
		[<https://stripe.com/global>](Pa√≠ses de Stripe)  
		La soluci√≥n es crear una Empresa en Estados Unidos con Stripe Atlas para tener una cuenta bancaria de USA y poder user Stripe

	* **Diego Alexander Forero Higuera (Platzi)** (3)

		
		Como lo menciona Fabi√°n debes tener una cuenta en USA para poder retirar los fondos de Stripe, lo que si tiene Stripe es que puedes cobrar en moneda local y Stripe hace la conversi√≥n autom√°tica a dolares.

## 0220. Agregando productos a nuestra tienda en l√≠nea

### Descripci√≥n:


Para usar Stripe desde nuestra aplicaci√≥n con gatsby necesitamos instalar los siguientes plugins:
``` 
    npm i gatsby-source-stripe gatsby-plugin-stripe
    
```

Adem√°s, la librer√≠a `dotenv` nos permitir√° acceder a nuestras variables de entorno para usar a las llaves privadas de Stripe:
``` 
    npm i dotenv
    
```

Luego de esto debemos a√±adir los plugins al archivo `gatsby-config.js`:
``` 
    // gatsby-config.js
    require('dotnev').config({
      path: `.env.${process.env.NODE_ENV}`,
    });
    
    module.exports = {
      siteMetadata: { /* ... */ },
      plugins: [
        /* ... */
        `gatsby-plugin-stripe`,
        {
          resolve: `gatsby-source-stripe`,
          options: {
            objects: [`Sku`],
            secretKey: process.env.STRIPE_SK,
          },
        }
        /* ... */
      ],
    };
    
```

De esta forma tendremos disponibles los productos de Stripe desde el servidor de GraphQL en Gatsby:
``` 
    # localhost:8000/__graphql
    
    query {
      allStripeSku {
        edges {
          node {
            id
            price
            product {
              name
              metadata {
                description
                wear
                img
              }
            }
          }
        }
      }
    }
    
```

### Links:

* [https://i.postimg.cc/QCwhz4L2/mug.png](https://i.postimg.cc/QCwhz4L2/mug.png)

* [https://i.postimg.cc/6qyBYsPV/pin.png](https://i.postimg.cc/6qyBYsPV/pin.png)

* [https://i.postimg.cc/VNWsNWMt/stickers1.png](https://i.postimg.cc/VNWsNWMt/stickers1.png)

* [https://i.postimg.cc/dVMJmxjd/stickers2.png](https://i.postimg.cc/dVMJmxjd/stickers2.png)

* [https://i.postimg.cc/s2rDyNBy/camiseta.png](https://i.postimg.cc/s2rDyNBy/camiseta.png)

* [https://i.postimg.cc/xTB1pCnX/hoodie.png](https://i.postimg.cc/xTB1pCnX/hoodie.png)

* [](https://www.gatsbyjs.org/packages/gatsby-source-stripe/)

* [](https://www.gatsbyjs.org/packages/gatsby-plugin-stripe/)

### Comentarios:

* **Juan David Castro (Platzi)** (6)

	
	_¬°C√≥mo me gustar√≠a que existiera una tienda de Stickers de Platzi!_
	
	_Todas mis quincenas se ir√≠an all√°._
	
	Como no existe hay que estudiar mucho para aprobar las carreras üí™üöÄ

* **Luis Arturo Lira Cerda** (3)

	
	Esta parte me pareci√≥ bastante interesante. El curso me est√° gustando mucho.  
	.  
	Al ser la primera vez que estoy haciendo algo con GatsbyJS a√∫n no comprendo del todo el flujo de desarrollo de una aplicaci√≥n de este tipo, para que pueda iniciar un proyecto yo solo.

	* **Juan David Castro (Platzi)** (2)

		
		¬øTienes alguna pregunta? ¬øHay algo que quieras construir pero no sabes c√≥mo?
		
		¬°SI los dejas por aqu√≠ entre todxs podemos buscar la mejor soluci√≥n! üí™

	* **joss_dz** (3)

		
		¬øC√≥mo podemos ayudarte a aclarar el flujo?  
		¬øAlguna parte en particular que te genere esta inquietud?

	* **Juan Antonio Avalos Orozco** (1)

		
		En caso que no tengas de background el Curso de React, React Router y GraphQL, hacerlos te ayuda a estar mas contextualizado. üòÉ

* **jose ortiz** (2)

	
	tuve problemas con el archivo .env, nisiquiera me salia el icono al crearlo. para resolverlo lo que hice fue hacerlo un archivo de js
	``` 
	    .env.development.js
	    
	```
	
	y en las config de gatsby lo llame de igual forma:
	``` 
	    require('dotenv').config({
	      path: `.env.${process.env.NODE_ENV}.js` 
	    })
	    
	```
	
	espero les funcione igual si tienen el mismo error que yo üòÉ

	* **Juan Antonio Avalos Orozco** (2)

		
		A mi no me paso, despues de
		``` 
		    npm i dotenv
		    
		```
		
		Todo bien.

	* **jandrey** (1)

		
		Creo que el problema es el require esta mal escrito el profesor coloco require(‚Äòdotnev‚Äô).
		``` 
		    require('dotenv').config({
		      path: `.env.${process.env.NODE_ENV}`
		    })
		    
		```

* **juand_silva** (1)

	
	Existe alg√∫n plugin de gatsby como alternativa a Stripe?

* **Jorge Velasquez** (1)

	
	Alguien me puede ayudar con este error que no me permite avanzar.  
	![Imagen1.png](https://static.platzi.com/media/user_upload/Imagen1-1f6751b6-f1fa-4432-aee8-b2db3b77f8b4.jpg)

	* **Jorge Velasquez** (2)

		
		Ya lo solucione, tenia un error en las llaves üëç

## 0230. Productos en React

### Descripci√≥n:


### Links:

* [GitHub - Jossdz/Gatsby-platzi at Productos_en_react](https://github.com/Jossdz/Gatsby-platzi/tree/Productos_en_react)

### Comentarios:

* **Duvan Carvajal** (5)

	
	Este curso me esta encantando. aunque es todo un reto para mi porque no domino Node y Graphql es nuevo para mi. aun as√≠ lo he disfrutado mucho y he aprendido con cada error que he logrado corregir.  
	üòÑ

	* **joss_dz** (4)

		
		A m√≠ me parece Gatsby una excelente tecnolog√≠a para incursionar en Graphql, Node quiz√° no puesto que si necesitas nociones intermedias de Node para comprender que est√° pasando y c√≥mo hacer ciertas cosas. Pero me encanta que haya gente como t√∫ aventur√°ndose al mundo de Graphql con esta tecnolog√≠a. Siempre la recomiendo para explorar Graphql sin configurarlo.

* **Juan Luis Rojas Le√≥n** (4)

	```
	    query {
	      allStripeSku {
	        edges {
	          node {
	            id
	            price
	            product {
	              name
	              metadata {
	                description
	                img
	                wear
	              }
	            }
	          }
	        }
	      }
	    }
	    
	```

* **onlinejaime** (3)

	
	Bufff‚Ä¶ Al final, **con esfuerzo** , conseguido:
	
	![Captura.JPG](https://static.platzi.com/media/user_upload/Captura-68682127-ed30-4eca-a437-ac6356327ffa.jpg)

* **Juan David Castro (Platzi)** (2)

	
	Ya que usamos Gatsby‚Ä¶  
	**¬øDebemos hacer build cada vez que cambiamos la informaci√≥n de los productos?** üò±ü§î

	* **joss_dz** (4)

		
		Si algo cambia dentro de tu configuraci√≥n del proyecto (gatsby-config, gatsby-ssr, gatsby-node) o agregas alg√∫n campo en la informaci√≥n que recibes de alg√∫n plugin de fuente de datos, la respuesta es si.

	* **Geordano Polanco Rodr√≠guez** (1)

		
		Est√° claro que si cambias la configuraci√≥n debes de regenerar el proyecto.
		
		Pero cada vez que la fuente de datos cambie tengo que hacerlo? Si creo un nuevo post en mi blog por ejemplo.

	* **steveng** (1)

		
		me sumo a esta inquietud @joss_dz  
		Gracias!

* **Juan Antonio Avalos Orozco** (1)

	
	Hay que ignorar el comentario de cambiar el nombre del archivo a **Product.js** , al menos hasta este punto.

* **Juan Antonio Avalos Orozco** (1)

	
	Algo paso por aqui. Se llama 'Product.js' o 'Products.js', finalmente? :/

# Generando p√°ginas program√°ticamente

## 0240. Creando p√°ginas en funci√≥n de los datos

### Descripci√≥n:


El m√©todo `createPages` de `gatsby-node.js` nos ayuda a crear p√°ginas sin necesidad de crear un archivo por cada una de ellas en la carpeta `src/pages`.

En este caso, vamos a generar una p√°gina por cada uno de los productos que guardamos en Stripe:
``` 
    // gatsby-node.js
    const path = require("path")
    
    exports.createPages = async ({ graphql, actions }) => {
      const { createPage } = actions;
      const productTemplate = path.resolve(`src/templates/Product.js`);
      const result = await graphql(`
        query GET_SKUS {
          allStripeSku {
            edges {
              node {
                id
                price
                product {
                  name
                  metadata {
                    description
                    img
                    wear
                  }
                }
              }
            }
          }
        }
      `);
    
      if (result.errors) throw result.errors;
    
      result.data.allStripeSku.edges.forEach(({ node }) => {
        createPage({
          path: `${node.id}`,
          component: productTemplate,
        });
      });
    }
    
```

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Paginas_en_funcion_de_los_datos](https://github.com/Jossdz/Gatsby-platzi/tree/Paginas_en_funcion_de_los_datos)

* [Programmatically create pages from data | GatsbyJS](https://www.gatsbyjs.org/tutorial/part-seven/)

* [Page Creation | GatsbyJS](https://www.gatsbyjs.org/docs/page-creation/)

### Comentarios:

* **alejagalo** (2)

	
	al intentar compilar me sale este error  
	error There was an error compiling the html.js component for the  
	development server.  
	![error.png](https://static.platzi.com/media/user_upload/error-5c4f231b-7f7d-4eb5-83c5-5812dcb3dc84.jpg)

	* **onlinejaime** (2)

		
		Dif√≠cil saber de d√≥nde sale el error si no se tiene el c√≥digo, pero s√≠ que est√° clara una cosa‚Ä¶ Si te pone que hay algo raro con el ‚Äòiterable object‚Äô (objeto de la iteraci√≥n), seguramente haya un error en el mismo forEach() del ejemplo de la clase, o muy cerca de √©l. Espero que lo hayas solucionado.

* **Wilson Fabian P√©rez Sucuzha√±ay** (2)

	
	Porqu√©? deber√≠amos hacer una p√°gina por cada producto¬ø? si podr√≠as tener una p√°gina productDetails donde le pasamos el SKU y nos bajamos los datos de ese mismo?

	* **joss_dz** (4)

		
		En realidad lo hacemos as√≠, cuando traemos todos los productos a la vista de inicio (cat√°logo), en donde en realidad no necesitamos todos los detalles de los productos y lo m√°s que necesitamos es el nombre, precio y foto. Esa es una de las ventajas de graphql. Ahora, el por que querr√≠amos una p√°gina por cada producto y poor que lo hacemos de esta manera es por que cuando gatsby carga el proyecto o lo genera para producci√≥n es donde trae toda la informaci√≥n, aqu√≠ tambi√©n creamos p√°ginas con programadas para que est√©n disponibles como vistas del proyecto, esto sucede incluso antes de cargar la informaci√≥n del cat√°logo. Todo gira en torno a graphql y traemos la informaci√≥n en ambos lados por que ya se nos provee y es una manera de centralizarla.

	* **Diego Alexander Forero Higuera (Platzi)** (4)

		
		El funcionamiento de gatsby busca generar el contenido est√°tico para que la carga del sitio sea m√°s r√°pida ya que hace la consulta al momento de ejecutar la consulta y con esto ya tienes la informaci√≥n y el sitio carga m√°s r√°pido.

	* **Juan Antonio Avalos Orozco** (1)

		
		Lo mismo pense. Habra que leer mas al respecto. Supongo buenas practias de arquitectura por usar GraphQL

* **Fabian Siatama** (1)

	
	Cual es la diferencia entre createPage y createNode?

	* **Juan David Castro (Platzi)** (2)

		
		Aqu√≠ la encuentras: <https://www.gatsbyjs.org/docs/node-apis/#onCreateNode>.

* **Enzo Aliatis** (1)

	
	¬øPregunta, si tengo 1000 productos, gatsby va a crear 1000 p√°ginas?  
	¬øEsto no afecta el rendimiento de la p√°gina?  
	¬øNo vendr√≠a a ser mejor pasar el id del producto por par√°metro, que un componente lea el id, se lo pida por graphql y muestre los datos del producto?

	* **onlinejaime** (3)

		
		Al contrario‚Ä¶ por lo que yo entiendo de la API, si tienes 1000 productos (y tuvieras que hacer sus respectivas 1000 ‚Äòpages‚Äô en la carpeta por cada uno de ellos o de alguna manera renderizar cada una de ellas a partir de componentes ya creados) mejor que se genere autom√°ticamente cada p√°gina cuando se haga click en el producto que se elija. Esto simplifica al m√°ximo y optimiza la web.

* **Andr√©s Mauricio Montoya S√°nchez** (1)

	
	Por qu√© configurar una p√°gina en `gatsby-node.js`, gatsby no es capas de detectar cuando una p√°gina recibe un parametro? Por ejemplo, en node.js defino un archivo `[id].js` el cual es capaz de recibir el id que se esta enviando.

	* **joss_dz** (2)

		
		Lo que quieres hacer es pasar route params ? [Esto te puede servir](https://stackoverflow.com/questions/51988998/how-to-create-routes-with-params-in-gatsbyjs) üòÑ

* **Jhon Alexander Perez Valencia** (1)
que pasa cuando agrego una nuevo producto a Stripe si ya tengo el sitio desplegado, toca volver a hacer build y deploy???

	* **Diego Alexander Forero Higuera (Platzi)** (3)

		
		Si, es necesario hacer build nuevamente y desplegar el sitio nuevamente.

## 0250. Manejo de Gatsby Templates

### Descripci√≥n:


En la clase anterior configuramos `gatsby-node.js`para generar una p√°gina por cada producto de nuestra tienda, ahora las p√°ginas existen, pero no tienen los estilos ni muestran la informaci√≥n que necesitamos.

En esta clase vamos a configurar los Gatsby Templates: los componentes que renderizamos cuando Gatsby construye las p√°ginas autogeneradas.

### Links:

* [GitHub - Jossdz/Gatsby-platzi at Gatsby_templates](https://github.com/Jossdz/Gatsby-platzi/tree/Gatsby_templates)

### Comentarios:

* **onlinejaime** (4)

	
	En casi todos los cursos de PLATZI nos indican (repetidas veces) que se tiene que seguir una norma con las may√∫sculas y el camelCase para los archivos, sobre todo por el hecho de ser coherente y constante‚Ä¶ Pues en el curso ya van como 3 veces que el profe no es constante con eso.  
	El problema no es el profe (que tambi√©n). El problema es que surgen errores en nuestras compilaciones que luego no encontramos el porqu√© y perdemos mucho rato entendiendo que ha sido por este tema.  
	Por favor, cuando graben un curso d√≠ganle al profesor que ‚Äòsea constante‚Äô con la normativa que elija y emplee hasta el final‚Ä¶  
	Por favor.

* **onlinejaime** (2)

	
	Adem√°s, los estilos que presenta el profe al final de este v√≠deo no se corresponden para nada con lo que se ve finalmente en nuestro proyecto‚Ä¶ y as√≠ vamos desde el principio‚Ä¶ Arreglen esto por favor!!!

	* **Juan Antonio Avalos Orozco** (2)

		
		Agregar a la clase los archivos nuevos o modificados, tambien suele ayudar mucho. Es una buena area de mejora para este curso.

* **Juan Antonio Avalos Orozco** (1)

	
	Por que `product: { name, metadata }` siguio funcionando aun sin editar las referencias dentro de la funcion? (ej. name)

	* **GuillermoLoza** (1)

		
		Supongo que des-estructuramos el objeto product que recibimos
		``` 
		    product {
		    	name
		    	metadata
		    }
		    
		```
		
		Con :
		``` 
		    product: { name, metadata },
		    
		```
		
		Lo que nos entrega dentro de nuestro return name y metadata como props

## 0260. Terminando la Vista de Detalle de los Productos

### Descripci√≥n:


### Links:

* [GitHub - Jossdz/Gatsby-platzi at vista_detalle](https://github.com/Jossdz/Gatsby-platzi/tree/vista_detalle)

### Comentarios:

* **Juan Luis Rojas Le√≥n** (5)

	
	Stars:  
	‚òÖ  
	‚òÜ  
	‚≠ê

	* **onlinejaime** (1)

		
		No me funciona lo de las estrellas‚Ä¶ ¬ø?

	* **Juan Antonio Avalos Orozco** (2)

		
		Si no te funciono fue por no elegir el emoji correcto:  
		Debe ser este: ‚òÖ

	* **onlinejaime** (2)

		
		 **Gracias** compa√±ero pero sigue sin funcionar‚Ä¶ He probado de todo y no lo consigo. Creo que implementar√© el rate de Element UI para React y ya est√°.

* **onlinejaime** (2)

	
	No funciona import { SelectStars } from ‚Äò‚Ä¶/styles/components‚Äô en windows. Las estrellas no se modifican‚Ä¶  
	La verdad, deber√≠an comentar al principio del curso si se va a usar Windows o Linux o Mac‚Ä¶ hay un mundo en este tema por lo que se ve y a cada v√≠deo es desesperante y frustrante ver que todo sale mal. Aparte de la p√©rdida de tiempo que esto provoca.  
	En serio, ¬øcu√°nto m√°s caro es hacer un curso donde el profe (o un experto en la materia) aplique los cambios pertinentes en uno u otro SO?  
	De verdad, empec√© este curso con ganas porque era uno de mis objetivos poder usar gatsby de esta manera y est√° acabando con mi paciencia.

	* **onlinejaime** (1)

		
		A ver, haciendo algunos cambios‚Ä¶ Funcionar, funciona‚Ä¶ Pero tengo que hacer click sobre la estrella de al lado para que cambie la que quiero‚Ä¶ ¬øSe entiende? Si clico sobre una, cambia la de al lado‚Ä¶ ¬ø?

* **jhon manuel angulo moncada** (1)

	
	copiar y pegar jejeje‚Ä¶ ‚òÖ ‚òÖ ‚òÖ

	* **Ren√©  corona vald√©s** (1)

		
		Gracias, no encontraba el glyph

* **Dobleve Tres** (1)

	
	Para los que tienen problemas con las estrellas en Windows es por un tema de encoding, les recomiendo que copien y peguen el src directamente:  
	<https://raw.githubusercontent.com/Jossdz/Gatsby-platzi/vista_detalle/src/components/Stars.js>
	
	y funciona.
	
	Slds.-

* **Enzo Aliatis** (1)

	
	Una duda sobre react hooks, donde configuras el estado de stars y la funci√≥n setStars?

	* **aragonesteban (Platzi)** (4)

		
		Hola Enzo!  
		En el minuto _2:00_ puedes ver la declaraci√≥n e inicializaci√≥n de `stars` y `setStars`, el estado inicial de `stars` es **5** el cual pones en el `useState`.

* **Duvan Carvajal** (1)

	
	No entend√≠ muy bien el reto ¬øAlguien me podr√≠a explicar?

	* **joss_dz** (3)

		
		Dentro de Stripe para los elementos que son prendas coloca en la metadata una propiedad de color y en funci√≥n de la respuesta pon un elemento que te diga de que color es la prenda üòÑ

## 0270. StaticQuery vs. useStaticQuery

### Descripci√≥n:


 **Diferencias entre consultas a GraphQL desde p√°ginas, con`StaticQuery` o `useStaticQuery`:**

Las p√°ginas de Gatsby (los archivos de la carpeta `src/pages`) nos permiten hacer consultas a GraphQL. Debemos exportar la propiedad `query` con el esquema de nuestra consulta y esto nos permitir√° recibir los datos como props en el componente que exportamos en esa misma p√°gina.

Por ejemplo:
``` 
    export const query = graphql`
      query GET_DATA {
        # ...
      }
    `
    
    export default ({ data }) => {
      console.log(data);
    
      return /* ... */;
    }
    
```

Pero esta sintaxis solo funciona en las p√°ginas de Gatsby. Si necesitamos hacer consultas desde alg√∫n otro componente de nuestra aplicaci√≥n podemos usar el componente `StaticQuery`.

Solo debemos escribir la consulta en la propiedad `query` para recibir la informaci√≥n desde la propiedad `render`:
``` 
    <StaticQuery
      query={graqhql`
        query {
          # ...
      `}
      render={data => {
        console.log(data);
        return <AnyOtherComponent data={data} />;
      }}
    />
    
```

Tambi√©n podemos usar el hook `useStaticQuery`: funciona igual que StaticQuery pero nos permite usar la sintaxis de los hooks:
``` 
    const data = useStaticQuery(
      graphql`
        query {
          # ...
        }
      `
    )
    
```

### Links:

* [GitHub - Jossdz/Gatsby-platzi at useStaticQuery](https://github.com/Jossdz/Gatsby-platzi/tree/useStaticQuery)

* [Context ‚Äì React](https://es.reactjs.org/docs/context.html)

### Comentarios:

* **RBN1993** (4)

	
	Si todo esto es est√°tico,¬øC√≥mo se puede usar Graphql din√°micamente? @joss_dz

	* **Elias Ojeda Medina** (2)

		
		Misma duda, quiero conectarlo a un API, con conexi√≥n en tiempo real

	* **RBN1993** (1)

		
		Hasta hoy sin respuesta. Si das con c√≥mo hacerlo av√≠same =)

	* **Anthony Farias** (1)

		
		La parte de mostrar el listado de productos NO es est√°tica. Si agregas productos en stripe se van a mostrar en tu listado sin hacer mas c√≥digo. Ahora bien, para conetarte a una custom API tienes que usar un plugin, en este caso puedes usar:  
		<https://www.gatsbyjs.org/packages/gatsby-source-custom-api>  
		Y asi puedes usar otros plugins para conectarte a diferentes APIs, por ejemplo shopify.

	* **RBN1993** (1)

		
		Lo s√©, pero la pregunta es c√≥mo usar Graphql din√°micamente, sin necesidad de tener que volver a escribir c√≥digo, consultas o usar otras APIs, que no es lo que se busca.

	* **Anthony Farias** (2)

		
		Tengo que corregir. Hice la prueba y es est√°tico. Si agregas mas productos en stripe el sitio en producci√≥n no los refleja, tendr√≠as que hacer otro build. Porque en producci√≥n ya no se usa GraphQL, la pagina se construye durante el build con los datos disponibles y en producci√≥n los sirve en archivos json. Pero si se puede traer contenido de forma dinamica. Solo que este contenido no vendr√° precargado sino que lo renderiza como lo hace react normalmente.  
		<https://www.gatsbyjs.org/docs/data-fetching/>
		
		Seg√∫n lo anterior para usar graphQL dinamicamente, creo que deber√≠as usar una implementaci√≥n manual con alg√∫n cliente como apollo. Yo creo que Gatsby est√° muy orientado a paginas est√°ticas que funcionen muy r√°pido. Para contenido din√°mico como t√∫ lo planteas creo que es mejor utilizar Next.js

	* **RBN1993** (2)

		
		Eso es lo que he le√≠do, una pena que no se pueda usar as√≠.  
		Gracias por el aporte.

	* **Carlos Andres Florez G Garcia Garcia** (2)

		
		Puedes consultar en documentaci√≥n, tenia la misma duda para hacer contenido din√°mico y me encontr√© con esto.  
		<https://www.gatsbyjs.org/docs/routing/>  
		Se usa @reach/router  
		Una lastima que el profesor no hable sobre estos temas.

	* **zomars** (1)

		
		Si lo que quieres es que cuando agregar un producto en stripe (o en cualquier otra API) se vea reflejado en el sitio, tienes que configurar un webhook desde Stripe para que haga un nuevo build de gatsby cada que agregas/edites un producto.
		
		Mas info:
		
		  * <https://stripe.com/docs/api/events/types#event_types-product.created>
		
		

## 0280. Construyendo el Carrito de Compras useContext

### Descripci√≥n:


React Context nos ayuda a crear un estado global, una forma de compartir el estado de nuestra aplicaci√≥n entre todos los componentes, sin importar en qu√© lugar se encuentren y sin necesidad de pasar y pasar props.

Adem√°s, `useContext` nos permite usar todas las caracter√≠sticas de `React.Context` con la sintaxis de los hooks. En este caso, vamos a usar todas estas herramientas para construir nuestro carrito de compras.

  1. Crear el contexto:


``` 
    // context.js
    import React, { createContext, useState } from 'react';
    
    export const CartContext = createContext();
    
    export const CartProvider = ({ children }) => {
      const [cart, setCart] = useState([]);
    
      const addToCart = element => {
        setCart([ ...cart, element ]);
      }
    
      return (
        <CartContext.Provider value={{ cart, addToCart }}>
          {children}
        </CartContext.Provider>
      );
    
    }
    
    
```

  2. Encerrar toda nuestra aplicaci√≥n (o las partes donde queremos compartir el estado) en el componente `<Provider>`:


``` 
    // gatsby-browser.js
    
    exports.wrapRootElement = ({ element }) => (
      <CartProvider>
        <GlobalStyles />
        <GlobalStyles>{element}</GlobalStyles>
      </CartProvider>
    );
    
```

  3. Consumir el Contexto desde cualquier componente:


``` 
    const { cart } = useContext(CartContext);
    
```

### Links:

* [GitHub - Jossdz/Gatsby-platzi at carrito_de_compras_useContext](https://github.com/Jossdz/Gatsby-platzi/tree/carrito_de_compras_useContext)

### Comentarios:

* **Juan David Castro (Platzi)** (4)

	
	  * üöÄüêô [How to use React Context effectively - Kent C. Dodds](https://kentcdodds.com/blog/how-to-use-react-context-effectively)
	
	

* **Favio N√°quira** (3)
Dios mio, esta era la explicaci√≥n sencilla que necesitabamos para dejar Redux xD Muchas gracias!!!

	* **darwinyusef** (1)

		
		En este caso redux deja de usarse, es posible usar redux en gatsby para aplicaciones grandes, y si los datos cambian todo el tiempo entonces que se puede hacer?

	* **Favio N√°quira** (2)

		
		No creo que se deje de usar, sino que ya para varias aplicaciones sencillas no ser√° necesario contar con toda la estructura de reducers y actions.  
		Para algunos proyectos complejos si ser√° a√∫n necesario.

	* **Juan David Castro (Platzi)** (1)

		
		Si solo usabas Redux para manejar un estado global, lo estabas usando mal‚Ä¶ üòÖ
		
		üëâ <https://platzi.com/blog/redux-no-esta-muerto/>

* **johnaagudelo** (1)

	
	muy buena clase!!

* **Wilson Marino Pablo Mendez** (1)

	
	Buena clase!

* **Juan Antonio Avalos Orozco** (1)

	
	ü§ØPara que sirve Context?

	* **Camilo Rivera Quintero** (2)

		
		Para acceder al estado desde cualquier componente.

	* **Juan David Castro (Platzi)** (1)

		
		üòâ Mira esta gu√≠a: <https://platzi.com/blog/redux-no-esta-muerto/>.

## 0290. Construyendo el Carrito de Compras Vista

### Descripci√≥n:


### Links:

* [GitHub - Jossdz/Gatsby-platzi at carrito_de_compras_vista](https://github.com/Jossdz/Gatsby-platzi/tree/carrito_de_compras_vista)

### Comentarios:

* **Juan Antonio Avalos Orozco** (3)

	
	> components/Cart.js
	``` 
	    import React, { useContext } from'react'
	    import { Link } from'gatsby'
	    import { Button, StyledCart } from'../styles/components'
	    import { priceFormat } from'../utils/priceFormat'
	    import { CartContext } from'../context'
	    
	    exportdefaultfunctionCart() {
	        const { cart } = useContext(CartContext)
	        return (
	            <StyledCart>
	                <h2>Carrito de compras</h2>
	                <table>
	                    <tbody>
	                        <tr>
	                            <th>Producto</th>
	                            <th>Precio</th>
	                            <th>Cantidad</th>
	                            <th>Total</th>
	                        </tr>
	                        {cart.map(swag => (
	                            <trkey={swag.sku}>
	                                <td><imgsrc={swag.metadata.image}alt={swag.name} /> {swag.name}</td>
	                                <td>USD {priceFormat(swag.price)}</td>
	                                <td>{swag.quantity}</td>
	                                <td>{priceFormat(swag.quantity * swag.price)}</td>
	                            </tr>
	                        ))}
	                    </tbody>
	                </table>
	                <nav>
	                    <div>
	                        <h3>Subtotal: </h3>
	                        <small>Total</small>
	                    </div>
	                    <div>
	                        <Linkto='/'>
	                            <Buttontype='outline'>Volver</Button>
	                        </Link>
	                        <Button>Comprar</Button>
	                    </div>
	                </nav>
	            </StyledCart>
	        )
	    }
	    
	```

* **Juan Antonio Avalos Orozco** (3)

	
	Seria buena idea deshabilitar los pop-ups de documentaci√≥n durante los videos, para que no tapen el c√≥digo en varias ocasiones.

* **jonatan88** (1)
Error en la etiqueta Small, dice TypeError: Object(‚Ä¶) is not a function al cargar la compra o el carrito

## 0300. Construyendo el Carrito de Compras Agregar productos al carrito

### Descripci√≥n:


### Links:

* [GitHub - Jossdz/Gatsby-platzi at Agregar_productos_carrito](https://github.com/Jossdz/Gatsby-platzi/tree/Agregar_productos_carrito)

### Comentarios:

* **Wilson Fabian P√©rez Sucuzha√±ay** (2)

	
	A alguien mas le paso que si regresa al HOME y vuelves a la sudadera y pulsa agregar dar error del SKU ?

	* **joss_dz** (5)

		
		Si, esto sucede por agregar m√°s elementos del mismo tipo, a stripe no le funciona as√≠. Te toca hacer una condici√≥n sencilla donde si ya tienes un elemento de este tipo, no lo agregu√©, si no que sume la cantidad nueva a la cantidad existente. üòÅ

* **Juan Antonio Avalos Orozco** (1)

	
	Que es useEffect.

	* **Juan David Castro (Platzi)** (1)

		
		Mira esta lectura: <https://platzi.com/clases/1651-react-ejs/22668-lectura-react-hooks/>.

	* **Leo Islas** (1)

		
		es el hoock que sustituye de alguna manera al compoentedidmount y componentwildmount de react <https://es.reactjs.org/docs/hooks-effect.html> checate la diferencia y los casos de uso

## 0310. Comprando productos

### Descripci√≥n:


Vamos a usar `React.useEffect` para ejecutar Stripe al momento que carga nuestra p√°gina en el navegador. Solo debemos ejecutar esta funci√≥n una vez, as√≠ que el segundo argumento de `useEffect` debe ser un array vac√≠o:
``` 
    // cart
    const [stripe, setStripe] = useState();
    
    useEffect(() => {
      setStripe(window.Stripe(
        process.env.STRIPE_PK,
        { betas: ['checkout_beta_4'] },
      ));
    }, []);
    
```

De esta forma podemos configurar nuestro bot√≥n de compra para que env√≠e al usuario al formulario de pago de Stripe:
``` 
    const handleSubmit = asynv e => {
      e.preventDefault();
    
      const { error } = await stripe.redirectToCheckout({
        items: cart.map(({ .sku, quantity }) => ({ sku, quantity })),
        successUrl: process.env.SUCCESS_REDIRECT,
        canelUrl: process.env.CANCEL_REDIRECT,
      });
    
      if (error) throw error;
    }
    
    /* ... */
    
    <Button onClick={handleSubmit}>Comprar</Button>
    
```

Screen reader support enabled.

### Links:

* [GitHub - Jossdz/Gatsby-platzi at comprando_productos](https://github.com/Jossdz/Gatsby-platzi/tree/comprando_productos)

* [Referencia de la API de los Hooks ‚Äì React](https://es.reactjs.org/docs/hooks-reference.html#useeffect)

### Comentarios:

* **RBN1993** (4)

	
	Para manejadores (o cualquier tipo de funci√≥n) dentro de tu componente deber√≠as usar useCallback. Si no por cada render que realice tu componente, por el motivo que sea, se volver√°n a reconstruir esas funciones.

* **Juan Antonio Avalos Orozco** (1)

	
	Al presionar Comprar, no pasa nada.  
	Y sale en consola:
	
	> (index):1 Uncaught (in promise) IntegrationError: Invalid value for stripe.redirectToCheckout: items.0.sku should be a string. You specified items.0.sku as undefined.

	* **Jhurgen Maraza** (4)

		
		A mi me pasaba lo mismo pero era por una mala definici√≥n del objeto en ProductDetail  
		Me qued√≥ as√≠
		``` 
		    export defaultfunction ProductDetail({price, id, product:{name, metadata}}) {
		    
		```
		
		y
		``` 
		    const handleSubmit = ()=>{
		            addToCart({price, sku: id, name, metadata, quantity: qty})
		        }
		    
		```
		
		y
		``` 
		    const {error}  = await stripe.redirectToCheckout({items: cart.map(({sku, quantity})=> ({sku, quantity})),
		    
		```

* **nicolas-garcia-puerta** (1)

	
	Me sale el siguiente error ->  
	"IntegrationError: stripe.redirectToCheckout: You must provide successUrl and cancelUrl. "  
	¬øQue hago?
	
	Ya revise el .env y todo parece estar bien

	* **nicolas-garcia-puerta** (2)

		
		SUCCESS_REDIRECT='<http://localhost:8000/finalMessage>‚Äô  
		CANCEL_REDIRECT=‚Äò<http://localhost:8000/cancelationMessage>‚Äô
		
		las dos rutas funcionan si yo entro directamente a ellas. Con console log me doy cuenta que console.log(process.env.SUCCESS_REDIRECT)=http://localhost:8000/cancelationMessage y console.log(process.env.CANCEL_REDIRECT)=undefined.¬øCual puede ser el error?

	* **joss_dz** (2)

		
		Verifica tu archivo .env, revisa que no tengas alg√∫n tipo de error.  
		¬ø Nos puedes compartir tu repo para ver si hay algo extra ?

	* **Tonalli L√≥pez** (3)

		
		Asegurate de que escribiste bien la referencia de las variables, a mi me salio el mismo error y era por eso

# Gatsby a producci√≥n

## 0320. Gatsby build para compilar nuestro proyecto

### Descripci√≥n:


Vamos a compilar nuestro proyecto de Gatsby para generar un sitio est√°tico que podamos mandar a producci√≥n:
``` 
    npm run build
    # Tambi√©n:
    gatsby build
    
```

Recuerda que debes crear un nuevo archivo llamado `.env.production` para la configuraci√≥n real de tus productos en Stripe (de otra forma, los usuarios solo podr√°n hacer compras ficticias).

Tambi√©n debemos a√±adir la configuraci√≥n del archivo `gatsby-browser.js` a `gatsby-ssr.js`:
``` 
    const React = require("react");
    const Layout = require("./src/components/layout").default;
    const { GlobalStyles } = require("./src/styles");
    const { CartProvider } = require("./src/context");
    
    exports.wrapRootElement = ({ element }) => (
      <CartProvider>
        <GlobalStyles />
        <Layout>{element}</Layout>
      </CartProvider>
    );
    
```

Por √∫ltimo, vamos a usar el plugin `gatsby-plugin-styled-components` para que nuestra aplicaci√≥n tenga sus estilos al compilar el c√≥digo de React.js:
``` 
    // gatsby-config.js
    plugins: [
      `gatsby-plugin-styled-components`,
      /* ... */
    ],
    
```

### Links:

* [GitHub - Jossdz/Gatsby-platzi at gatsby_ssr](https://github.com/Jossdz/Gatsby-platzi/tree/gatsby_ssr)

### Comentarios:

* **jhon manuel angulo moncada** (4)

	
	si quieres ahorrar tiempo copia y pega el gatsby-browser.js

	* **steveng** (1)

		
		Adicional a eso, agregar el plugin
		``` 
		    `gatsby-plugin-styled-components`
		    
		```
		
		De esta manera lo hecho con styled components podra funcionar en producci√≥n.

## 0330. Deploy a Netlify

### Descripci√≥n:


[Netlify](http://netlify.com) es un servicio que nos permite hacer deploy de nuestras aplicaciones est√°ticas de forma muy sencilla y r√°pida. Solo debemos arrastrar la carpeta `public` (que Gatsby gener√≥ al momento de compilar) y cambiar la url del proyecto para que sea m√°s f√°cil de recordar.

No olvides publicar tu versi√≥n del proyecto en la secci√≥n de discuciones utilizando la siguiente convenci√≥n:
``` 
    https://platziswag-username.netlify.com
    
```

De esta forma hemos terminado el Curso de Desarrollo de Aplicciones con Gatsby JS. No olvides resolver los ejercicios, completar el examen, darle 5 estrellas al profesor y compartir tu proyecto, notas, todas tus dudas y comentarios en la secci√≥n de discusiones.

Puedes continuar tu ruta de aprendizaje con los siguientes cursos:

  * [Curso de React.js](https://platzi.com/clases/react/)
  * [Curso de React Avanzado](https://platzi.com/clases/react-avanzado/)
  * [Curso de Progressive Web Apps con React.js](https://platzi.com/clases/pwa-react-js/)
  * [Curso de React Router](https://platzi.com/clases/react-router/)
  * [Carrera de Desarrollo de Apps con React Native](https://platzi.com/react-native/)



### Links:

* [
  
    Netlify: All-in-one platform for automating modern web projects.
  
](http://netlify.com)

* [Curso B√°sico de GraphQL](https://platzi.com/cursos/graphql/)

### Comentarios:

* **Fabian Siatama** (5)

	
	Muy buen curso, lo he puesto en practica para un emprendimiento y asi va quedando [metegol](https://www.metegol.app/)

* **Pablo Didone** (3)

	
	Muy buen curso y muy bien el profesor. Solo tengo una duda, en caso de cargar mas productos en Shopify se debe hacer un nuevo deploy?

* **Duvan Carvajal** (3)

	
	Ya me he enamorado de Gatsby, gracias a los plugins puedo hacer casi cualquier cosa con mi aplicaci√≥n.  
	Muchas gracias profe Joss y mil gracias Platzi.
	
	Y ya saben, #NuncaParenDeAprender.

* **Luis Arturo Lira Cerda** (3)

	
	Me pareci√≥ bastante interesante el curso. Gracias por compartir tu conocimiento. De igual manera, buscar√© c√≥mo crear algo propio con Gatsby.  
	Vi que la p√°gina de PokeAPI est√° hecha con Gatsby, tal vez intente hacer algo parecido ya que yo tambi√©n estoy haciendo un API p√∫blica por hobby y parece ser buena opci√≥n para practicar.

	* **Juan David Castro (Platzi)** (1)

		
		El ejemplo que m√°s me impresion√≥ fue la Documentaci√≥n Oficial de React.js, pero tambi√©n hay muchos otros ejemplos importantes como el [Blog personal de Dan Abramov (overreacted.io)](https://overreacted.io/) o la [P√°gina web de Kent C. Dodds](https://kentcdodds.com/).
		
		üëâ [¬°Crea tu propio Blog con React, Gatsby y Markdown!](https://platzi.com/blog/construye-tu-blog-con-react-gatsby-markdown/)

	* **joss_dz** (3)

		
		Me encanta que te haya gustado y te sea de utilidad.  
		Hay muchas ventajas y muchos sitios ya est√°n construidos con gatsby por sus ventajas incre√≠bles: velocidad de carga, velocidad de desarrollo, tecnolog√≠as modernas, bajo coste en alojamiento y seguridad puesto que tu sitio no se conecta directamente con un servicio en tiempo de ejecuci√≥n.
		
		As√≠ los sitios son buenos, r√°pidos, bar√°tos y seguros.
		
		Te recomiendo iniciar el sitio de tu api y poco a poco agregar contenido y plugins. Gatsby es un framework progresivo por lo cual no necesitas empezar un proyecto enorme, empieza con algo simple que te permita repasar los conceptos y ve haciendo crecer tu sitio contigo. ü§òüèº

	* **isabellaahc** (1)

		
		Pas√© la url de mi deploy por un checker de SEO pero no me aparece ninguna etiqueta y es el motivo principal por el cual quiero implementar Gatsby, se necesita una configuraci√≥n especial?

* **Sandra Milena Rair√°n Pinilla** (2)

	
	Genial este curso!!! Estoy haciendo mi portafolio con Gatsby para entender todos los conceptos y practicar!! Felicitaciones por este curso tan espectacular!!!

* **juand_silva** (1)

	
	Muy buen curso, lo que me impresion√≥ fue los plugins para SEO. De verdad que hoy en d√≠a esto es m√°s que relevante a la hora de hacer un sitio WEB.

* **Jorge Daniel Pat Navarro** (1)

	
	Estuvo muy bueno el curso! üòÑ

* **jhon manuel angulo moncada** (1)

	
	üòÇ

* **Carlos Andres Villegas G** (1)

	
	Muy buen curso!

* **Ricardo Medina** (1)

	
	Gracias por el curso!!

* **Wilson Marino Pablo Mendez** (1)

	
	Excelente curso!!

* **Jorge Velasquez** (1)

	
	Excelente curso y excelent√≠simo Teacher, muy bien explicado cada uno de los temas, esta herramienta me pareci√≥ fant√°stica para crear sitios incre√≠bles. Gracias por compartir tus conocimientos, muchos √©xitos

* **nicolas-garcia-puerta** (1)

	
	Excelente curso!!  
	Muy buena disposicion del profesor para resolver nuestras dudas

* **Alejandra Iza** (1)
he desplegado un blog en amplify y utilizo axios para hacer los request, tungo un problema y es que cuando haga algun request en producci...

	* **joss_dz** (2)

		
		Probablemente amplify, tienes el c√≥digo a la mano?

