[Curso Avanzado de Flutter 1603](https://platzi.com/cursos/flutter-avanzado)

# Arquitectura de Aplicaciones [4055]

## 0010. Bienvenida [20217](https://platzi.com/clases/1603-flutter-avanzado/20217-bienvenida/)

### Descripci√≥n:


### Links:

* [Curso de Flutter](https://platzi.com/cursos/flutter/)

### Comentarios:

* **Wigilabs S.A.S** (5) [621398](https://platzi.com/comentario/621398/) 
Te amo Anah√≠ ü§ìüôà

* **melendez-kevin** (3) [888510](https://platzi.com/comentario/888510/) 

	Ojala en todos los cursos mostraran el proyecto final, a mi en lo personal me motiva mucho desde el inicio.

* **DanielEvokando** (3) [600069](https://platzi.com/comentario/600069/) 

	El curso m√°s esperado!

* **Everson Vidal Mamani Huayta** (3) [600065](https://platzi.com/comentario/600065/) 

	Listo a empezar a estudiar‚Ä¶

* **jlquichimbo** (2) [780323](https://platzi.com/comentario/780323/) 

	Excelente!  
	Muchas gracias por continuar el curso. Ahora consumiremos datos de APIs?  
	Tengo un servidor montado con Django. Puedo generar los esquemas de datos en json para consumirlos desde mobile?  
	Gracias Anah√≠.

* **jesus-olivares661** (2) [647677](https://platzi.com/comentario/647677/) 

	Acabo de terminar el de dart y el basico de flutter.  
	Ser√° que comiendo con este de una vez √≥ practico un poco mas de flutter basico‚Ä¶?

* **Carlos Andr√©s Millan Satizabal** (2) [610813](https://platzi.com/comentario/610813/) 

	Empezando con el curso

* **MAGIN DIEGO LUNA POMA** (2) [600087](https://platzi.com/comentario/600087/) 

	SIIII Q EMOCION‚Ä¶ üòÑ SALUDOS DESDE BOLIVIA

* **Jos√© Colmenares** (2) [600084](https://platzi.com/comentario/600084/) 

	Al fin , el curso‚Ä¶ Un saludo desde Venezuela !

* **JOSE REYES PALACIO** (1) [1059876](https://platzi.com/comentario/1059876/) 

	El curso de flutter me gust√≥, ahora espero quedar encantado con el curso avanzado.

* **jcalderon.sys** (1) [1019660](https://platzi.com/comentario/1019660/) 

	Ahora si El curso avanzado.

* **sergio-medina93** (1) [1018584](https://platzi.com/comentario/1018584/) 

	Ahora los v√≠deos vienen con Transcripci√≥n‚Ä¶¬°Super!

* **MitoCodeII** (1) [1002370](https://platzi.com/comentario/1002370/) 

	Vamos con toda! Excelente profe

* **RewelME** (1) [976642](https://platzi.com/comentario/976642/) 

	Excellente Anahi la super profe üòÑ

* **RewelME** (1) [976641](https://platzi.com/comentario/976641/) 

	Excellente Anahi la super profe üòÑ

* **Gonzalo Alonso Arrieta Chujutalli** (1) [919611](https://platzi.com/comentario/919611/) 

	Con muchas ganas de empezar el curso, a por todo üòÉ !!

* **Santiago Rhenals** (1) [918855](https://platzi.com/comentario/918855/) 

	Ansioso por empezar!

* **MitoCodeII** (1) [911104](https://platzi.com/comentario/911104/) 

	Excelente a darle !

* **David Galicia** (1) [904786](https://platzi.com/comentario/904786/) 

	En el curso b√°sico aprend√≠ mucho, este tambi√©n se ve interesante.

* **Andres Felipe Jacquin Burgos** (1) [795607](https://platzi.com/comentario/795607/) 

	Hola a todos.  
	Una consulta‚Ä¶ Tengo un cliente que quiere ver los cambios que le voy realizando a la aplicaci√≥n constantemente, pero no conozco si hay alguna manera que no sea publicarla en la tienda para que la pueda ver, con el fin de evitarme ir y sincronizar los cambios con la app que esta instalada en su tel√©fono.  
	Por si alguno conoce, o si sabe como hacer el proceso en la tienda para que no este publica a todos.  
	Les agradezco por su repuesta.

	* **Demian Arenas (Platzi)** [795607] (1)

		Hola Andres, podr√≠as lanzar la aplicaci√≥n en modo beta limitada a algunos usuarios y dentro de estos usuarios a√±ades a tu cliente.

	* **Daniel Esteves** [795607] (1)
Como lo coment√≥ el compa√±ero Demian lo puedes realizar de esa manera y cada vez que lances una actualizaci√≥n le dices al cliente que actualice la App desde la Play Store

* **nelsonfacundo** (1) [775746](https://platzi.com/comentario/775746/) 

	cual es el curso donde crearon esos dise√±os ?  
	el el primer video

	* **Sebastian Alberto Bordi** [775746] (1)

		En el curso b√°sico de flutter

	* **Daniel Esteves** [775746] (1)
¬°Hola Nelson! En el Curso B√°sico de Flutter realizamos el primer setup de la app, si no quieres ir a ese curso puedes descargar el repositorio de este curso y continuar con el aprendizaje üí™

	* **Sebastian Chicoma Sandmann** [775746] (1)

		Cu√°l es el enlace para hacer el fork del proyecto ?

* **nelsonfacundo** (1) [775743](https://platzi.com/comentario/775743/) 

	gracias por el curso

* **Camilo Alexander Velandia Velandia** (1) [763278](https://platzi.com/comentario/763278/) 

	vamoss!!

* **ahmedhamdan** (1) [707703](https://platzi.com/comentario/707703/) 

	Genial!! Empezamos de nuevo

* **Lcapde** (1) [695598](https://platzi.com/comentario/695598/) 

	Genial, continuando con flutter!!! üòÑ

* **Karito Vargas Cruz** (1) [669318](https://platzi.com/comentario/669318/) 

	El primer curso que inicio en platzi, me encanto la bienvenida‚Ä¶ todos los cursos son as√≠ de impactantes?

	* **Gustavo Antonio** [669318] (2)

		s√≠

	* **Daniel Esteves** [669318] (1)
¬°Hola Marito! En Platzi nos esforzamos porque tengas la mejor calidad y a los mejores profesores, nos encanta que te est√© gustando el curso, ¬°Sigue y nunca pares! üí™

* **freddy0fh** (1) [665398](https://platzi.com/comentario/665398/) 

	Me parece excelente este curso, lo esperaba hace rato

* **Juli√°n Andr√©s Vela Salazar** (1) [657969](https://platzi.com/comentario/657969/) 

	Cuales son todos los cursos que da anncode?

	* **Diego Alexander Forero Higuera (Platzi)** [657969] (2)

		Hola, da el curso de Java SE, tambi√©n da el curso de Programaci√≥n Orientada a Objetos, Curso b√°sico de Kotlin, Curso de Bases T√©cnicas de Android, que recuerde en estos momentos.

* **Alexis Olveres** (1) [613018](https://platzi.com/comentario/613018/) 

	Este curso se va a poner buen√≠simo.

* **A2274346** (1) [604595](https://platzi.com/comentario/604595/) 

	Listo para iniciar

* **Walter Ugalde A** (1) [604133](https://platzi.com/comentario/604133/) 

	Hola, A√∫n no termino el curso, pero hacer la versi√≥n avanzada del curso es excelente, Felicidades.

* **gabino18** (1) [600426](https://platzi.com/comentario/600426/) 

	Woow por fin lleg√≥ el curso! muy esperado! A estudiar!!

* **Nicolas Beltrami** (1) [600284](https://platzi.com/comentario/600284/) 

	Esper√© mucho este curso!

* **darwin1111** (1) [600208](https://platzi.com/comentario/600208/) 

	Gracias‚Ä¶ üòÑ

* **Fernando Mellone** (1) [600165](https://platzi.com/comentario/600165/) 

	Por finnnn!

* **iariza** (1) [600095](https://platzi.com/comentario/600095/) 

	excelente!!

* **JanethM** (1) [600089](https://platzi.com/comentario/600089/) 

	Lista para comenzar !!

* **Alejandro Barrios** (1) [600075](https://platzi.com/comentario/600075/) 

	De lujo, este curso parece que estar√° interesante

* **Sergio Gutierrez** (0) [983019](https://platzi.com/comentario/983019/) 
Muy bueno

## 0020. ¬øQu√© es una Arquitectura de software [20218](https://platzi.com/clases/1603-flutter-avanzado/20218-que-es-una-arquitectura-de-software/)

### Descripci√≥n:


Una arquitectura de software se encargar√° de estructurar, dise√±ar y proyectar un proyecto. Indica la estructura, funcionamiento e interacci√≥n entre las partes del software; nos ayuda a tener el c√≥digo organizado para que todo el equipo pueda verlo.

### Comentarios:

* **Fernando Mellone** (11) [600184](https://platzi.com/comentario/600184/) 

	Ac√° hay un post muy interesante, de dos partes, sobre la arquitectura BLoC. (Incluye links del post original que est√° escrito en ingl√©s) [Link](https://medium.com/comunidad-flutter/implementa-arquitectura-a-tu-proyecto-flutter-usando-el-patr%C3%B3n-bloc-2cb031722166)

	* **banuelos-diaz-edgar-raul** [600184] (2)

		Excelente aporte!

	* **Germ√°n Arevalo Jerez** [600184] (1)

		Buen aporte!

	* **Luis Alfredo Hernandez** [600184] (1)

		El contenido compartido , es muy bueno y entendible

	* **David Galicia** [600184] (1)

		Muy buen aporte sirve como introducci√≥n a esta arquitectura

* **Rodrigo Alexander Saraguro Bravo** (2) [949125](https://platzi.com/comentario/949125/) 

	¬øD√≥nde encontrar plantillas para facilitar el dise√±o de ventanas?

	* **angel-mambel** [949125] (1)

		No son plantillas pero si tiene mucho material para facilitar el trabajo importando dependencias, la pag se llama flutterawesome y brinda mucho material.

	* **phvillegas** [949125] (1)

		Este es el ejemplo por el cual se gu√≠a en el dise√±o [link](https://www.uplabs.com/posts/ui7-kit)

* **Lordpanther** (2) [631326](https://platzi.com/comentario/631326/) 

	Tener ordenado el √°rea de trabajo es la mejor forma de enfrentarse a los m√°s grandes retos de la humanidad. (Y de la programaci√≥n) üòÉ

* **Javier Batres** (2) [611055](https://platzi.com/comentario/611055/) 

	A veces es un poco dificil convencer a algunos PM de la necesidad de la arquitectura, lo triste realmente es cuando incluso los devs del equipo no ven la necesidad de la misma.

	* **Joshval97** [611055] (1)

		Algunos dicen incluso que es una perdida de tiempo y dinero‚Ä¶ luego cae encima la deuda t√©cnica y la culpa es incluso de los que quer√≠an hacer las cosas bien.

* **jpupo** (1) [1075253](https://platzi.com/comentario/1075253/) 

	Muchas gracias por tus aclaraciones, que opinas sobre la tecnolog√≠a React Native, Flutter es mejor?  
	Saludos

* **jcalderon.sys** (1) [1024807](https://platzi.com/comentario/1024807/) 

	vamos con todo

* **MitoCodeII** (1) [1004498](https://platzi.com/comentario/1004498/) 

	Vamos con toda, excelente clase

* **danntastico** (1) [878797](https://platzi.com/comentario/878797/) 

	Se encarga de estructurar y dise√±ar el proyecto. Mantener el c√≥digo organizado y todas las partes del software bien estructuradas.

* **robertmezagarcia** (1) [800796](https://platzi.com/comentario/800796/) 

	Interesante!!

* **Camilo Alexander Velandia Velandia** (1) [763283](https://platzi.com/comentario/763283/) 

	BLoC

* **Juan Puerta Montoya** (1) [762842](https://platzi.com/comentario/762842/) 

	Arquitectura de Software:  
	Que clases, que paquetes tienen nuestro proyecto y como se relacionan esos paquetes entre si. Nos habla de manejar correctamente las dependencias entre los paquetes para evitar ciclos . As√≠ como de proteger los componentes que dif√≠ciles de modificar haciendo que no dependan de componentes que cambiar con frecuencia(vol√°tiles ) entre muchas cosas m√°s, es un tema muy amplio en el cual se habla tambi√©n de:  
	Estilos arquitecturales, patrones arquitect√≥nicos,SOLID aplicados a  
	la arquitectura etc.  
	Y como lo dice @anncode cada proyecto tiene su propia arquitectura.

* **Germ√°n Arevalo Jerez** (1) [653896](https://platzi.com/comentario/653896/) 

	La arquitectura de software nos permite tener el c√≥digo para que todo el equipo pueda verlo.

* **Carlos Andr√©s Millan Satizabal** (1) [611329](https://platzi.com/comentario/611329/) 

	Tenemos tambi√©n a Provider.

	* **Nimrod_r** [611329] (1)

		BLoC + Provider + Service Locator

## 0030. Tipos de Arquitecturas para Flutter [20219](https://platzi.com/clases/1603-flutter-avanzado/20219-tipos-de-arquitecturas-para-flutter/)

### Descripci√≥n:


# Vanilla

En esta arquitectura la l√≥gica y la vista se colocan en el Widget. Su principal beneficio es que es simple y aut√≥noma. Conectado en cualquier parte de tu aplicaci√≥n, recuperar√° y renderizar√° datos.

Por otro lado, escribir widgets de esta manera puede generar caos en el documento de vista de la app, sobre todo cuando la l√≥gica empieza a extenderse a bifurcarse o es m√°s avanzado.
``` 
    Widget _buildInit() {
        return Center(
          child: RaisedButton(
            child: const Text('Load user data'),
            onPressed: () {
              setState(() {
                _isLoading = true;
              });
              widget._repository.getUser().then((user) {
                setState(() {
                  _user = user;
                  _isLoading = false;
                });
              });
            },
          ),
        );
      }
    
```

No te recomiendo mucho usar este tipo de Arquitectura pues aunque es f√°cil de aprender en realidad r√≥mpe con uno de los principios SOLID que deben seguir todas las arquitecturas. Single Responsability la cu√°l dice que una clase debe tener solo una responsabilidad. En este caso la vista y el controlador son dos responsabilidades que est√°n cayendo en la misma clase.

# Scoped Model

Este es una librer√≠a de terceros [Puedes encontrar toda la informaci√≥n aqu√≠](https://pub.dev/packages/scoped_model) que no est√° inclu√≠da. Es extra√≠da del c√≥digo base del Sistema operativo Fuchsia.
``` 
    Widget _buildInit(UserModel userModel) {
        return Center(
          child: RaisedButton(
            child: const Text('Load user data'),
            onPressed: () {
              userModel.loadUserData();
            },
          ),
        );
    }
    
```

En esta arquitectura cuando un Widget cambia de estado se reconstruye el √°rbol completo (Toda la pantalla). En realidad esto no es tan conveniente pues lo que quisi√©ramos que sucediera idealmente es reconstruir solo el widget que est√° cambiando y no los otros.

Esta arquitectura es buena pues cumple con el Principio de Single Responsability pues separa la l√≥gica del negocio de la UI, pero en general el mantenimiento de este se vuelve complejo por la grande dependencia entre Widgets, debes controlar muchos casos para lograr el efecto que quires dar a tu aplicaci√≥n.

### Comentarios:

* **danntastico** (8) [878809](https://platzi.com/comentario/878809/) 

	 **Vanilla**  
	Se implementan l√≥gica y vista en el widget, lo que la hace simple y aut√≥noma. No obstante en cuanto el proyecto va creciendo se va haciendo ca√≥tica dentro del documento. Rompe con el principio SOLID que dice que una clase debe mantener una responsabilidad (Single responsability). Vista y controlador son dos responsabilidades.
	
	**Scoped Model**  
	Librer√≠a de terceros sacada del c√≥digo base de Fuchsia (OS). Aqu√≠ si un widget cambia de estado se reconstruye todo el √°rbol/pantalla. Cumple con el Single Responsability, separa l√≥gica y UI. Pero la dependencia de Widgets la hacen dif√≠cil de mantener.

* **AndrsDev** (6) [609344](https://platzi.com/comentario/609344/) 

	No estoy totalmente de acuerdo con la descripci√≥n de la arquitectura de Scoped Model en cuanto se refiere a reconstruir el √°rbol completo (toda la pantalla). **Esto no es cierto**.
	
	Como lo pueden encontrar en su [documentaci√≥n](https://pub.flutter-io.cn/packages/scoped_model) Solo se reconstruye el widget englobado dentro de ScopedModelDescendant.

* **JanethM** (3) [670468](https://platzi.com/comentario/670468/) 

	Aqui les dejo [una gu√≠a completa para la arquitectura ScopedModel](https://medium.com/comunidad-flutter/arquitectura-flutter-scopedmodel-una-gu%C3%ADa-completa-para-la-arquitectura-del-mundo-real-7301285e0d0d)  
	incluye un peque√±o tutorial para que lo chequen.

	* **JanethM** [670468] (2)

		Tambien en este articulo realizan la implementaci√≥n y comparaci√≥n de manera practica de las 3 arquitecturas.  
		[Flutter app architecture 101: Vanilla, Scoped Model, BLoC](https://medium.com/comunidad-flutter/flutter-app-architecture-101-vanilla-scoped-model-bloc-5a488f880d9f)

* **fabian82** (3) [600395](https://platzi.com/comentario/600395/) 

	Hola falta la explicaci√≥n de Bloc !!!

	* **jobcoronadoduran** [600395] (3)
Lo explican a profundidad en los siguientes v√≠deos.

* **Fernando Mellone** (3) [600188](https://platzi.com/comentario/600188/) 

	El saber lo mucho que voy a agradecer estas clases en futuras pr√°cticas es incre√≠ble!

* **lsolares** (2) [676363](https://platzi.com/comentario/676363/) 

	Pienso que se deber√≠a hablar de Provider ya que este simplifica mucho m√°s m√°s el manejo de la informaci√≥n en los Widgets

* **Jos√© Colmenares** (2) [601000](https://platzi.com/comentario/601000/) 

	Excelente comparaci√≥n este curso promete mucho !

* **Alexander Mateo** (2) [600162](https://platzi.com/comentario/600162/) 

	¬°Genial! üòÑ

* **bryant M** (2) [600124](https://platzi.com/comentario/600124/) 

	Espere mucho para este curso

* **MitoCodeII** (1) [1074992](https://platzi.com/comentario/1074992/) 

	Genial, Es bueno conocer otras arquitecturas

* **VladDark** (1) [825791](https://platzi.com/comentario/825791/) 

	Oki doki!

* **Javier Batres** (1) [611063](https://platzi.com/comentario/611063/) 

	No veo la informaci√≥n sobre BLoC‚Ä¶ @anncode podrias agregarla.

	* **We Connect Dev Team Corp** [611063] (2)

		en el siguiente capitulo

* **de-jesus-meza-esteban** (1) [605606](https://platzi.com/comentario/605606/) 

	base de datos en firebase

* **fabian82** (1) [60077](https://platzi.com/comentario/600395/) 
Hola falta la explicaci√≥n de Bloc !!!

	* **jobcoronadoduran** [60077] (3)
Lo explican a profundidad en los siguientes v√≠deos.

## 0040. Arquitectura BLoC en Flutter [20220](https://platzi.com/clases/1603-flutter-avanzado/20220-arquitectura-bloc-en-flutter/)

### Descripci√≥n:


 **BLoC** significa Business Logic Components, es un patr√≥n de dise√±o que separa la l√≥gica de negocio de la interfaz gr√°fica.

**BLoC** Pattern:

* **View (UI Screen)** : Contendr√° toda la interacci√≥n con las vistas; podemos organizarla en screens y widgets.

* **BLoC** : La capa de negocio estar√° contenida aqu√≠, por ejemplo: registrarse a la aplicaci√≥n, hacer login o hacer logout; toda vista que tenga una l√≥gica de negocio deber√° tener un componente BLoC.

* **Repository** : Aqu√≠ se concentran las clases que se conectan con una fuente de datos; API, Endpoints, DataBase, etc.

* **Data / Model** : Son nuestros modelos, los cuales nos ayudan a manejar los datos; **PODO** Plain Old Dart Object




### Links:

* [Fundamentos de Arquitectura de Software](https://platzi.com/cursos/arquitectura-software/)

* [Flutter: BLoC with Streams ‚Äì Flutter Community ‚Äì Medium](https://medium.com/flutter-community/flutter-bloc-with-streams-6ed8d0a63bb8)

* [Curso de Dart](https://platzi.com/cursos/dart/)

* [Implementa Arquitectura a tu proyecto Flutter usando el patr√≥n BLOC](https://medium.com/comunidad-flutter/implementa-arquitectura-a-tu-proyecto-flutter-usando-el-patr%C3%B3n-bloc-2cb031722166)

### Comentarios:

* **melendez-kevin** (11) [889247](https://platzi.com/comentario/889247/) 

	Los POJOS de Java en Dart se llaman PODOS‚Ä¶  
	Entonces en C serian POCOS?,  
	Y en C# POSHOS?,  
	Que me dicen de Python?

	* **ricindigus** [889247] (1)

		"Que me dicen de Python?"  
		jajajajjajajaja‚Ä¶Mori! üòÑ üòÑ üòÑ

	* **Christian Quispe Bonilla** [889247] (1)

		Jajaja üòõ

	* **william andres rodriguez borja** [889247] (1)

		en c# tambien se les dice pocos. realmente C no es orientado a objetos.  
		jajaj en python y php serian popos üòÉ

* **anncode** (7) [610112](https://platzi.com/comentario/610112/) 

	üñê Antes de irte cu√©ntame todas tus dudas sobre Arquitectura BLoC
	
	Empieza dici√©ndome lo siguiente:
	
	  1. ¬øQu√© fue lo que entendiste mejor?
	  2. ¬øQu√© fue lo que no entendiste para nada?
	
	
	
	**Respondo a todas tus preguntas**  
	Para eso estoy ü•∞

	* **Pablo Dom√≠nguez Dur√°n** [610112] (1)

		No me qued√≥ tan claro los l√≠mites entre los Views y el BLoC.
		
		Si un componente de UI no tiene negocio no tiene BLoC, pero s√≠ lo tiene tendr√≠a BLoC, Repo y Model?

* **danntastico** (6) [878821](https://platzi.com/comentario/878821/) 

	 **Arquitectura BLoC en Flutter**  
	Creada por Paolo Sorares y Cong Hui.  
	Business Logic Component. Patr√≥n de dise√±o que divide l√≥gica del negocio de la UI.
	
	* View: Screens y Widget. Interacci√≥n con las vistas.
	* BLoC: L√≥gica del negocio; Login, Logout, registros, etc.
	* Repository: Clases con conexion a API, bases de datos, Endpoints, etc.
	* Data/ Model: Modelos de manejo de datos PODO, Plain Old Dart Object.
	
	

	* **bynico** [878821] (2)

		Gracias por el aporte

* **Alvaro Ruben Hurtado Maldonado** (5) [600199](https://platzi.com/comentario/600199/) 

	Aqui un articulo bastante completo acerca de la arquitectura BLoC: [https://medium.com/comunidad-flutter/implementa-arquitectura-a-tu-proyecto-flutter-usando-el-patr√≥n-bloc-2cb031722166](https://medium.com/comunidad-flutter/implementa-arquitectura-a-tu-proyecto-flutter-usando-el-patr%C3%B3n-bloc-2cb031722166)

* **Fernando Mellone** (4) [600239](https://platzi.com/comentario/600239/) 

	El curso de [Fundamentos de Arquitectura de Software](https://platzi.com/clases/arquitectura-software/)

	* **Fernando Mellone** [600239] (2)

		Olvid√© el curso de [POO](https://platzi.com/clases/oop/) y el de [Dart](https://platzi.com/clases/dart/) xD

	* **Kevin Nick Pascual Tuesta** [600239] (2)

		El de Dart no es tan dif√≠cil. Es mas f√°cil que aprender Kotlin. Hay cosas que extra√±o de Kotlin como son los NullSafety (? or !!) y When.

* **Jos√© Colmenares** (3) [723703](https://platzi.com/comentario/723703/) 

	Excelente clase Ann !

* **David Galicia** (2) [904893](https://platzi.com/comentario/904893/) 

	Genial! No solo aprender√© a usar mas cosas en Flutter complementando lo del anterior curso, tambi√©n algo de arquitectura.

* **Carlos Andr√©s Millan Satizabal** (2) [611813](https://platzi.com/comentario/611813/) 

	Por fin pude entender como es el funcionamiento de BLoC. En otros tutos me perd√≠a. Ahora s√≥lamente falta es como aplicarlo.

* **NILO RICARDO ABRIGATO** (2) [602689](https://platzi.com/comentario/602689/) 

	Curso de fundamentos y arquitectura de software

* **Jaime Ortiz** (1) [1032544](https://platzi.com/comentario/1032544/) 

	Este video explica muy bien los conceptos para entender que es BLoC ([https://www.youtube.com/watch?v=vY4KmVqXEGE&t=605s](https://www.youtube.com/watch?v=vY4KmVqXEGE&t=605s))

* **jcalderon.sys** (1) [1024818](https://platzi.com/comentario/1024818/) 

	Interesante la organizaci√≤n del proyecto

* **MitoCodeII** (1) [1004524](https://platzi.com/comentario/1004524/) 

	Excelente clase.

* **RewelME** (1) [1002436](https://platzi.com/comentario/1002436/) 

	Muy interesante como es la organizacion y/o posible arquitectura de los proyectos flutter

* **jangove** (1) [983713](https://platzi.com/comentario/983713/) 

	ESTA BUENA EL CURSO

* **yuyuman** (1) [829916](https://platzi.com/comentario/829916/) 

	estoy emocionado por avanzar

* **VladDark** (1) [825842](https://platzi.com/comentario/825842/) 

	Ok, this is new for me! üòÉ

* **robertmezagarcia** (1) [800853](https://platzi.com/comentario/800853/) 

	Gran clase, de verdad he aprendido mucho en esta plataforma

* **Gerardo Montecinos** (1) [774709](https://platzi.com/comentario/774709/) 

	Excelente‚Ä¶!  
	Muy Puntual con la explicacion‚Ä¶

* **Camilo Alexander Velandia Velandia** (1) [763287](https://platzi.com/comentario/763287/) 

	excelente

* **JAIME ALFREDO ZABALETA RAMIREZ** (1) [720364](https://platzi.com/comentario/720364/) 

	Excelente clase, gracias

* **Pablo Dom√≠nguez Dur√°n** (1) [717393](https://platzi.com/comentario/717393/) 

	Organizaci√≥n de un proyecto Flutter con BLoC pattern

* **ahmedhamdan** (1) [715243](https://platzi.com/comentario/715243/) 

	Gran clase y al fin estamos entrando en cosas mas interesantes

* **webuser** (1) [675563](https://platzi.com/comentario/675563/) 

	Que buena clase. Un concepto mas aprendido

* **FerPM** (1) [635704](https://platzi.com/comentario/635704/) 

	Ann:  
	Gran clase! Muchas gracias.  
	Me esta gustando mucho m√°s este curso respecto al anterior.

* **AndrsDev** (1) [609353](https://platzi.com/comentario/609353/) 

	Bloc es una arquitectura muy buena y robusta! En mi opini√≥n personal me gusta un poquito m√°s implementar una arquitectura con el paquete [Provider](https://pub.dev/packages/provider)

* **NILO RICARDO ABRIGATO** (1) [602693](https://platzi.com/comentario/602693/) 

	curso de Dart

* **zkmark9999** (1) [84358](https://platzi.com/comentario/1049182/) 
mobx es una aquitectura? https://github.com/mobxjs/mobx.dart

## 0050. BLoC + Clean Architecture en Flutter [20221](https://platzi.com/clases/1603-flutter-avanzado/20221-bloc-clean-architecture-en-flutter/)

### Descripci√≥n:


En la clase anterior vimos que es **BLoC** , **BLoC Pattern** y c√≥mo aplicarlo. En esta clase te explicaremos como hacer que el proyecto hable por s√≠ solo de c√≥mo funciona usando **BLoC + Clean Architecture**.

Debemos recordar que nuestro proyecto debe ser legible para nuestros compa√±eros de trabajo y cualquier persona que lo lea; un plus a esto el proyecto debe ser entendible por s√≠ solo.

### Links:

* [https://platzi.com/cursos/flutter/](https://platzi.com/cursos/flutter/)

* [Curso de Git y GitHub Profesional | Platzi](https://platzi.com/cursos/git-github/)

* [Introducci√≥n a Terminal y L√≠nea de Comandos](https://platzi.com/cursos/terminal/)

* [The Clean Architecture for Flutter ¬∑ ShadyBoukhary/Axion-Technologies-HnH Wiki ¬∑ GitHub](https://github.com/ShadyBoukhary/Axion-Technologies-HnH/wiki/The-Clean-Architecture-for-Flutter)

### Comentarios:

* **Fernando Mellone** (5) [600265](https://platzi.com/comentario/600265/) 

	Project **onboarding** is the process of enrolling resources to the project. The goal is to make sure that everyone involved in the project understands its business objectives and requirements, knows their role and the expected outcome of the project itself.  
	This way team members can contribute fully to the project, spending less time on trying to figure it out and more actually completing their tasks.  
	-[Fuente](https://teamdeck.io/project-management/project-onboarding/)

	* **Germ√°n Arevalo Jerez** [600265] (1)

		Great!

* **alafourcadedespaigne** (4) [961138](https://platzi.com/comentario/961138/) 

	Habr√≠a que evaluar que tan conveniente es exponer tus entidades como lo dice Clean , cuando tu proyecto tenga 30 relaciones por ejemplo. Tendr√≠as 30 carpetas donde cada una representa la entidad que quieres exponer. Sin embargo si usaras solamente bloc , tendr√≠as las mismas carpetas de siempre , lo que en ese caso tendr√≠as muchos archivos correspondientes a las entidades. Creo que es cuesti√≥n de evaluar el proyecto , pero de manera general fue un gran video de parte de Ann

* **charlieg** (3) [610450](https://platzi.com/comentario/610450/) 

	Un concepto tan simple, pero que a largo plazo puede traer beneficios al proyecto y a los equipos. Excelente tener este tipo de conocimientos para aplicarlo en futuros proyectos.

* **Germ√°n Arevalo Jerez** (2) [653949](https://platzi.com/comentario/653949/) 

	Clean Architecture expone las entidades.

* **MitoCodeII** (1) [1075025](https://platzi.com/comentario/1075025/) 

	Genial se nota el cambio encuentra a la organizacion cuando se implementa una arquitetura

* **jlsumba** (1) [1051752](https://platzi.com/comentario/1051752/) 

	Empieza la explicaci√≥n de BLoC + Clean

* **Alejandro Robleto** (1) [994695](https://platzi.com/comentario/994695/) 
	
	![Captura de Pantalla 2020-02-19 a la\(s\) 13.48.49.png](https://static.platzi.com/media/user_upload/Captura%20de%20Pantalla%202020-02-19%20a%20la%28s%29%2013.48.49-f544353f-25a0-49a8-a75f-eb724cb7411e.jpg)

* **Alejandro Robleto** (1) [994693](https://platzi.com/comentario/994693/) 
	
	![Captura de Pantalla 2020-02-19 a la\(s\) 13.48.33.png](https://static.platzi.com/media/user_upload/Captura%20de%20Pantalla%202020-02-19%20a%20la%28s%29%2013.48.33-5474dc45-7bb9-4e76-8b42-d36aba5f2409.jpg)

* **David Galicia** (1) [905000](https://platzi.com/comentario/905000/) 

	Pero que buena forma de organizar el proyecto , esto te da un mejor contexto de lo que hace la aplicaci√≥n ademas de que aun se sigue separando modular mente.

* **Alexander Mateo** (1) [884242](https://platzi.com/comentario/884242/) 

	Muy interesante! üòÉ

* **robertmezagarcia** (1) [800868](https://platzi.com/comentario/800868/) 

	Bloc and clean architecture, una forma de organizar el c√≥digo para que sea posible compartirlo y entendible dentro del grupo de trabajo

* **Camilo Alexander Velandia Velandia** (1) [763295](https://platzi.com/comentario/763295/) 

	BLoC+CLEAN

* **Elias Ojeda Medina** (1) [740899](https://platzi.com/comentario/740899/) 

	Excelente explicaci√≥n, el curso va m√°s all√° al explicar sobre arquitectura

* **Pablo Dom√≠nguez Dur√°n** (1) [717414](https://platzi.com/comentario/717414/) 

	Arquitectura de flutter con BLoC + Clean Architecture

* **Felipe Donoso** (1) [641842](https://platzi.com/comentario/641842/) 

	Explicas muy bien muchas gracias y se que el producto quedar√° con calidad.

* **FerPM** (1) [635711](https://platzi.com/comentario/635711/) 

	Simplemente me encant√≥ como lo explcaste. Esta clase y la anterior.  
	S√∫per!

* **Lordpanther** (1) [631646](https://platzi.com/comentario/631646/) 

	Excxelente üòÉ

* **Ricardo Romero Benitez** (1) [614389](https://platzi.com/comentario/614389/) 

	No se puede ver el episodio 6, se queda cargando o directamente dice que estan actualizando la web.

	* **Daniel Esteves** [614389] (1)
¬°Hola Ricardo! ¬øSigues teniendo este problema a√∫n? Normalmente se debe a los servidores que puedes cambiar desde los ajustes de la clase

	* **Ricardo Romero Benitez** [614389] (2)

		Todo bien hasta ahora

* **DracoClvo** (1) [83221](https://platzi.com/comentario/1022145/) 
Tengo 2 entidades Usuario y Tarea, Tarea tiene su archivo Tarea_Cloud_FireStore_API.dart y tengo definidas las funciones que una tarea re...

* **Luis Enrique Carre√±o Herre√±o** (1) [73783](https://platzi.com/comentario/841241/) 
Los nombres de las carpetas de cada entidad no deber√≠an ser en min√∫sculas?

## 0060. Estructurando nuestro proyecto utilizando la Arquitectura BLoC [20222](https://platzi.com/clases/1603-flutter-avanzado/20222-estructurando-nuestro-proyecto-utilizando-la-arqui/)

### Descripci√≥n:


En este curso vamos a tomar como base el proyecto que hicimos en el [Curso de Flutter](https://platzi.com/cursos/flutter/), pero nuestra querida profesora hizo un repositorio m√°s optimizado de el proyecto que se hizo en ese curso el cu√°l lo puedes encontrar en este [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi).

Le haremos _Fork_ al repositorio para tenerlo en nuestra cuenta de GitHub y lo clonaremos en nuestra computadora para empezar a estructurar nuestro proyecto.

[Repositorio de esta clase](<https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi.git> <https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/1.ArquitecturaBLoC>).

### Links:

* [Curso de Git y GitHub Profesional | Platzi](https://platzi.com/cursos/git-github/)

* [Curso de Flutter](https://platzi.com/cursos/flutter/)

* [Introducci√≥n a Terminal y L√≠nea de Comandos](https://platzi.com/cursos/terminal/)

* [Download Android Studio and SDK tools](https://developer.android.com/studio)

### Comentarios:

* **Ricardo Arango** (8) [619675](https://platzi.com/comentario/619675/) 

	algo que me rompi√≥ la cabeza fue cambiar la ubicaci√≥n de flutter en mi Android Studio, en Mac esta en Android Studio>Preferences>Languages & Frameworks  
	El secreto es arreglar primero la ruta de nuestra carpeta de Flutter y dar apply, esto har√° que se cargue nuestro Dart, reiniciar Android Studio(es necesario, me marc√≥ error hasta que no lo hice) y luego funcionar√° todo perfecto.  
	Espero que le pueda ayudar a alguien m√°s =D

	* **Sebasti√°n Valencia Zapata** [619675] (1)

		¬°Gracias!

* **Alvaro Ruben Hurtado Maldonado** (6) [600238](https://platzi.com/comentario/600238/) 

	Creo que el primer ‚Äúgit init‚Äù en el minuto 13:29 no es necesario üòâ, simplemente el:
	``` 
	    git clonehttps://github.com/alvarohurtadobo/Curso-de-Flutter-Avanzado-en-Platzi.git
	    
	```

* **Gustavo Ram√≠rez Apache** (5) [602299](https://platzi.com/comentario/602299/) 

	Los que no est√©n familiarizados todav√≠a con como se manejan algunos cursos ac√°, recuerden que para evitar tener que hacer eso a mano de estar organizando los imports y nombres que es tedioso c√°mbiense a la rama 1.ArquitecturaBLoC que ya esta lista con todo solo tienen que dar git checkout 1.ArquitecturaBLoC y quedar√°n en esa rama, si hicieron cambios y no los deja pasarse de rama usen el git reset --hard, recuerden que ese comando borra los cambios que hayan hecho.

* **daniel herrera s√°nchez** (4) [925982](https://platzi.com/comentario/925982/) 

	Nuestro repositorios pueden pesar mucho menos si agregamos el .gitignore
	
	Creo que se deber√≠a eliminar el .idea enel repo yel build ya que trae varias dependencias que hacen del repo se muy pesado. Deber√≠amos en nuestros repos manejar el .gitignore conal menos este contenido
	``` 
	    
	    <h1>Miscellaneous</h1>
	    *.class
	    *.log
	    *.pyc
	    *.swp
	    .DS_Store
	    .atom/
	    .buildlog/
	    .history
	    .svn/
	    
	    <h1>IntelliJ related</h1>
	    *.iml
	    *.ipr
	    *.iws
	    .idea/
	    
	    <h1>The .vscode folder contains launch configuration and tasks you configure in</h1> <h1>VS Code which you may wish to be included in version control, so this line</h1> <h1>is commented out by default.</h1>
	    #.vscode/
	    
	    <h1>Flutter/Dart/Pub related</h1>
	    **/doc/api/
	    .dart_tool/
	    .flutter-plugins
	    .flutter-plugins-dependencies
	    .packages
	    .pub-cache/
	    .pub/
	    /build/
	    
	    <h1>Web related</h1>
	    lib/generated_plugin_registrant.dart
	    
	    <h1>Exceptions to above rules.</h1>
	    !/packages/flutter_tools/test/data/dart_dependencies_test/**/.packages
	    
	    
	```

	* **BoomVam** [925982] (1)

		Gracias por el aporte. He estado mirando otros proyectos de Flutter en gitHub para saber que puedo poner en .gitignore y en contre algo parecido:
		``` 
		    # Miscellaneous
		    *.class
		    *.log
		    *.pyc
		    *.swp
		    .DS_Store
		    .atom/
		    .buildlog/
		    .history
		    .svn/
		    
		    # IntelliJ related
		    *.iml
		    *.ipr
		    *.iws
		    .idea/
		    
		    # The .vscode folder contains launch configuration and tasks you configure in
		    # VS Code which you may wish to be included in version control, so this line
		    # is commented out by default.
		    #.vscode/
		    
		    # Flutter/Dart/Pub related
		    **/doc/api/
		    .dart_tool/
		    .flutter-plugins
		    .flutter-plugins-dependencies
		    .packages
		    .pub-cache/
		    .pub/
		    /build/
		    
		    # Web related
		    lib/generated_plugin_registrant.dart
		    
		    # Exceptions to above rules.
		    !/packages/flutter_tools/test/data/dart_dependencies_test/**/.packages```
		    
		    
		    
		    Este es de un proyecto llamado flutter_smart_course
		    [https://github.com/TheAlphamerc/flutter_smart_course/blob/master/.gitignore]
		```

* **graphics** (4) [638005](https://platzi.com/comentario/638005/) 

	No tengo idea de porque tenemos que organizar el proyecto pero si clonas una rama m√°s adelante te evitas todo ese trabajo tedioso.
	``` 
	    git clone--branch1.ArquitecturaBLoC https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi.git
	    
	```
	
	Y para los que preguntan porque esta tan pesado el proyecto, es porque alguien olvido agregar el .gitignore para los archivos no necesarios.

	* **Diego Alexander Forero Higuera (Platzi)** [638005] (7)

		Es importante aprender como es una buena estructura del proyecto y aprender haciendo, la pr√°ctica es la que te va a permitir al momento de iniciar un nuevo proyecto crear la estructura del proyecto de forma r√°pida.

	* **Germ√°n Arevalo Jerez** [638005] (1)

		S√≠, es importante aprenden como aplicar la arquitectura.

	* **Jos√© Colmenares** [638005] (2)

		Siempre que planees construir una aplicaci√≥n que sea legible para otros desarrolladores, escalable y mantenible en el tiempo, debes utilizar alguna arquitectura de archivos, de lo contrario nos vas a poder cumplir con los requisitos que acabo de mencionar.

	* **Karl Heitmann** [638005] (1)

		Yo comparto con las dem√°s respuestas que dicen que debemos aprender a organizar el proyecto. Es fundamental mantener una buena arquitectura.
		
		Pero me hubiera gustado que Anah√≠ hubiera dedicado una clase m√°s a explicar _por qu√©_ meti√≥ cada archivo en cada carpeta. Que explicara un poco el trabajo que se di√≥ antes de mover los archivos. Ser√≠a mi √∫nico reparo que tengo hasta ahora con la querida Profe.
		
		La parte clave de un proyecto, es saber como organizar los archivos. Y tomar la decisi√≥n de por qu√© tal elemento va aqu√≠ y no all√°. Eso se adquiere con pr√°ctica.

* **yuyuman** (3) [831238](https://platzi.com/comentario/831238/) 

	dure mucho tiempo sin poder hacer funcionar el codigo al final lo resolvi corriendo flutter doctor en la consola de flutter y solo accepte las licencias y listo ya me dejaba agregar librerias

* **de-jesus-meza-esteban** (3) [622341](https://platzi.com/comentario/622341/) 

	ami no me deja crear directorios, solo dice package

	* **VHugoBarnes** [622341] (1)

		Al parecer es lo mismo, a m√≠ tambi√©n me sale ‚Äòpackage‚Äô üòÉ

	* **Diana Carolina Quintero** [622341] (15)

		Me pas√≥ lo mismo, investigu√© un poco y resulta que hay que configurar la estructura del proyecto as√≠:
		
		* Ir a File -> Project Structure.
		* Seleccionas ‚ÄúModules‚Äù.
		* Ver√°s las carpetas de tu proyecto y seleccionas ‚Äúlib‚Äù.
		* Ver√°s que en la parte superior dice: Mark as: Source, Test, Resources, etc. Pues desmarca ‚ÄúSource‚Äù, le las OK a los cambios y listo!!
		
		![ejemplo.png](https://static.platzi.com/media/user_upload/ejemplo-732ddb6c-f6e9-4a78-b8d0-2f9fb0c1f5f0.jpg)

	* **David Galicia** [622341] (1)

		Muchas gracias , me fue util la respuesta de KaroDev

* **anncode** (3) [609424](https://platzi.com/comentario/609424/) 

	üñê **Antes de irte cu√©ntame todas tus dudas sobre Arquitectura BLoC**
	
	Empieza dici√©ndome lo siguiente:
	
	  1. ¬øQu√© fue lo que entendiste mejor?
	  2. ¬øQu√© fue lo que no entendiste para nada?
	
	
	
	Respondo a todas tus preguntas.  
	Para eso estoy ü•∞

* **bynico** (2) [884987](https://platzi.com/comentario/884987/) 

	Para no refactorizar los import a mano, cuando tengan todo ordenado, solamente borran los imports, y le dan control+space y le dan el import, eso se los hace automaticamente

* **jlquichimbo** (2) [783538](https://platzi.com/comentario/783538/) 

	Para que el editor detecte los errores y genere las ayudas y autocompletado despu√©s de clonar, es necesario agregar la libreria de flutter ya descargada en el curso anterior en:  
	`File - Settings - Languages & Frameworks - Dart.`
	
	Podemos copiar el path usado en un proyecto anterior, o descargarlo nuevamente desde la url.

* **Lordpanther** (2) [631656](https://platzi.com/comentario/631656/) 

	Veo que ahora hay muchos m√°s objetos en el proyecto üòÉ

* **Carlos Andr√©s Millan Satizabal** (2) [613049](https://platzi.com/comentario/613049/) 

	Puedes importar m√°s f√°cilmente seleccionando el widget o la clase que est√° en rojo y presionando ALT + ENTER y selecciona la opci√≥n de import que aparece ah√≠.

* **Jos√© Colmenares** (2) [601904](https://platzi.com/comentario/601904/) 

	Si esta pesado el repo xD, no se si es un error pero a mi me sale que tienen 49 branches y pesa sobre los 700mb.

	* **Iv√°n Felipe Velastegu√≠ Jaramillo** [601904] (2)

		Si, contiene todas las ramas con los cambios ejecutados en cada clase, durante todo el curso.

* **Jos√© Colmenares** (2) [67831](https://platzi.com/comentario/729900/) 
Como se llamara el synth wave que puso de fondo cuando hizo el fast-fordward del refactor ?

	* **Juan Felipe Peralta Zapata** [67831] (1)

		¬°Hola! Esta es la canci√≥n que usan. La puedes encontrar en **Amazon** , trat√© de buscarla en **Spotify** pero no la encontr√©. ![Screenshot_2019-10-20-21-44-18-963_com.android.chrome.png](https://static.platzi.com/media/user_upload/Screenshot_2019-10-20-21-44-18-963_com.android.chrome-8746a015-4557-4237-9134-1fcf56341c5b.jpg)

* **Webmaster El Universo** (2) [61852](https://platzi.com/comentario/628716/) 
Hola, descargue el repo‚Ä¶ estoy tratando de ejecutarlo pero me da problemas con el kotklin uso linux y visual code, como puedo modificar p...

	* **Carlos Garcia Castellanos** [61852] (1)

		Que error te da ?

* **Richard Eliseo Mendoza G√°faro** (2) [61832](https://platzi.com/comentario/628328/) 
Que version de Android Studio usan???

* **jcalderon.sys** (1) [1038586](https://platzi.com/comentario/1038586/) 

	Buena forma de estructurar un proyecto

* **MitoCodeII** (1) [1008740](https://platzi.com/comentario/1008740/) 
Buen inicio, vamos con toda

* **Alejandro Robleto** (1) [999208](https://platzi.com/comentario/999208/) 

	Logrdo‚Ä¶ ![Captura de Pantalla 2020-02-21 a la\(s\) 16.50.16.png](https://static.platzi.com/media/user_upload/Captura%20de%20Pantalla%202020-02-21%20a%20la%28s%29%2016.50.16-c9d7e35b-6235-4abf-abef-58e8873c19c8.jpg)

* **Sebastian Alberto Bordi** (1) [958952](https://platzi.com/comentario/958952/) 

	a lo 9:35 se corta el sonido del video y aparece una cancion

	* **Julio Sadrash** [958952] (3)

		es parte del video, hace un speed para no tener que mostrar todo(o es lo que creo)

* **Sindy Johana Vergara Rodriguez** (1) [945719](https://platzi.com/comentario/945719/) 

	Hola estoy revisando y android studio no me deja crear directorios dentro de lib, solo paquetes, pero no me deja crear un paquete dentro de otro

	* **joserodrigomorenocordero** [945719] (1)

		Intenta colocandolo en la vista de proyect Files

	* **Julio Sadrash** [945719] (1)

		hola, a mi me sucede lo mismo, como lo lograste?

* **David Galicia** (1) [905631](https://platzi.com/comentario/905631/) 

	Todo bien hasta aqu√≠, es mejor bajar el proyecto as√≠ puedes seguir el curso sin problema.

* **bynico** (1) [884959](https://platzi.com/comentario/884959/) 

	Para los que tuvieron problemas con la version, el gradle o algo, simplemente borran la carpeta android, o ios, y luego le dan a
	``` 
	    flutter create .
	    
	```
	
	eso les vuelve a configurar el proyecto  
	de ultima corren
	``` 
	    flutter doctor -v
	    
	```
	
	para saber si tienen algun otro problema.  
	Saludos

* **banuelos-diaz-edgar-raul** (1) [605685](https://platzi.com/comentario/605685/) 

	Tengo duda; donde queda profile_trips.dart? yo lo puse en User/ui/widgets

	* **anncode** [605685] (1)

		En `User/ui/screens`

* **emiibarra6** (1) [604881](https://platzi.com/comentario/604881/) 

	Hola, alguien pudo descargar el proyecto? Por que pesa tanto?  
	A mi me baja hasta los 300mb nomas üò¶

	* **cguascawt** [604881] (3)

		Utiliza el git clone, lo acabo de descargar y perfecto <https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi.git>

	* **anncode** [604881] (2)

		Hola!  
		Accede al proyecto como te est√° diciendo tu compa√±ero.
		
		Haremos un ajuste para que sea muy sencillo descargarlo

	* **Omar Jalil Fierro L√≥pez** [604881] (2)

		Yo tambi√©n tuve problemas con el git clone, se descarga demasiado lento con el fork

* **Walter Ugalde A** (1) [604221](https://platzi.com/comentario/604221/) 

	Gracias, estas cosas hacen a este curso muy bueno, por que en la vida real, tenemos que aplicar todas estas tecnicas para que nuestros productos sean excelente.

* **BoomVam** (1) [84720](https://platzi.com/comentario/1057309/) 
¬øQue se debe importar a profile_place.dart? Hasta ahora tengo esto: import 'package:flutter/material.dart'; import 'package:platzi_...

* **daniel herrera s√°nchez** (1) [78695](https://platzi.com/comentario/925963/) 
Creo que se deber√≠a eliminar el .idea en el repo y el build ya que trae varias dependencias que hacen del repo se muy pesado. Deber√≠amos ...

* **emiibarra6** (1) [60397](https://platzi.com/comentario/604881/) 
Hola, alguien pudo descargar el proyecto? Por que pesa tanto? A mi me baja hasta los 300mb nomas üò¶

	* **cguascawt** [60397] (3)

		Utiliza el git clone, lo acabo de descargar y perfecto <https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi.git>

## 0070. Haciendo BLoC Singleton en Flutter [20223](https://platzi.com/clases/1603-flutter-avanzado/20223-haciendo-bloc-singleton-en-flutter/)

### Descripci√≥n:


"En la clase anterior estructuramos nuestro c√≥digo usando **BLoC Pattern** , ahora en esta clase usaremos otro patr√≥n de dise√±o llamado _Singleton_.

Un archivo de vista debe tener su archivo de l√≥gica de negocio, se podr√°n comunicar, llamarse, s√≠ una vista necesita hacer login, entre otros. Podemos tener varias vistas comunic√°ndose con una sola l√≥gica de negocio.

Usaremos √©ste ejemplo para ilustrar lo que queremos hacer, recuerda que queremos exponer la l√≥gica de negocio lo m√°s alto posible para que sus hijos puedan acceder a el:
``` 
    class MyApp extends StatelessWidget {
        @override
        Widget build(BuildContext context) {
            return BlocProvider (
                bloc: AppBloc(),
                child: MaterialApp(
                    title: 'Yo Sleep',
                    home: MainPage(),
                    initialRoute: ‚Äòmain‚Äô,
                    routes: {
                        'main': (context) => MainPage(),
                    }
                ),
            );
        }
    }```
    
    
```

### Links:

* [generic_bloc_provider | Flutter Package](https://pub.dev/packages/generic_bloc_provider)

### Comentarios:

* **Roberth Soriano** (15) [606172](https://platzi.com/comentario/606172/) 

	Hola a todos me gusta mucho sus cursos chicos, pero siento que para haber hablado de bloc singleton, debieron explicar sobre como funciona el tema de herencia, el contexto y los m√©todos de los statefuls widgets en paticular el didChangeDenpendecies ya con el podemos hacer llamado al bloc provider por que es el primero que carga el contexto de nuestro widget, justo antes del build.
	
	Vi el curso de flutter b√°sico y me encant√≥ (gracia por el Ana!!), por ello segu√≠ investigando por mi cuenta, y el camino que me toc√≥ recorrer para entender el patr√≥n bloc fue pasar primero por entender como funcionan los m√©todos propios de los stateful y stateless widgets, luego por el InheritedWidget (propio de flutter) y al final - ya habiendo entendido el tema de contexto- el patr√≥n bloc con los respectivos streams y programaci√≥n reactiva.
	
	Voy en orden con el curso, no s√© si luego esto ser√° topado, pero siento que falt√≥ esa informaci√≥n antes de hablar sobre el patr√≥n bloc.

	* **anncode** [606172] (12)

		Muchas gracias por tu feedback Robert!  
		Lo tomo en cuenta y ya estoy pensando c√≥mo hacer la curva m√°s sencilla para llegar a este tema üòÉ

	* **Emmanuel Guerra** [606172] (1)

		Rostan, puedes compartir un link con la informaci√≥n o alg√∫n art√≠culo?

* **gabino18** (6) [601288](https://platzi.com/comentario/601288/) 

	Para los que no conocen el patr√≥n Singleton les comparto un link de una web que explica este patr√≥n de manera bastante sencilla  
	[SINGLETON](https://programacion.net/articulo/patrones_de_diseno_vi_patrones_de_creacion_singleton_1007)

* **Lordpanther** (5) [632710](https://platzi.com/comentario/632710/) 

	Todo este tiempo desarrollando a ensayo y error para saber que NO se debe REINVENTAR la rueda.

* **Sebasti√°n Valencia Zapata** (4) [940830](https://platzi.com/comentario/940830/) 

	**El proyecto no me corr√≠a **üò¶ me aparec√≠ann un mont√≥n de errores y al final me marcaba **Gradle task assembleDebug failed with exit 1**. Despu√©s de probar muchas cosas, me funcion√≥ cambiar el **minSdkVersion a 21** y el **targetSdkVersion a 28**. Esto en la ruta **android/app/build.gradle**.
	
	Tambi√©n pueden probar con el comando flutter clean en la consola, estando en el directorio de la aplicaci√≥n.

	* **william andres rodriguez borja** [940830] (3)

		efectivamente yo tuve adicional a los pasos que tu hiciste hacer la migracion a androidX
		
		hay que abrir la carpeta de android de flutter directamente en android estudio luego refactor> migrate android X

* **MitoCodeII** (2) [1012503](https://platzi.com/comentario/1012503/) 

	Gran clase

* **Carlos Andr√©s Millan Satizabal** (2) [617607](https://platzi.com/comentario/617607/) 

	Gracias a este video entend√≠ el patr√≥n Singleton.

* **gabino18** (2) [601279](https://platzi.com/comentario/601279/) 

	Les comparto la URL del paquete de generic_bloc_provider  
	[BLOC_PROVIDER](https://pub.dev/packages/generic_bloc_provider)

* **Angel Bejarano** (1) [1059143](https://platzi.com/comentario/1059143/) 

	Muchas Views relacionados a un mismo Bloc no creo alto acoplamiento y podria causar problemas a futuro? no hay forma de hacer Bloc y View mas descontraidas?

* **VladDark** (1) [826075](https://platzi.com/comentario/826075/) 

	Ok

* **robertmezagarcia** (1) [805766](https://platzi.com/comentario/805766/) 

	Genial!

* **NILO RICARDO ABRIGATO** (1) [60736](https://platzi.com/comentario/610040/) 
C√≥mo agrego el generic_bloc_provider al Android Studio?

	* **AndresArdilaB** [60736] (1)

		Cuando lo agregas al en **dependencies** Android Studio lo importa autom√°ticamente.

## 0080. Aplicando Providers al Proyecto [20224](https://platzi.com/clases/1603-flutter-avanzado/20224-aplicando-providers-al-proyecto/)

### Descripci√≥n:


Para instalar _generic_bloc_provider_ debemos dirigirnos a nuestro archivo `pubspec.yaml` que se encuentra en la ra√≠z de nuestro proyecto y en la parte de `dependencies` agregamos la l√≠nea `generic_bloc_provider: ^1.0.9`, **recuerda dejar una correcta indentaci√≥n en el documento para que no genere errores**. Luego en nuestro Android Studio le damos click a ‚ÄúPackages get‚Äù para integrar la librer√≠a a nuestro proyecto.

Aqu√≠ puedes acceder al [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/2.BLoCProviders).

### Links:

* [generic_bloc_provider | Flutter Package](https://pub.dev/packages/generic_bloc_provider)

* [Curso de Flutter](https://platzi.com/cursos/flutter/)

### Comentarios:

* **sebastian-lara** (6) [640894](https://platzi.com/comentario/640894/) 

	Encontr√© un paquete √∫til para usar multiples providers:
	
	<https://pub.dev/packages/provider>
	
	Some doc:  
	we‚Äôre going from:
	``` 
	    Provider<Foo>.value(
	       value: foo,
	       child: Provider<Bar>.value(
	         value: bar,
	         child: Provider<Baz>.value(
	           value: baz,
	           child: someWidget,
	         )
	       )
	     )
	    
	```
	
	To:
	``` 
	    MultiProvider(
	      providers: [
	        Provider<Foo>.value(value: foo),
	        Provider<Bar>.value(value: bar),
	        Provider<Baz>.value(value: baz),
	      ],
	      child: someWidget,
	    )
	    
	```

	* **Germ√°n Arevalo Jerez** [640894] (3)

		Interesante, buen aporte!

* **Jose Carlo Rojas Mora** (6) [621659](https://platzi.com/comentario/621659/) 

	Para windows no me funciono el ctrl + n, pero con ctrl + i les motrara la pantalla directa para implementar.

	* **bynico** [621659] (1)

		Gracias por el aporte, me sirvi√≥ para Ubuntu üòÑ

	* **Santiago Rhenals** [621659] (1)

		Muy buen aporte!

* **israelhuaman** (4) [668984](https://platzi.com/comentario/668984/) 

	los de VS que no les sale el crtl+n usen crtl+.

* **jcalderon.sys** (1) [1038734](https://platzi.com/comentario/1038734/) 

	En proceso de entender el proceso de bloC

* **MitoCodeII** (1) [1012560](https://platzi.com/comentario/1012560/) 

	Aun no entnede muy bien el concepto de bloC, espero que en la siguientes clase se afiance mas este concepto, he leido bastante pero sigo sin entender por completo, Gran Clase

	* **Jaime Ortiz** [1012560] (2)

		Es que los conceptos son complicados porque no ense√±aron las bases. El patron de BLoC se centra en el paradigma reactivo (programaci√≥n as√≠ncrona).  
		Puedes ver este [video](https://www.youtube.com/watch?v=vY4KmVqXEGE&t=605s) para comprender los conceptos b√°sicos de la programacion reactiva y asi poder entender el BLoC, que b√°sicamente es lo mismo que explica en el v√≠deo, pero de una forma m√°s f√°cil de aplicar.

* **Alvaro Ruben Hurtado Maldonado** (1) [653754](https://platzi.com/comentario/653754/) 

	Buenas, es recomendable tener una cascada de Bloc Providers?
	``` 
	    child: BlocProvider(
	       bloc: UserBloc(),
	       child: BlocProvider(
	            bloc: HomeBloc(),
	            child: BlocProvider(
	               bloc: CustomerBloc(),
	               child: MaterialApp()
	    
	```

* **federicomontero** (1) [644920](https://platzi.com/comentario/644920/) 

	Yo tengo algo mal pero no se que es porque tengo todos los archivos en rojo y ya descargue e instale el Dart, el Flutter, actualice todo y no anda üò¶

	* **Diego Alexander Forero Higuera (Platzi)** [644920] (1)

		Hola, tienes una captura de pantalla para entender mejor lo que te pasa.

	* **Cristian Caballero** [644920] (1)

		revisa las url en los import package

	* **Karito Vargas Cruz** [644920] (2)

		te falta importar los packetes,te recomiendo instalar el plugin Pubspec Assist para que automatices ese proceso

	* **gianfrancogonzalez** [644920] (1)

		Si alguien m√°s tiene este problema, se solucions escribiendo en la paleta de comandos(Ctrl + shift + p): ‚ÄúFlutter: Get packages‚Äù

	* **Sebasti√°n Valencia Zapata** [644920] (1)

		Me pas√≥ lo mismo y despu√©s de probar muchas cosas, me funcion√≥ cambiar el **minSdkVersion a 21** y el **targetSdkVersion a 28**. Esto en la ruta **android/app/build.gradle**
		
		Tambi√©n pueden probar con el **comando flutter clean** en la consola, estando en el directorio de la aplicaci√≥n.

* **federicomontero** (1) [644918](https://platzi.com/comentario/644918/) 

	Hola, estoy tomando el curso desde Windows 10 y me sale el siguiente error:  
	Working dir: C:\Users\Fede\Desktop\Curso-de-Flutter-Avanzado-en-Platzi-1.ArquitecturaBLoC  
	"C:\Program Files\Dart\dart-sdk\bin\pub.bat" get  
	_Resolving dependencies‚Ä¶  
	Because platzi_trips_app depends on flutter_test any from sdk which doesn‚Äôt exist (the Flutter SDK is not available), version solving failed._
	
	_Flutter users should run`flutter pub get` instead of `pub get`.  
	Process finished with exit code 69_  
	Sabrian que es lo que estoy haciendo mal?

	* **Diego Alexander Forero Higuera (Platzi)** [644918] (1)

		El error indica que no tienes instalado el sdk de flutter.

	* **Cristian Caballero** [644918] (1)

		Tienes que ir a settings del proyecto y apuntar hacia la ruta de tu Flutter SDK

* **Mario Vizcaino** (1) [626580](https://platzi.com/comentario/626580/) 

	tengo una duda, que pasa en el caso de que sean m√°s vistas ?, se deber√≠a tener cada bloc en el main o hay alguna forma de ir agregando cada provider?

* **Christian Leonardo Marin Feo** (1) [80531](https://platzi.com/comentario/960773/) 
No me queda claro como el Bloc provider llama a los distintos bloc de las diferentes vistas si la forma de aplicarlo es utilizando un √∫ni...

# Firebase y Flutter [4056]

## 0090. Integrando Firebase Authentication, Cloud Firestore y Firebase Storage al proyecto [20225](https://platzi.com/clases/1603-flutter-avanzado/20225-integrando-firebase-authentication-cloud-firestore/)

### Descripci√≥n:


Te hemos escuchado y finalmente traemos a este curso la integraci√≥n con Firebase y Flutter, pero **ojo** con la compatibilidad entre librer√≠as. Para que nada se nos ‚Äú‚Äúrompa‚Äù‚Äù nuestra querida profesora ha desarrollado unos ‚Äú‚Äúhacks‚Äù‚Äù para que funcione tanto en iOS como en Android, sigue paso a paso los c√≥digos y cu√©ntanos en los comentarios.

Vamos a a√±adir un proyecto a Firebase, le colocaremos un nombre y finalmente creamos el proyecto; registraremos la aplicaci√≥n para Android y pondremos los campos que nos piden, necesitaremos registrar una clave SHA-01 y es muy recomendado que lo hagamos para mayor seguridad.

Luego descargaremos un archivo llamado `google-services.json` el cual pondremos en la carpeta `app` de nuestro proyecto. Debemos cambiar la directiva `minSdkVersion` en el archivo `build.gradle` que est√° en la carpeta app al valor 21 para tener una mayor compatibilidad.

Ahora a√±adiremos el SDK de Firebase en nuestro proyecto para empezar a trabajar con √©l, iremos al archivo `build.gradle` que se encuentra en la ra√≠z de nuestro proyecto, iremos a la parte de dependencias y a√±adiremos la l√≠nea de c√≥digo que nos dice; ahora iremos al archivo `build.gradle` en la carpeta app para a√±adir otra implementaci√≥n en la parte de dependencias, y nada m√°s, cualquier otra configuraci√≥n que diga Firebase para el SDK ya no es necesario para nuestro proyecto.

### Links:

* [Sign in - Google Accounts](https://console.firebase.google.com/)

* [Carrera de Firebase](https://platzi.com/carrera-firebase/)

* [Authenticating Your Client ¬†|¬† Google APIs for Android
      ¬†|¬† Google Developers](https://developers.google.com/android/guides/client-auth)

### Comentarios:

* **Juan Luis S√°nchez Cardoza** (5) [773990](https://platzi.com/comentario/773990/) 

	[Ac√° ](https://stackoverflow.com/questions/51845559/generate-sha-1-for-flutter-app)tiene una forma de obtener el SHA01 directamente desde AndroidStudio.

	* **David Galicia** [773990] (2)

		Gracias me ayudo tu respuesta

* **Joshval97** (5) [668297](https://platzi.com/comentario/668297/) 

	Si a alguno no el funciona el ‚Äúkeytool‚Äù y no logra arreglar el problema con los dem√°s comentarios, como me paso a mi, pueden seguir los siguientes pasos:
	
	  1. Ir a la ruta C:\Program Files\Java\jdk1.8.0_192\bin ->(independientemente de que versi√≥n de jdk tengan)
	  2. copiar esa direcci√≥n
	  3. ir a este equipo y hacer clic derecho
	  4. clic en propiedades
	  5. clic en ‚Äúconfiguraci√≥n avanzada del sistema‚Äù
	  6. clic en variables de entorno
	  7. buscar la variable que dice ‚ÄúPath‚Äù
	  8. clic en ‚Äúeditar‚Äù
	  9. clic en ‚ÄúNuevo‚Äù y pega la direcci√≥n de el primer paso.
	  10. aceptar, aceptar, aceptar XD
	  11. Abre el Windows PowerShell y escribe "keytool"  
	ya ser√° reconocido por su consola el comando keytool
	
	
	
	Ojo! si no quieren seguir los pasos pueden ver [este v√≠deo](https://www.youtube.com/watch?v=QvTdiwmq5cs) donde se explica paso a paso. Yo lamentablemente lo encontr√© luego de arreglarlo por mi cuenta despu√©s de ratos de investigar y probar varias cosas. üòâ

* **pedrogomezgutierrez** (4) [867940](https://platzi.com/comentario/867940/) 

	Otra forma de generar el SHA-01 es mediante el android studio. Pueden abrir solamente la carpeta de android dentro del proyecto de flutter con el android studio.
	
	Una vez alli, en la parte superior derecha de la pantalla hay un boton con el elefatito de gradle, al presionarlo se desplagara una lista de los diferentes archivos gradle en nuestro proyecto.
	
	Al seleccionar el gradle(root), buscamos en Task -> android -> signingReports. Damos doble click alli, y esperamos a que por consola nos impriman todos los MD5 y SHA-01 relaccionados con nuestro proyecto

* **graphics** (4) [657000](https://platzi.com/comentario/657000/) 

	En Windows utilizando el PowerShell lo que me funciona fue:
	``` 
	    keytool -exportcert -keystore C:\Users\<your_user>\.android\debug.keystore -list -v
	    
	```

	* **dgaribayr** [657000] (1)

		Esto me funcion√≥, muchas gracias.
		
		Aclaro que solo me funcion√≥ utilizando PowerShell, en los otros me mostraba un error.

	* **Elias Ojeda Medina** [657000] (1)

		Excelente, me funciono el comando

	* **Pablo Dom√≠nguez Dur√°n** [657000] (1)

		En el git bash basta con poner ‚Äò~/.android/debug.keystore‚Äô

* **Mart√≠n Chal√©n Chang** (4) [629725](https://platzi.com/comentario/629725/) 

	Ya existe una documentaci√≥n oficial en Firebase para Integrarlo con Flutter, les recomiendo revisarlo.  
	[https://firebase.google.com/docs/flutter/setup](url)

	* **Jeffersson Mu√±oz Torres** [629725] (1)

		üò± Entonces se desactualizo el curso???..

* **Luis Enrique Carre√±o Herre√±o** (3) [844873](https://platzi.com/comentario/844873/) 

	Guia de Firebase para Flutter: <https://codelabs.developers.google.com/codelabs/flutter-firebase/>, si se hace exactamente al pie de la letra funciona pero con la versi√≥n 0.9.13 que menciona Anah√≠ en el siguiente v√≠deo al incluir la dependencia cloud_firestore en el archivo pubspec.yaml

* **strongo** (3) [774846](https://platzi.com/comentario/774846/) 

	Hola chicos, en ciertas ocasiones desde windows no es tan f√°cil, sin embargo pueden acceder al folder de proyecto/android y ejecutar en la consola el comando ¬¥¬¥¬¥gradlew signinReport¬¥¬¥¬¥ all√≠ en la consola podr√°n ver el SHA-1 asignado tanto al release como al debug.

	* **enmacastillo** [774846] (1)

		Jamas le doy un like a nadie pero te lo mereces. Gracias.

* **Abd√≠as Estrada** (2) [918586](https://platzi.com/comentario/918586/) 

	Si tienen problemas para obtener el SHA1 en Windows pueden intentar as√≠
	``` 
	    keytool -list -v \
	    -alias androiddebugkey -keystore C:\\Users\\Abdias\\.android\\debug.keystore
	    
	```
	
	Pueden usar las versiones que genera el proyecto de Flutter [updated minSdkVersion to API level 16](https://firebase.google.com/support/release-notes/android) Pueden leer m√°s al respecto en [Google Play services distribution policy](https://android-developers.googleblog.com/2018/12/google-play-services-discontinuing.html)

* **Diego Vicuna** (2) [824523](https://platzi.com/comentario/824523/) 

	para crear tuve que usar: keytool -genkey -v -keystore my-release-key.keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 10000  
	y me funciono

	* **Sebasti√°n Valencia Zapata** [824523] (1)

		¬°Gracias! Me ayud√≥.

* **nelsonfacundo** (2) [783802](https://platzi.com/comentario/783802/) 

	ami me funciono posicionandme en la ubicacion del keytoll eliminando la \ y listo me salio contrase;a pero solo presione enter y ya  
	keytool -list -v  
	-alias androiddebugkey -keystore C:\Users"PROGRAMADOR V 4.3".android\debug.keystore

	* **Sebasti√°n Valencia Zapata** [783802] (1)

		¬°Mil gracias! Me sirvi√≥.

* **Pablo Dom√≠nguez Dur√°n** (2) [745952](https://platzi.com/comentario/745952/) 

	 **SPOILER ALERT** : Es **importantis√≠mo **que generen el SHA-1 para al autenticaci√≥n con GoogleSignIn

	* **Juan Luis S√°nchez Cardoza** [745952] (1)

		¬°Gracias!

* **de-jesus-meza-esteban** (2) [617322](https://platzi.com/comentario/617322/) 

	‚Äúkeytool‚Äù no se reconoce como un comando interno o externo,  
	programa o archivo por lotes ejecutable!  
	Me sale este mensaje al momento de poner el comando, en windows!!!

	* **We Connect Dev Team Corp** [617322] (1)

		ve a la carpeta  
		C:\Program Files\Java\jdk1.6.0_26\bin\keytool.exe
		
		y en esa carpeta abre el cmd y podras usar el comando

	* **Alvaro Ruben Hurtado Maldonado** [617322] (2)

		en Ubuntu/Linux, hacer esto:
		
		sudo apt-get update  
		sudo apt-get install default-jre
		
		y ya tengran keytools

* **elbuendaza** (2) [605216](https://platzi.com/comentario/605216/) 

	tambien puedes sacar la huella sha1 en el mismo android studio en la parte derecha donde dice dradle->app->signingReport

	* **Gustavo Ram√≠rez Apache** [605216] (1)

		No veo ningun dradle -> app

* **Everson Vidal Mamani Huayta** (2) [604112](https://platzi.com/comentario/604112/) 

	Ese forma de obtener el nombre del paquete de Android yo lo obten√≠a de otra forma que vi en videos de Youtube‚Ä¶ app ->src ->main ->AndroidManifest.xml -> Package=‚ÄúNombre de la app‚Äù Pero la forma que lo hace Anncode es mas mejor grax‚Ä¶

* **hansiruting** (1) [1066685](https://platzi.com/comentario/1066685/) 

	Mmm‚Ä¶ ya cuando hay que andar haciendo hacks, no me gusta, mas en el caso de productos de una misma empresa. Estas cosas me la ‚Äúbajan‚Äù. Seguir√© so√±ando con un mundo mejor.

	* **Sergio Dom√≠nguez** [1066685] (1)

		En qu√© momento hizo algo que no deber√≠a estar permitido?

* **zkmark9999** (1) [1049358](https://platzi.com/comentario/1049358/) 

	Seria bueno un curso de flutter + laravel como alternativa a firebase

* **BoomVam** (1) [1031664](https://platzi.com/comentario/1031664/) 

	Al final lo logre de otra forma:  
	En su proyecto de Android Studio pueden abrir la carpeta ‚Äúandroid‚Äù, luego click derecho a ‚Äúgradlew‚Äù y ‚Äúopen in terminal‚Äù o ‚Äúabrir en terminal‚Äù como les aparezca.  
	Por ultimo pegan **gradlew signingReport** al lado de la ruta del proyecto. Por ejemplo, yo lo pegue asi: K:\curso-avanzado-flutter\Curso-de-Flutter-Avanzado-en-Platzi\android> **gradlew signingReport**  
	Luego enter y esperen a que se haga la magia.  
	Les advierto que van a pasar cosas raras, pero si tienen paciencia al final va a aparecer una lista con un color distinto que diga:  
	**Variant:**  
	**Config:**  
	**Store:**  
	Y en una de esas va a aparecer **SHA1:** Alli encontraran el certificado de firma de depuracion SHA1 solo lo copian y lo pegan.

* **BoomVam** (1) [1031637](https://platzi.com/comentario/1031637/) 

	Tengo un problema
	``` 
	    bash: keytool: command not found```
	    
	```

	* **Oscar Ortiz Valle** [1031637] (2)

		No has integrado a tu computadora los comandos de keytool, mas abajo hay un v√≠deo donde te explican como agregarlo

* **sergio-medina93** (1) [1019933](https://platzi.com/comentario/1019933/) 

	No pude con el Shell de Windows. Entonces me acorde que la consola de Git es Linux por lo que la use y puse el c√≥digo tal como lo puso Anah√≠ y listo funcion√≥.

* **MitoCodeII** (1) [1012845](https://platzi.com/comentario/1012845/) 

	Casi no logro sacar la clave, a mi me funcion abriendo PowerShell como administrador y llendo a la ruta C:\Program Files\Java\jdk1.8.0_144\bin y ahi puse el comendo .\keytool -exportcert -keystore C:\Users\crisa.android\debug.keystore -list -v y funciono por si alguien tiene problemas, gran clase, vamos por vamas

* **Luis Jose Altamirano** (1) [1010575](https://platzi.com/comentario/1010575/) 

	<https://stackoverflow.com/questions/51845559/generate-sha-1-for-flutter-app>
	
	Esta pagina resolvio mis problemas

* **Gabriel Rivera** (1) [1002784](https://platzi.com/comentario/1002784/) 

	Esto del Keytool en Windows 10 lo resolv√≠ primero agregando la carpeta bin de java a las variables de entorno y luego con el comando keytool -exportcert -keystore C:\Users<USERNAME>.android\debug.keystore -list -v

	* **zkmark9999** [1002784] (1)

		ejemplo de como quedaron las veriables?

* **Alejandro Endo** (1) [992225](https://platzi.com/comentario/992225/) 

	Para los que tengan problema con que no les reconoce keytool tienen que agregar la carpeta bin del jdk de java a sus variables de entorno y despu√©s generar la clave.

* **carlosarturocarlosarturo** (1) [950927](https://platzi.com/comentario/950927/) 

	## En Windows me srive:
	
	## keytool -list -v -keystore ‚ÄúC:\Users\yourusernamehere.android\debug.keystore‚Äù -alias androiddebugkey -storepass android -keypass android
	
	Claro, donde dice yourusernamehere, va el nombre de su usuario !!

	* **rony** [950927] (1)

		bien gracias me ayudo

* **joserodrigomorenocordero** (1) [950147](https://platzi.com/comentario/950147/) 

	Casi no lo logro esto fue lo que funciono para mi
	
	keytool -list -v -alias androiddebugkey -keystore C:\Users\usuario.android\debug.keystore

* **Jeffersson Mu√±oz Torres** (1) [946742](https://platzi.com/comentario/946742/) 

	Documentaci√≥n de Firebase de como implementarlo en Flutter:  
	<https://firebase.google.com/docs/flutter/setup>  
	.  
	_*Este es un aporte del compa√±ero **Mart√≠n Chal√©n Chang** , recuperado para que no quede en el olvido_ üòÖ. _Porque es muy buena informaci√≥n._ üëç

* **lucasleonelbloise** (1) [938830](https://platzi.com/comentario/938830/) 

	Para los que tienen problemas en windows o les dice que no reconoce el keytool, este video me soluciono todos los problemas:  
	[](https://www.youtube.com/watch?v=QvTdiwmq5cs)

	* **Jeffersson Mu√±oz Torres** [938830] (1)

		No esta el v√≠deo compa√±ero üòÖ

* **walter** (1) [915788](https://platzi.com/comentario/915788/) 

	me marca lo siguiente En l√≠nea: 1 Car√°cter: 39
	
	* keytool -exportcert -list -v \ -alias <your-key-name> -keystore <path ‚Ä¶
	* 
	```                                      ~
	    
	```
	
	
	
	
	El operador ‚Äò<‚Äô est√° reservado para uso futuro.  
	En l√≠nea: 1 Car√°cter: 65
	
	* ‚Ä¶ ool -exportcert -list -v \ -alias <your-key-name> -keystore <path-to- ‚Ä¶
	* 
	```                                                                ~
	    
	```
	
	
	
	
	El operador ‚Äò<‚Äô est√° reservado para uso futuro.  
	\+ CategoryInfo : ParserError: (üòÉ [], ParentContainsErrorRecordException  
	\+ FullyQualifiedErrorId : RedirectionNotSupported

* **VladDark** (1) [826124](https://platzi.com/comentario/826124/) 

	todo bien por ahora üòÉ

* **Silvia Valdespino Gutierrez** (1) [714620](https://platzi.com/comentario/714620/) 

	En windows lo que me funciono fue:  
	keytool -list -v -keystore C:\Users\TUUSUARIO.android\debug.keystore -alias androiddebugkey -storepass android -keypass android

* **eder_ese** (1) [661714](https://platzi.com/comentario/661714/) 

	No me permite escribir la contrase√±a ‚Äúandroid‚Äù. Al llegar a este punto el teclado no escribe nada. Alguna sugerencia?

	* **joshuaenriquezz** [661714] (2)

		Es normal, cuando es una contrase√±a no se muestra pero si se escribe es como cuando sale **** en una interfaz gr√°fica

	* **eder_ese** [661714] (1)

		Cierto Joshua, mil gracias.

	* **jangove** [661714] (1)

		Por que algunos archivos de flutter cuando lo abro aparacen da√±ados

* **Francisco Javier V√°zquez Paredes** (1) [635060](https://platzi.com/comentario/635060/) 

	A mi me sucedi√≥ lo siguiente:  
	Tengo una MacBook Pro y al momento de querer generar la clave SHA-01 se me present√≥ el siguiente error:
	``` 
	    keytool error: java.lang.Exception: Keystore filedoesnot exist
	    
	```
	
	Este error significa que el archivo **debug.keystore** no existe en la carpeta .android
	
	Para solucionarlo ejecute el siguiente comando dentro de la carpeta **.android**
	``` 
	    $ keytool -genkey -v -keystore debug.keystore -storepass android -aliasandroiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname "C=US, O=Android, CN=Android Debug"
	    
	```
	
	Posterior a eso ejecute lo siguiente:
	``` 
	    $keytool -importkeystore -srckeystore debug.keystore -destkeystore debug.keystore -deststoretype pkcs12
	    
	```
	
	Esto gener√≥ el archivo **debug.keystore** faltante y ya por ultimo ejecut√© el comando:
	``` 
	    keytool -list -v \
	    > -aliasandroiddebugkey -keystore ~/.android/debug.keystore
	    
	```
	
	y obtuve la clave SHA-01

* **Mario Vizcaino** (1) [627392](https://platzi.com/comentario/627392/) 

	por si a alguno le presento problemas al general la clave este [link](https://stackoverflow.com/questions/46958548/im-having-trouble-getting-sha1-certificate-with-keytool) me soluciono el problema.

	* **Felipe Donoso** [627392] (1)

		Vaya que sirvi√≥ saludos√ß11

	* **Germ√°n Arevalo Jerez** [627392] (1)

		Gracias!

	* **Germ√°n Arevalo Jerez** [627392] (1)

		Pero en clases posteriores ese sha1 no me sirve, debido a que me presenta error.

* **zkmark9999** (1) [84372](https://platzi.com/comentario/1049382/) 
Al ejecutar el comando de Authenticating Your Client Me sale El t√©rmino ‚Äòkeytool‚Äô no se reconoce como nombre de un cmdlet, funci√≥n, archi...

* **zkmark9999** (1) [84370](https://platzi.com/comentario/1049377/) 
Al ejecutar le comando de aqui https://developers.google.com/android/g...

* **Luna** (1) [81879](https://platzi.com/comentario/992052/) 
Actualmente implemente login con Google y firebase para Android, sin embargo no logro hacerlo funcionar para login con Google para la we...

	* **Juan Felipe Peralta Zapata** [81879] (1)

		¬°Hola! Cuando intentas esto ¬øTe sale alg√∫n error? Tambi√©n, te comento que aqu√≠ en Platzi tenemos un curso de [Firebase para Web](https://platzi.com/clases/firebase-web/).

* **Pablo Zenteno** (1) [81743](https://platzi.com/comentario/988796/) 
Me da este error al ejecutar el comando para crear las key para android keytool -list -v \ -alias androiddebugkey -keystore ~/.and...

* **robertmezagarcia** (1) [71898](https://platzi.com/comentario/805816/) 
Tuve un problema que me dec√≠a ‚ÄúError occurred during initialization of VM‚Äù

	* **Mois√©s Cede√±o** [71898] (1)

		El problema que probablemente est√©s experimentando de debe a la versi√≥n de Java que tienes instalada, verifica que tengas la versi√≥n correcta.
		
		En este hilo de StackOverflow detallan la posible soluci√≥n a tu problema.
		
		Java me dio a mi muchos problemas al momento de trabajar con Flutter, ser√≠a interesante desarrollar con Flutter pero desde Docker. Creo que esto nos librar√≠a de problemas, lo voy a revisar.
		
		Espero puedas solucionar.

* **ALOBO222** (1) [68998](https://platzi.com/comentario/749560/) 
Me da este error: keytool error: java.lang.Exception: Only one command is allowed: both -exportcert and -list were specified.

	* **strongo** [68998] (1)

		Intenta quitando el flag -exportcert, si esto no te funciona intenta cambiando a la version 8 del JRE

## 0100. Integrando Firebase a Flutter para Android [20226](https://platzi.com/clases/1603-flutter-avanzado/20226-integrando-firebase-a-flutter-para-android/)

### Descripci√≥n:


En esta clase veremos como configurar Firebase para que funcione completamente con Android y no genere ning√∫n error.

Repasemos los puntos que haremos con Android:

* No implementar Firebase como librer√≠a en el proyecto Android. **(Ya lo hicimos)**
* Para FirebaseAuth: 
  * `gradle.properties` a√±adir las l√≠neas: 
    * `android.useAndroidX=true`
    * `android.enableJetifier=true`
  * `compileSdkVersion 28`
  * `targetSdkVersion 28`
* Para CloudFirestore:


``` 
    android {
            defaultConfig {
                    multiDexEnabled true
            }
    }
    
```

Ahora iremos a nuestro archivo `pubspect.yaml` y vamos a colocar las siguientes dependencias: Firebase_auth, google_sign_in, firebase_storage y cloud_firestore; las cuales puedes encontrar en el [repositorio de paquetes de Dart](https://pub.dev/packages)

Aqu√≠ puedes acceder al [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/3.FirebaseAndroid).

### Links:

* [Page 1 | Top Dart packages](https://pub.dev/packages)

### Comentarios:

* **VladDark** (7) [826186](https://platzi.com/comentario/826186/) 

	Tard√≥ un mont√≥n, pero ya logr√≥ compilar üòÉ
	
	Para los que tienen el siguiente problema:
	``` 
	    FAILURE: Build failed with an exception.
	    
	  * Where:
	    Build file '<projects>\platzi-trips\android\app\build.gradle' line: 24
	    
	  * What went wrong:
	    A problem occurred evaluating project ':app'.
	    > ASCII
	    
	```
	
	revis√© este issue en GitHub:  
	<https://github.com/flutter/flutter/issues/38163>  
	y este documento en google drive que tambi√©n est√° en el mismo Issue:  
	<https://docs.google.com/document/d/16Csy9CEjTx9Bt6vcTJY4DpLtCe2DOCKdDkogXAHu9iw/edit>
	
	Espero les sirva üòâ

	* **Omar Jalil Fierro L√≥pez** [826186] (2)

		Rifado, gracias

	* **Alexis** [826186] (2)

		Muchas gracias!!

	* **dsacchileacademia** [826186] (1)

		Muchas gracias !!!, que raro que no se exponga esto en el grupo de platzi

* **Arley Hern√°ndez Rodr√≠guez** (6) [600246](https://platzi.com/comentario/600246/) 

	 **Lineas de codigo:**
	
	**\- android/gradle.properties:**  
	`android.useAndroidX=true`  
	`android.enableJetifier=true`
	
	**\- android/app/build.gradle > defaultConfig:**  
	`multiDexEnabled true`
	
	**\- Dependencias:**  
	`firebase_auth:`  
	`google_sign_in:`  
	`firebase_storage: ^2.1.0`  
	`cloud_firestore: ^0.9.13`

* **Mario Vizcaino** (4) [627833](https://platzi.com/comentario/627833/) 

	Si a alguien le presenta problemas la app para correr, puede intentar abrir el proyecto de android desde android studio y este mismo le pedir√° las dependencias faltantes para correr.

	* **Felipe Concha Almeida** [627833] (2)

		Si pero hay dependencias que se agregan a nivel de Flutter y no de Android.

	* **Jeffersson Mu√±oz Torres** [627833] (1)

		Muy buen tip , pero recomiendo conocer el porque de los cambios se est√°n implementando para as√≠ corregir issues futuros.

* **yuyuman** (2) [832576](https://platzi.com/comentario/832576/) 

	ya pasaron algunos meses del curso y hay algunos packages que no funcionan ya con la version de flutter si quieren que no les pase eso busquenlos en esta pagina y la opcion de install lo copian y lo pegan en las dependencias [zelda](https://pub.dev/packages/)

* **JCMeza** (2) [776549](https://platzi.com/comentario/776549/) 

	Hola, les platico que me paso.  
	Al hacer la edici√≥n de los archivos gradle.properties y build.gradle, con el simple hecho de darle doble clic para editarlo, me marcaba error con la version de gradle, trate de cambiar la versi√≥n, vi varias formas de arreglarla y nada.  
	Lo que tuve que hacer es bajar de nuevo una copia del repositorio, reemplazarlos y cualquier modificaci√≥n que requiero hacer, mejor lo abro en Sublime.
	
	Este detalle me llevo medio d√≠a.

	* **Jeffersson Mu√±oz Torres** [776549] (1)

		Derrepente necesitas actualizar el Android Studio

* **Carlos Andr√©s Millan Satizabal** (2) [619174](https://platzi.com/comentario/619174/) 

	Antes de correr la app por primera vez, vayan a terminal y entren e siguiente comando para borrar los anteriores builds o archivos apk que se generaron anteriormente para asi evitar que le salgan mensajes de error:
	
	flutter clean
	
	Esto se hace mas que todo cuando se baja un proyecto de un repositorio o se hace un git clone.

* **Javier Batres** (2) [611907](https://platzi.com/comentario/611907/) 

	Agreguen la libreria de firebase_core, si bien no da problema a simple vista hara que algunas cosas no funcionen al 100

* **banuelos-diaz-edgar-raul** (2) [60516](https://platzi.com/comentario/606755/) 
Estoy utilizando VSC, como le hago para bajar los SDK de android?

	* **Manuel Ojeda** [60516] (1)

		Puedes consultar aqu√≠:  
		<https://docs.elementscompiler.com/VisualStudio/Setup/AndroidSDK/>

* **MitoCodeII** (1) [1076910](https://platzi.com/comentario/1076910/) 

	Genial gran clase, solo un detalle algunas configuracion ya no son necesarias, o al menos en mica omiti agragar estas dos lineas a mi proyecto y me funciono correctamente:
	
	compileSdkVersion 28  
	targetSdkVersion 28

* **graph** (1) [1074961](https://platzi.com/comentario/1074961/) 

	Tengo ya revisando paso a paso todo 2 dias y me sale este error, tambien veo qu evarios tenemos este problema y no nos estan ayudando a resolver el problema, no se si seria bueno que puedan hacer nuevamente la clase o ayudarnos. necesitamos ayuda en realidad y seguimiento a todos nuestros comentarios
	``` 
	    FAILURE: Build failed with an exception.
	    
	  * What went wrong:
	    Execution failed for task ':app:transformNativeLibsWithStripDebugSymbolForDebug'.
	    > tried to access methodcom.google.common.io.Files.fileTreeTraverser()Lcom/google/common/collect/TreeTraverser;fromclass com.android.utils.FileUtils
	    
	  * Try:
	    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.
	    
	  * Get more help at https://help.gradle.org
	    
	    BUILD FAILED in19s
	    Gradle task assembleDebug failed withexit code 1
	    Exited (sigterm)
	    
	```

* **BoomVam** (1) [1068726](https://platzi.com/comentario/1068726/) 

	No se conecta a firebase y me aparece este error, creo que es un error, no estoy seguro.
	
	2020-03-26 21:36:13.871 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694535s,latest=-21693035s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694535s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:14.000 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694536s,latest=-21693036s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694536s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:14.154 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694536s,latest=-21693036s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694536s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:15.544 3954-7849/? D/MC_BatteryStatsData: operate removing wakelock wake:com.google.firebase.iid.WakeLockHolder  
	2020-03-26 21:36:15.545 3954-7849/? D/MC_BatteryStatsData: operate removing wakelock wake:com.google.firebase.messaging  
	2020-03-26 21:36:15.952 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694538s,latest=-21693038s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694538s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:15.999 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694538s,latest=-21693038s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694538s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:16.224 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694538s,latest=-21693038s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694538s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:16.448 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694538s,latest=-21693038s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694538s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:16.699 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694538s,latest=-21693038s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694538s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:16.843 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694538s,latest=-21693038s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694538s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:18.018 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694540s,latest=-21693040s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694540s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:18.353 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694540s,latest=-21693040s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694540s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:18.391 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694540s,latest=-21693040s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694540s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:27.943 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694550s,latest=-21693050s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694550s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:36:28.045 833-844/? I/ActivityManager: Start proc 7874:com.google.android.youtube/u0a76 for service com.google.android.youtube/com.firebase.jobdispatcher.GooglePlayReceiver  
	2020-03-26 21:36:30.017 7874-7874/? V/ActivityThread: SVC-Creating service CreateServiceData{token=android.os.BinderProxy@8749c51 className=com.firebase.jobdispatcher.GooglePlayReceiver packageName=com.google.android.youtube intent=null}  
	2020-03-26 21:36:30.018 7874-7874/? D/ActivityThread: SVC-Calling onStartCommand: com.firebase.jobdispatcher.GooglePlayReceiver@8ed6cb6, flags=0, startId=1  
	2020-03-26 21:36:30.672 7874-7950/? I/FA: To enable faster debug mode event logging run:  
	adb shell setprop debug.firebase.analytics.app com.google.android.youtube  
	2020-03-26 21:36:39.832 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694561s,latest=-21693061s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694561s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:37.064 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694679s,latest=-21693179s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694679s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:37.242 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694679s,latest=-21693179s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694679s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:37.897 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694679s,latest=-21693179s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694679s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:38.108 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694680s,latest=-21693180s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694680s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:39.490 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694681s,latest=-21693181s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694681s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:40.106 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694682s,latest=-21693182s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694682s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:40.279 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694682s,latest=-21693182s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694682s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:38:40.842 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694682s,latest=-21693182s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694682s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:41:02.039 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694824s,latest=-21693324s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694824s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:41:02.232 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694824s,latest=-21693324s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694824s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:41:02.396 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21694824s,latest=-21693324s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21694824s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:44:46.832 3954-8026/? D/MC_BatteryStatsData: operate removing wakelock wake:com.google.firebase.iid.WakeLockHolder  
	2020-03-26 21:44:46.832 3954-8026/? D/MC_BatteryStatsData: operate removing wakelock wake:com.google.firebase.messaging  
	2020-03-26 21:44:51.868 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695053s,latest=-21693553s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695053s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:44:52.172 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695054s,latest=-21693554s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695054s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:48:29.061 6881-6881/? D/ActivityThread: BDC-Calling onReceive: intent=Intent { act=com.google.android.c2dm.intent.RECEIVE flg=0x10000010 pkg=com.whatsapp cmp=com.whatsapp/com.google.firebase.iid.FirebaseInstanceIdReceiver (has extras) }, receiver=com.google.firebase.iid.FirebaseInstanceIdReceiver@e309e5  
	2020-03-26 21:48:29.470 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695271s,latest=-21693771s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695271s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:48:29.695 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695271s,latest=-21693771s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695271s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:38.871 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695460s,latest=-21693960s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695460s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:39.156 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695461s,latest=-21693961s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695461s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:39.414 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695461s,latest=-21693961s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695461s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:39.537 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695461s,latest=-21693961s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695461s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:39.697 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695461s,latest=-21693961s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695461s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:39.778 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695461s,latest=-21693961s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695461s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:44.835 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695466s,latest=-21693966s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695466s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:53.533 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695475s,latest=-21693975s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695475s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:51:54.369 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695476s,latest=-21693976s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695476s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:52:19.158 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695501s,latest=-21694001s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695501s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:53:19.572 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695561s,latest=-21694061s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695561s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:53:20.282 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695562s,latest=-21694062s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695562s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}  
	2020-03-26 21:53:20.324 1153-1816/? E/ExecutionCriteria: Package unavailable for task: com.wordviewer.word.docx.reader/com.firebase.jobdispatcher.GooglePlayReceiver{u=0 tag=‚Äúcom.wordviewer.word.docx.reader-job‚Äù trigger=window{start=0s,end=1500s,earliest=-21695562s,latest=-21694062s} requirements=[NET_ANY] attributes=[PERSISTED,RECURRING] scheduled=-21695562s last_run=N/A jid=N/A status=PENDING retries=0 client_lib=FIREBASE_JOB_DISPATCHER-1}

* **jcalderon.sys** (1) [1051315](https://platzi.com/comentario/1051315/) 

	Integrando FIrebase

* **Oscar Ortiz Valle** (1) [1028565](https://platzi.com/comentario/1028565/) 

	Me sale el siguiente error y no se a que se debe, ya revise la linea donde me marca error y no parece nada mal.  
	FAILURE: Build failed with an exception.
	
	* Where:  
	Build file ‚ÄòC:\Users\skar6\Curso-de-Flutter-Avanzado-en-Platzi\android\app\build.gradle‚Äô line: 24
	
	* What went wrong:  
	A problem occurred evaluating project ‚Äò:app‚Äô.
	
	
	
	
	> ASCII
	
	* Try:  
	Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.
	
	* Get more help at <https://help.gradle.org>
	
	
	
	
	BUILD FAILED in 2s  
	Finished with error: Gradle task assembleDebug failed with exit code 1

	* **operez12** [1028565] (1)

		hola tienes que actualizar las dependencia de firebase y luego revisar la version del sdk que esta compilando al celular, eso me paso ayer.

	* **BoomVam** [1028565] (1)

		Hola operez12, como se hace eso?

* **MitoCodeII** (1) [1012904](https://platzi.com/comentario/1012904/) 

	Perfecto, reinicie Android Studio y funciono para mi, gran clase

* **davidsc34** (1) [990695](https://platzi.com/comentario/990695/) 

	Esta configuracion apartir de que version de android funcionaria, yo en mi cel tengo la version 7, funcionaria? o como puedo hacer que sea compatible con mas veriones de android?. Saludos espero me puedan ayudar compa√±eros. GRacias

	* **happiestack** [990695] (1)

		A partir de lollipop, pero esto es por agregar Firestore, si usas la base de datos json normal de firebase puedes en versiones anteriores a lollipop

	* **davidsc34** [990695] (1)

		Muchas gracias amigo,por la ayuda

* **Julio Sadrash** (1) [973403](https://platzi.com/comentario/973403/) 

	Hola Alguien me podria ayudar con el siguiente problema?:  
	`* Error running Gradle:  
	ProcessException: Process ‚ÄúC:\Users\JDrash\Documents\Estudio\Platzi\Flutter\curso-avanzado-flutter\Curso-de-Flutter-Avanzado-en-Platzi\android\gradlew.bat‚Äù exited abnormally:
	
	FAILURE: Build failed with an exception.
	
	* Where:  
	Build file ‚ÄòC:\Users\JDrash\Documents\Estudio\Platzi\Flutter\curso-avanzado-flutter\Curso-de-Flutter-Avanzado-en-Platzi\android\app\build.gradle‚Äô line: 1
	
	* What went wrong:  
	A problem occurred evaluating project ‚Äò:app‚Äô.
	
	
	
	
	> Could not find method Properties() for arguments [] on project ‚Äò:app‚Äô of type org.gradle.api.Project.
	
	* Try:  
	Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.
	
	* Get more help at <https://help.gradle.org>
	
	
	
	
	BUILD FAILED in 1s  
	Command: C:\Users\JDrash\Documents\Estudio\Platzi\Flutter\curso-avanzado-flutter\Curso-de-Flutter-Avanzado-en-Platzi\android\gradlew.bat app:properties
	
	Finished with error: Please review your Gradle project setup in the android/ folder.`
	
	![](!%5BImagen1.png%5D\(https://static.platzi.com/media/user_upload/Imagen1-c467a11e-da4e-46c8-bce0-eb939eabb677.jpg\))

* **Sindy Johana Vergara Rodriguez** (1) [955586](https://platzi.com/comentario/955586/) 

	Tengo el siguiente error para android, desde windows  
	E/flutter ( 2035): [ERROR:flutter/lib/ui/ui_dart_state.cc(157)] Unhandled Exception: PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 12500: , null)

* **joserodrigomorenocordero** (1) [950242](https://platzi.com/comentario/950242/) 

	No hay soluci√≥n que sea compatible con versiones anteriores a la 28?? esto limita a unos pocos dispositivos  
	üò¶

* **Jaime Mena** (1) [904716](https://platzi.com/comentario/904716/) 

	No puedo conectar con IOS  
	Este es el error:  
	Module ‚Äòcloud_firestore‚Äô not found  
	GeneratedPluginRegistrant.m

* **ErikaPM** (1) [860742](https://platzi.com/comentario/860742/) 

	Me presentaba este error al correr ERROR: [TAG] Failed to resolve variable ‚Äò${animal.sniffer.version}‚Äô, pude resolverlo invalidando los cach√©s en el men√∫ File de Android Studio. üòÉ

	* **Sebastian Chicoma Sandmann** [860742] (3)

		En mi caso, al usar Visual Studio, solucion√© ese error con lo siguientes pasos:
		
		* En el archivo pubspec.yaml agregu√©:
		
		
		``` 
		    module:
		      androidX:true
		    
		```
		
		* Ejecut√© en la terminal: flutter clean
		
		
		
		Y listo, problema resuelto üòÉ

* **robertmezagarcia** (1) [810484](https://platzi.com/comentario/810484/) 

	Al compilarlo me sale este error üòï no se como solucionarlos  
	Ayuda por favor  
	Running Gradle task ‚ÄòassembleDebug‚Äô‚Ä¶  
	Finished with error: Gradle task assembleDebug failed with exit code 1

	* **Diego Vicuna** [810484] (1)

		que version de kotlin usas? yo solucione actualizando mi version a la 1.3.10 en el build.gradle

* **nelsonfacundo** (1) [799552](https://platzi.com/comentario/799552/) 

	como solu
	``` 
	    Launching lib\main.dart on Android SDK built for x86 in debug mode...
	    
	    registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)
	    registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)
	    registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)
	    registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)
	    registerResGeneratingTask is deprecated, use registerGeneratedResFolders(FileCollection)
	    Note: D:\flutter\.pub-cache\hosted\pub.dartlang.org\cloud_firestore-0.9.13+1\android\src\main\java\io\flutter\plugins\firebase\cloudfirestore\CloudFirestorePlugin.java uses or overrides a deprecated API.
	    Note: Recompile with -Xlint:deprecation for details.
	    Note: D:\flutter\.pub-cache\hosted\pub.dartlang.org\cloud_firestore-0.9.13+1\android\src\main\java\io\flutter\plugins\firebase\cloudfirestore\CloudFirestorePlugin.java uses unchecked orunsafeoperations.
	    Note: Recompile with -Xlint:unchecked for details.
	    Note: D:\flutter\.pub-cache\hosted\pub.dartlang.org\firebase_core-0.3.4\android\src\main\java\io\flutter\plugins\firebase\core\FirebaseCorePlugin.java uses unchecked orunsafeoperations.
	    Note: Recompile with -Xlint:unchecked for details.
	    Built build\app\outputs\apk\debug\app-debug.apk.
	    I/FA      ( 4482): This instance being marked as an uploader
	    W/FA      ( 4482): Table has extra columns. table, columns: events, current_session_count
	    W/FA      ( 4482): Table has extra columns. table, columns: apps, safelisted_events, dynamite_version
	    W/FA      ( 4482): Table has extra columns. table, columns: event_filters, session_scoped
	    W/FA      ( 4482): Table has extra columns. table, columns: property_filters, session_scoped
	    W/System  ( 4482): ClassLoader referencedunknownpath: /system/priv-app/PrebuiltGmsCore/lib/x86
	    W/GooglePlayServicesUtil( 4482): Google Play services outofdate.  Requires 12451000 but found11743470
	    W/FA      ( 4482): Callable skipped the worker queue.
	    
	    
	```

* **jlquichimbo** (1) [784178](https://platzi.com/comentario/784178/) 

	Compa√±eros, a alguien le lanza este error?  
	No s√® como corregirlo, les agradecer√≠a mucho su ayuda.
	``` 
	    The following assertion was thrown building IconTheme(IconThemeData#2abdc(color: Color(0xdd000000))):
	    A GlobalKey was used multiple times inside one widget's child list.
	    
	```

	* **jlquichimbo** [784178] (2)

		Se corrigi√≥ reiniciando todo. üòÑ

	* **nelsonfacundo** [784178] (1)

		alguien me puede ayuda

	* **Jeffersson Mu√±oz Torres** [784178] (1)

		T√≠pico de Android Studio aveces se cuelga jeje

* **Pablo Dom√≠nguez Dur√°n** (1) [742058](https://platzi.com/comentario/742058/) 

	S√∫per trucos! Por mi cuenta y con los builds de Firebase fallando mi proyecto se detuvo 2 semanas

* **Alejandro** (1) [731846](https://platzi.com/comentario/731846/) 

	A que se refiere esto?
	``` 
	    ERROR: [TAG] Failed toresolvevariable'${animal.sniffer.version}'
	    
	```

* **Silvia Valdespino Gutierrez** (1) [714661](https://platzi.com/comentario/714661/) 

	Ya viene en el archivo gradle.properties estas  
	android.useAndroidX=true  
	android.enableJetifier=true

	* **Jeffersson Mu√±oz Torres** [714661] (1)

		Es que depende del numero de commit que hayas descargado el proyecto üòÖ

* **Carlos Andr√©s Millan Satizabal** (1) [619136](https://platzi.com/comentario/619136/) 

	La nueva direcci√≥n de los paquetes es:
	
	<https://pub.dev/packages/>

* **Javier Batres** (1) [611900](https://platzi.com/comentario/611900/) 

	Al abrir el proyecto en android studio pueden decirle que habra solo la parte de android y despues decirle que lo migre a AndroidX.

* **Gustavo Ram√≠rez Apache** (1) [610094](https://platzi.com/comentario/610094/) 

	```
	    Launching lib\main.dart on Android SDK built for x86 in debug mode...
	    Initializing gradle...
	    Resolving dependencies...
	    --------- beginning of main
	    06-0917:07:27.583 I/GnssLocationProvider( 1879): WakeLock released by handleMessage(REPORT_SV_STATUS, 0, com.android.server.location.GnssLocationProvider$SvStatusInfo@84d44a)
	    Unhandled exception:
	    Exit code -1073740940 from: D:/android-sdk\platform-tools\adb.exe -s emulator-5554 shell -x logcat -v time -t 1
	    #0      _runWithLoggingSync (package:flutter_tools/src/base/process.dart:360:7)
	    #1      runCheckedSync (package:flutter_tools/src/base/process.dart:289:10)
	    #2      AndroidDevice.lastLogcatTimestamp (package:flutter_tools/src/android/android_device.dart:513:27)
	    #3      _AdbLogReader._start (package:flutter_tools/src/android/android_device.dart:688:41)
	    #4      _runGuarded (dart:async/stream_controller.dart:805:24)
	    #5      _BroadcastStreamController._subscribe (dart:async/broadcast_stream_controller.dart:213:7)
	    #6      _ControllerStream._createSubscription (dart:async/stream_controller.dart:818:19)
	    #7      _StreamImpl.listen (dart:async/stream_impl.dart:472:9)
	    #8      FlutterDevice.startEchoingDeviceLog (package:flutter_tools/src/resident_runner.dart:318:71)
	    #9      FlutterDevice.runHot (package:flutter_tools/src/resident_runner.dart:361:5)
	    <asynchronous suspension>
	    #10     HotRunner.run (package:flutter_tools/src/run_hot.dart:253:39)
	    <asynchronous suspension>
	    #11     AppDomain.startApp.<anonymous closure> (package:flutter_tools/src/commands/daemon.dart:389:23)
	    #12     AppDomain.launch.<anonymous closure> (package:flutter_tools/src/commands/daemon.dart:449:26)
	    <asynchronous suspension>
	    #13     AppContext.run.<anonymous closure> (package:flutter_tools/src/base/context.dart:142:29)
	    <asynchronous suspension>
	    #14     _rootRun (dart:async/zone.dart:1124:13)
	    #15     _CustomZone.run (dart:async/zone.dart:1021:19)
	    #16     _runZoned (dart:async/zone.dart:1516:10)
	    #17     runZoned (dart:async/zone.dart:1463:12)
	    #18     AppContext.run (package:flutter_tools/src/base/context.dart:141:18)
	    <asynchronous suspension>
	    #19     AppInstance._runInZone (package:flutter_tools/src/commands/daemon.dart:819:20)
	    #20     AppDomain.launch (package:flutter_tools/src/commands/daemon.dart:447:15)
	    <asynchronous suspension>
	    #21     AppDomain.startApp (package:flutter_tools/src/commands/daemon.dart:383:12)
	    <asynchronous suspension>
	    #22     RunCommand.runCommand (package:flutter_tools/src/commands/run.dart:301:38)
	    <asynchronous suspension>
	    #23     FlutterCommand.verifyThenRunCommand (package:flutter_tools/src/runner/flutter_command.dart:559:18)
	    #24     _asyncThenWrapperHelper.<anonymous closure> (dart:async-patch/async_patch.dart:77:64)
	    #25     _rootRunUnary (dart:async/zone.dart:1132:38)
	    #26     _CustomZone.runUnary (dart:async/zone.dart:1029:19)
	    #27     _FutureListener.handleValue (dart:async/future_impl.dart:126:18)
	    #28     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:639:45)
	    #29     Future._propagateToListeners (dart:async/future_impl.dart:668:32)
	    #30     Future._complete (dart:async/future_impl.dart:473:7)
	    #31     _SyncCompleter.complete (dart:async/future_impl.dart:51:12)
	    #32     _AsyncAwaitCompleter.complete (dart:async-patch/async_patch.dart:28:18)
	    #33     _completeOnAsyncReturn (dart:async-patch/async_patch.dart:294:13)
	    #34     RunCommand.usageValues (package:flutter_tools/src/commands/run.dart)
	    #35     _asyncThenWrapperHelper.<anonymous closure> (dart:async-patch/async_patch.dart:77:64)
	    #36     _rootRunUnary (dart:async/zone.dart:1132:38)
	    #37     _CustomZone.runUnary (dart:async/zone.dart:1029:19)
	    #38     _FutureListener.handleValue (dart:async/future_impl.dart:126:18)
	    #39     Future._propagateToListeners.handleValueCallback (dart:async/future_impl.dart:639:45)
	    #40     Future._propagateToListeners (dart:async/future_impl.dart:668:32)
	    #41     Future._complete (dart:async/future_impl.dart:473:7)
	    #42     _SyncCompleter.complete (dart:async/future_impl.dart:51:12)
	    #43     _AsyncAwaitCompleter.complete.<anonymous closure> (dart:async-patch/async_patch.dart:33:20)
	    #44     _rootRun (dart:async/zone.dart:1124:13)
	    #45     _CustomZone.run (dart:async/zone.dart:1021:19)
	    #46     _CustomZone.bindCallback.<anonymous closure> (dart:async/zone.dart:947:23)
	    #47     _microtaskLoop (dart:async/schedule_microtask.dart:41:21)
	    #48     _startMicrotaskLoop (dart:async/schedule_microtask.dart:50:5)
	    #49     _runPendingImmediateCallback (dart:isolate-patch/isolate_patch.dart:115:13)
	    #50     _RawReceivePortImpl._handleMessage (dart:isolate-patch/isolate_patch.dart:172:5)
	    
	```

* **Jos√© Mauricio Chavarr√≠a** (1) [603397](https://platzi.com/comentario/603397/) 

	Por qu√© a firebase_auth y google_sign_in no se le pone n√∫mero de versi√≥n?

	* **farick mena** [603397] (4)

		No se le pone numero de versi√≥n, para que Flutter utilice la ultima versi√≥n de ese plugin.

	* **Jos√© Mauricio Chavarr√≠a** [603397] (1)

		Gracias!

	* **Everson Vidal Mamani Huayta** [603397] (1)

		se puede aplicar lo mismo en las demas packages‚Ä¶ te lo permite, no siempre son esos 2 ejemplos‚Ä¶

* **David Galicia** (1) [77644](https://platzi.com/comentario/907230/) 
Todo bien hasta aqu√≠ solo me queda la duda de ¬øHay alguna raz√≥n por la cual cambiar a un dispositivo f√≠sico a partir de esta clase o pod...

* **DracoClvo** (1) [72686](https://platzi.com/comentario/820550/) 
me salio este error alguien sabe que hacer? Because platzi_trips depends on google_sing_in any which doesn't exist (could not find ...

* **davidcobacasas** (1) [65148](https://platzi.com/comentario/686714/) 
Hola. Como puedo saber si mi app de flutter se conecto a firebase, parece que la p√°gina de firebase a cambiado y la no muestra que la app...

	* **Nicolas Beltrami** [65148] (2)

		Lo que hice yo, fue luego de instalar las dependencias, levant√© la app y revis√© que la consola de depuraci√≥n no me entregara ning√∫n error, tambi√©n not√© que cambi√≥ pero al menos te avisa cuando no se pudo conectar.

* **Jos√© Mauricio Chavarr√≠a** (1) [60287](https://platzi.com/comentario/603397/) 
Por qu√© a firebase_auth y google_sign_in no se le pone n√∫mero de versi√≥n?

	* **farick mena** [60287] (4)

		No se le pone numero de versi√≥n, para que Flutter utilice la ultima versi√≥n de ese plugin.

* **Lenin Ramiro Torres Larco** (0) [1026993](https://platzi.com/comentario/1026993/) 

	Hola tengo 2 errores  
	build.gradle  
	(40, 12) // TODO: Specify your own unique Application ID (<https://developer.android.com/studio/build/application-id.html>).  
	(52, 16) // TODO: Add your own signing config for the release build.

* **Alvaro Ruben Hurtado Maldonado** (0) [861503](https://platzi.com/comentario/861503/) 

	que pasos se debe seguir para configurar.  
	que otro colaborador tenga acceso al proyecto firebase y proyecto flutter?

	* **Jeffersson Mu√±oz Torres** [861503] (1)

		Si deseas que otro colaborador tenga visualizaci√≥n de la data en la plataforma de Firebase existe una secci√≥n donde puedes agregarlos como Editor de en la misma plataforma. Si lo que deseas es que todos consuman de la misma base de datos tendr√≠as que compartir tus credenciales del proyecto como APIKey, etc. Si deseas un espacio colaborativo para el desarrollo de la aplicaci√≥n de Flutter te recomiendo los cursos de GitLab y GitHub de Platzi para que los implementes adecuadamente a tus necesidades. Exitos ! üëç

## 0110. Integrando Firebase a Flutter para iOS [20227](https://platzi.com/clases/1603-flutter-avanzado/20227-integrando-firebase-a-flutter-para-ios/)

### Descripci√≥n:


Ahora en esta clase configuraremos Flutter y Firebase para iOS. Cuando desarrollamos con Flutter debemos siempre tener un ojo en Android y otro en iOS, en lo que instalaci√≥n de paquetes respecta, una que funciona bien en Android puede romperse en iOS o viceversa; en esta clase te mostraremos c√≥mo implementar bien iOS.

Debemos registrar la aplicaci√≥n en Firebase as√≠ como lo hicimos para registrarlo con Android.

Repasemos los puntos que ir√°n en este v√≠deo:

* No implementar Firebase con **cocoapods**.
* Pegar el archivo `GoogleService-Info.plist` a nivel de Runner
* Para Google Sign In:
* Copiar el fragmento de c√≥digo para el key **CFBundleURLTypes** que se encuentra [aqu√≠](https://pub.dev/packages/google_sign_in).
* Para CloudFirestore:
* Actualizar Firebase con el comando pod: $ `pod update Firebase`



Aqu√≠ puedes acceder al [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/4.FirebaseiOS).

### Links:

* [google_sign_in | Flutter Package](https://pub.dev/packages/google_sign_in)

### Comentarios:

* **ricindigus** (6) [899239](https://platzi.com/comentario/899239/) 

	Estoy siguiendo los cursos y me pareci√≥ muy bueno el de dart y el de flutter. Segu√≠ los 2 cursos a la par con los de otra plataforma (CF) y los complemente excelentemente.
	
	Pero a pesar que el contenido de este curso (Flutter Avanzado) es interesante y me encanta firebase, de hecho lo uso en desarrollo android, me parece que no era el lugar para ponerlo.
	
	Considero que hay otras cosas mas sobre Flutter que se puede hablar (estoy siguiendo a la par el 3er curso de la otra plataforma tambien), antes de empezar a verlo integrada con una tecnologia como Firebase, y hasta me parece que podria ir como un curso a parte.
	
	o en su defecto tendria que ir al final de todo el curso avanzado como algo agregado, asi como hicieron con Dart , no tan atinado pero bueno, al menos lo pusieron al final de todo. Igual acabar√© el curso ,la app y aprobar√© el examen mas adelante como lo hice con los 2 anteriores, pero debo hacer un alto ac√° para ir a la otra plataforma a continuar con lo que considero el camino correcto antes de ver integracion con firebase, me parece se comieron una gran parte de temas a tratar antes de tocar Flutter con Firebase. Como digo incluso podr√≠a hacerse como un curso a parte, incluso despues de aprender a trabajar con BD, luego de aprender a consumir servicios en general, etc. Me encanto ver el tema de arquitectura, pero luego creo que se salieron del camino. Con lo cual tanto el curso de Dart y Flutter me parecieron muy ordenados, pero este desafortunadamente no. üëé . No me afecta mucho el tema de firebase ya que ya lo he manejado en mis apps android y uso mi mac sin problemas para IOS, pero a alguien que recien empieza podria serle confuso y ni siquiera tener una mac para probar que todo lo que esta haciendo le va bien (de hecho la profesora lo comenta antes de iniciar con Firebase), de hecho lo he leido en los comentarios de algunos compa√±eros. Es una critica con buena onda. Volvi a Platzi despues de mucho tiempo, por una oferta de Freddy(gracias freddy üòÑ) y me lleve un buen sabor de boca con los 2 primeros cursos que hicieron interesarme mas en la tecnologia Flutter y aprenderlo ahora si de verdad, tanto que adquiri tambien una suscripcion en otra plataforma para complementar todo Flutter, (de hecho voy a continuar con mi suscripcion en platzi por los cursos de IOS), pero el tercer curso de Flutter (Flutter avanzado) me parece fuera de tiempo en la linea de aprendizaje de esta tecnologia, hay mas cosas que se podrian ver antes de juntarlo con Firebase.

* **Francisco Javier V√°zquez Paredes** (4) [635535](https://platzi.com/comentario/635535/) 

	En mi caso, para poder ejecutar el pod update Firebase tuve que ejecutar primero la aplicaci√≥n en el simulador de iOS.
	
	Con eso se crea el archivo Podfile y ya se puede ejecutar el comando para actualizar Firebase.

* **AndresArdilaB** (4) [607716](https://platzi.com/comentario/607716/) 

	Si tienen problemas con **pod update Firebase** pueden descargar los archivos ‚ÄúPodfile‚Äù y ‚ÄúPodfile.lock‚Äù del repositorio:
	
	<https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/4.FirebaseiOS/ios>
	
	Despu√©s si podr√°n ejecutarlo.

* **Mario Vizcaino** (3) [627888](https://platzi.com/comentario/627888/) 

	se debe ejecutar pod install antes de pod update Firebase

* **Amaru Ugaz** (2) [1040679](https://platzi.com/comentario/1040679/) 

	En mi caso no tengo errores, funciona el simulador y todo, pero nunca se sincroniza con Firebase. se queda esperando eternamente que finalice el proceso
	
	Mi consola muestra lo siguiente:
	``` 
	    Launching lib/main.dart on iPhone 11 Pro Max in debug mode...
	    Running Xcode build...
	    Xcode build done.                                           28,2s
	    	path: satisfied (Path is satisfied), interface: en0
	    Configuring the default Firebase app...
	    Configured the default Firebase app __FIRAPP_DEFAULT.
	    Syncing files to device iPhone 11 Pro Max...
	    	path: satisfied (Path is satisfied), interface: en0
	    	path: satisfied (Path is satisfied), interface: en0
	    	[C1.11A01B709-91F1-4AD8-B133-2D5B37CC86A7 2800:300:6311:40f0::2.53518<->2800:3f0:4003:c01::5f.443]
	    	Connected Path: satisfied (Path is satisfied), interface: en0
	    	Duration: 240.202s, DNS @0.007s took 0.007s, TCP @0.021s took 0.011s, TLS took 0.126s
	    	bytes in/out: 0/0, packets in/out: 0/0, rtt: 0.000s, retransmitted packets: 0, out-of-order packets: 0```
	    
	```

	* **Maria Isabel Orozco R** [1040679] (1)

		Hola! Me est√° pasando lo mismo, exactamente igual, ¬øc√≥mo lo solucionaste?

	* **Angel Bejarano** [1040679] (1)

		Bro no se si solucionaste, pero me paso lo mismo y que hice fue eliminar las app que ya tenia del proyecto en el simulador y volvi a compilar.

* **jangove** (2) [990010](https://platzi.com/comentario/990010/) 

	me sale desabilitare la opcion de fluuter con IOS CUAL SERIA EL PROBLEMA?

* **IACORTEZ** (2) [62884](https://platzi.com/comentario/647736/) 
me he quedado atorado en la parte de actualizar Firebase, me dice que el command not found!! ayuda porfavor.

	* **Diego Alexander Forero Higuera (Platzi)** [62884] (1)

		Qu√© comando estas ejecutando exactamente?, puedes compartir una captura de pantalla de la terminal/consola

* **cryptt3r** (2) [61144](https://platzi.com/comentario/617048/) 
¬øSi estoy desarrollando en VS Code c√≥mo puedo hacer para generar los archivos Podfile y Podfile.lock si...

	* **fabian82** [61144] (1)

		Tengo la misma pregunta !!!

* **Guillermo Granda** (1) [1076050](https://platzi.com/comentario/1076050/) 

	Este fue el log al correr la app en mi android. Aunque s√≠ instal√≥ la aplicaci√≥n y confirmo en firebase que se conect√≥ correctamente
	``` 
	    Launching lib/main.dart on SM G9650 in debug mode...
	    Running Gradle task 'assembleDebug'...
	    
	    Welcome to Gradle 4.10.2!
	    
	    Here are the highlights of this release:
	     - Incremental Java compilation bydefault
	     - Periodic Gradle caches cleanup
	     - Gradle Kotlin DSL 1.0-RC6
	     - Nested included builds
	     - SNAPSHOTpluginversionsin the `plugins {}`block
	    
	    For more details see https://docs.gradle.org/4.10.2/release-notes.html
	    
	    ERROR: [TAG] Failedto resolve variable'${junit.version}'
	    ERROR: [TAG] Failedto resolve variable'${animal.sniffer.version}'
	    ERROR: [TAG] Failedto resolve variable'${animal.sniffer.version}'
	    Note: /Users/flutter/.pub-cache/hosted/pub.dartlang.org/firebase_core-0.3.4/android/src/main/java/io/flutter/plugins/firebase/core/FirebaseCorePlugin.java uses unchecked orunsafeoperations.
	    Note: Recompile with -Xlint:unchecked for details.
	    Note: /Users/flutter/.pub-cache/hosted/pub.dartlang.org/cloud_firestore-0.9.13+1/android/src/main/java/io/flutter/plugins/firebase/cloudfirestore/CloudFirestorePlugin.java uses or overrides a deprecated API.
	    Note: Recompile with -Xlint:deprecation for details.
	    Note: /Users/flutter/.pub-cache/hosted/pub.dartlang.org/cloud_firestore-0.9.13+1/android/src/main/java/io/flutter/plugins/firebase/cloudfirestore/CloudFirestorePlugin.java uses unchecked orunsafeoperations.
	    Note: Recompile with -Xlint:unchecked for details.
	    ‚úì Built build/app/outputs/apk/debug/app-debug.apk.
	    Installing build/app/outputs/apk/app.apk...
	    Debug service listening on ws://127.0.0.1:52687/jx3pVGNV508=/ws
	    Syncing files to device SM G9650...
	    
	```

* **webuser** (1) [997083](https://platzi.com/comentario/997083/) 

	Hola Estoy siguiendo el curso al pie de la letas. Hasta ahora todo al 100%, pero yo tengo Ubuntu. Como puedo identificar los datos para registrar el producto en firebase?

	* **Gabriel De Andrade** [997083] (1)

		La verdad es que el desarrollo iOS es exclusivo para Mac üò¶

* **daniel herrera s√°nchez** (1) [927769](https://platzi.com/comentario/927769/) 

	Si alguno le sale que el comando pod no ha sido encontrado,
	
	Para MAC:
	``` 
	    brew install cocoapods
	    brew cask install cocoapods-app
	    
	```
	
	luego si les debe funcionar pero recuerden cerrar la terminal

* **Carlos Andr√©s Ruiz Barrera** (1) [879116](https://platzi.com/comentario/879116/) 

	Recomiendo cuando hagan estos cambios tan criticos hacer un flutter clean dentro del directorio del proyecto ya que as√≠ te puedes evitar errores del entorno de programaci√≥n (En mi caso Visual Studio Code)

* **jorge-hernandez** (1) [839697](https://platzi.com/comentario/839697/) 

	Esta muy cool el curso, me esta gustando mucho, yo desarrollo en iOS y bueno, creo aqui falto explicar un poco m√°s el por qu√© no debe agregarse el pod
	
	Por lo que vi es que flutter por defecto te instala el Podfile por defecto, no es que no lo ocupemos, es que realmente ya esta creado en el proyecto, en dado caso que no lo tengas si tendr√≠as que crearlo.
	
	`MBP-de-Victor:ios victor$ ls Flutter Frameworks ->>Podfile Runner Runner.xcodeproj Runner.xcworkspace ServiceDefinitions.json`
	
	Es como un gradle pero para iOS , el update sirve para actualizar el firebase y realmente yo recomendar√≠a en lugar de hacer el update hacer un :  
	pod install  
	posiblemente sirva mejor =)

* **javierriofrio** (1) [803615](https://platzi.com/comentario/803615/) 

	En mi caso me toco crear el archivo Podfile.lock a partir del repositorio de github <https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/4.FirebaseiOS/ios>

* **de-jesus-meza-esteban** (1) [618794](https://platzi.com/comentario/618794/) 

	yo no tengo una mac, como puedo emular mi aplicaci√≥n para ios.!!!

	* **Francisco Javier Morales Jim√©nez** [618794] (2)

		No se puede, se necesita por fuerza el sistema operativo iOS. Tal vez puedes bajar alguna maquina virtual de iOS y correr todo el proyecto desde ah√≠, pero no hay muchas y no se que tan estables (recomendadas) sean.

	* **Joshval97** [618794] (5)

		Una opci√≥n es [MACINCLOUD](https://www.macincloud.com/)
		
		‚Äú¬øQU√â ES MACINCLOUD?  
		MacinCloud es un proveedor l√≠der de soluciones de Mac en la nube con presencia global. Puede administrar y acceder a los  
		servidores MacinCloud desde cualquier lugar con acceso a Internet para desarrollar aplicaciones y realizar tareas que requieren una Mac.‚Äù
		
		Esta opci√≥n no la he usado realmente, pero de parte de algunos desarrolladores amigos he escuchado que es un buen servicio si no tienes intenci√≥n o dinero para una Mac.

	* **ricindigus** [618794] (1)

		Una MAC seria lo mejor, no se si bastara con una solucion en la nube.  
		Yo que tu me concentraria que corra todo por ahora en Android.

* **webuser** (1) [82087](https://platzi.com/comentario/997107/) 
Hola Estoy siguiendo el curso al pie de la letra. Hasta ahora todo al 100%, pero yo tengo Ubuntu. Como puedo identificar los datos para r...

	* **Gabriel De Andrade** [82087] (1)

		Hola! La verdad es que el desarrollo de iOS est√° exclusivo para Mac, no lo puedes hacer en otro sistema operativo üòû

* **David Galicia** (1) [77652](https://platzi.com/comentario/907359/) 
¬øEs posible hacer la parte en que utiliza XCode si estoy en Windows usando Android Studio?

## 0120. Creaci√≥n de Pantalla de Login con Flutter [20228](https://platzi.com/clases/1603-flutter-avanzado/20228-creacion-de-pantalla-de-login-con-flutter/)

### Descripci√≥n:


Aqu√≠ puedes ver el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/5.SignInScreen).

### Comentarios:

* **charlieg** (18) [620097](https://platzi.com/comentario/620097/) 

	Para crear StatefulWidgets en Android Studio es m√°s r√°pido hacerlo escribiendo: **stful**. Igual para el caso de StatelessWidget hacerlo escribiendo: **stless**

	* **Omar Jesus Hern√°ndez Bastos** [620097] (2)

		Donde puedo tener mas de estos atajos? esta buenisimo

	* **VladDark** [620097] (2)

		Tenga su like buen hombre! :thu

* **Lordpanther** (6) [633116](https://platzi.com/comentario/633116/) 

	A mi me encanta trabajar con Visual Studio Code y el hot reload que es simplemente genial.

* **Omar Jesus Hern√°ndez Bastos** (2) [809128](https://platzi.com/comentario/809128/) 

	Mas atajos en flutter y sobre todo la utilidad del Alt+Enter [](https://medium.com/comunidad-flutter/flutter-atajos-del-ide-para-desarrollo-r%C3%A1pido-20f0ea1d7ce4)

* **MitoCodeII** (1) [1077006](https://platzi.com/comentario/1077006/) 

	Genial

## 0130. Creando botones reutilizables en Flutter [20229](https://platzi.com/clases/1603-flutter-avanzado/20229-creando-botones-reutilizables-en-flutter/)

### Descripci√≥n:


Aqu√≠ puedes ver el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/6.ButtonSignIn).

### Comentarios:

* **Omar Jesus Hern√°ndez Bastos** (13) [809230](https://platzi.com/comentario/809230/) 

	A quien pueda interesar existe una dependencia de flutter llamada flutter_signin_button 0.5.2 que agrega botones muy similares a lo que estamos creando con iconos y respetan el dise√±o de google, twitter, facebook etc‚Ä¶
	
	Tiene para agregar un metodo onTap como queremos aca con nuestro widget personalizado, es solo una opcion mas pero me parece muy buena para futuros proyectos  
	![](https://i.imgur.com/Ria2QZi.png)

* **eder_ese** (5) [709975](https://platzi.com/comentario/709975/) 

	Esta clase debe ir despu√©s de la clase 13 ‚ÄúCreaci√≥n de Pantalla de Login con Flutter‚Äù.

* **versouzz** (3) [744325](https://platzi.com/comentario/744325/) 

	El VoidCallback no retorna nada ni recibe par√°metros.  
	Si hay par√°metros se deber√≠a usa Function

* **Javier Batres** (3) [611926](https://platzi.com/comentario/611926/) 

	En una columna el MainAxisAlignment es alineado vertical y el CrossAxisAlignment el alineado horizontal. En el caso de las filas es viceversa.

* **webuser** (2) [682085](https://platzi.com/comentario/682085/) 

	Al parecer el BorderRadius.circula(15.0) esta bien. Modifique lo alto del boton a 60 y creo que esta mucho mejor

* **elbuendaza** (2) [605622](https://platzi.com/comentario/605622/) 

	Sera que cabellos de fuego no explicara alguna vez como implementar firebase ui auth?

* **jcalderon.sys** (1) [1072340](https://platzi.com/comentario/1072340/) 

	Buenas clases

* **VladDark** (1) [826225](https://platzi.com/comentario/826225/) 

	Va quedando genial!

* **Edward Acu** (1) [707966](https://platzi.com/comentario/707966/) 

	y en que momento creo el archivo SingIn??? como que faltan videos!

	* **eder_ese** [707966] (1)

		En la descripci√≥n de la clase puedes encontrar el link al repositorio.

	* **Daniel Esteves** [707966] (2)
¬°Hola! Recuerda que est√° aplicaci√≥n ya est√° preconstruida del Curso B√°sico de Flutter

* **Germ√°n Arevalo Jerez** (1) [656833](https://platzi.com/comentario/656833/) 

	Solo hay que cambiar el valor de esta linea de c√≥digo para jugar con el radio del bot√≥n.
	``` 
	    borderRadius: BorderRadius.circular(15.0)
	    
	```

* **Felipe Donoso** (1) [653731](https://platzi.com/comentario/653731/) 

	Hola a todos al escuchar el video se menciona que es genial como flutter indica en que p√°rrafo se termina una sintaxis por ejemplo:
	
	En el minuto 09:15 " ), // BoxDecoration " => eso a m√≠ no me aparece en el IDE y debo mirar el cierre de par√©ntesis lo que lo hace engorroso ¬øHay que activar algo quiz√°s? saludos!

* **versouzz** (1) [68690](https://platzi.com/comentario/744323/) 
No entiendo porque dice que es casi obligatorio que extienda de StatefulWidget si no le ha a√±adido ning√∫n control de estado.

## 0140. Autenticaci√≥n de Firebase con Google [20230](https://platzi.com/clases/1603-flutter-avanzado/20230-autenticacion-de-firebase-con-google/)

### Descripci√≥n:


En esta clase veremos como implementar la autenticaci√≥n con Firebase. Debemos entrar a [firebase](https://console.firebase.com/) entrar en nuestro proyecto, ir al apartado de ‚ÄúAuthentication‚Äù y activar la autenticaci√≥n con Google.

Aqu√≠ encuentras el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/7.FrebaseAuthRepository).

### Links:

* [https://console.firebase.com/](https://console.firebase.com/)

### Comentarios:

* **Miguel Eduardo Langarano Guerrero** (28) [704767](https://platzi.com/comentario/704767/) 

	Hola. Espero le sirva a alguien de ayuda.  
	En la parte donde esta ‚Äúawait .signInWithCredential‚Äù, no retorna un objeto FirebaseUser sino un objeto AuthResult, del cual pueden obtener un FirebaseUser.
	
	Aqu√≠ les comparto el c√≥digo que me funcion√≥:
	``` 
	    AuthResult authResult = await _auth.signInWithCredential(
	          GoogleAuthProvider.getCredential(idToken: googleAuth.idToken, accessToken: googleAuth.accessToken)
	        );
	    
	       FirebaseUser user = await authResult.user;
	    
	```
	
	Tambi√©n si les interesa, pueden hacer login con Facebook de esta manera:
	``` 
	    Future<FirebaseUser> facebookSignIn() async{
	        final result = await _facebookLogin.logInWithReadPermissions(['email']);
	    
	        switch (result.status) {
	          caseFacebookLoginStatus.loggedIn:{
	            AuthResult authResult = await _auth.signInWithCredential(
	              FacebookAuthProvider.getCredential(accessToken: result.accessToken.token)
	            );
	            
	            FirebaseUser user = authResult.user;
	    
	            return user;
	            break;
	          }
	            
	          caseFacebookLoginStatus.cancelledByUser:{
	            print("cancelado por usuario");
	            break;
	          }
	            
	          caseFacebookLoginStatus.error:{
	            print("Error: "+result.errorMessage.toString());
	            break;
	          }
	        }
	      }
	    
	```
	
	o tambi√©n con Correo y Contrase√±a:
	``` 
	    Future<FirebaseUser> emailAndPasswordSignIn(String email, String password) async{
	        AuthResult authResult = await _auth.signInWithEmailAndPassword(email: email, password: password);
	    
	        FirebaseUser user = authResult.user;
	    
	        return user;
	      }
	    
	```

	* **lucia9896** [704767] (1)

		Hola miguel me sirvi√≥ mucho tu soluci√≥n, sabes como hacer una autentifiacion an√≥nima y que esta se vuelva permanente, o me puedes explicar mejor como integrar facebook tambi√©n estoy confundido implementando mas de una autentificacion al mismo tiempo se me rompe el c√≥digo no se donde poner bien las cosas.

	* **Emmanuel Guerra** [704767] (1)

		@lucia9896 [Aqu√≠](https://firebase.google.com/docs/auth/android/anonymous-auth#convert-an-anonymous-account-to-a-permanent-account) puedes ver como implementarlo en Android. Los m√©todos tienen el mismo nombre, lo que cambia es el c√≥digo

	* **Pablo Dom√≠nguez Dur√°n** [704767] (2)

		S√∫per aporte. En los √∫ltimo meses Firebase ha cambiado mucho. Saludos!

	* **Fabian Siatama** [704767] (1)

		Me sirvio un monton, gracias.

	* **Sandra Fabiola Ram√≠rez Mart√≠nez** [704767] (1)

		Muy buen aporte, Gracias!

	* **Amaru Ugaz** [704767] (1)

		muchas gracias

	* **Codehero** [704767] (1)

		que paquete utilizaste de facebook login para implementar en el pubspec.yaml, es que estoy buscando y hay muchos, pero ninguno con el codigo que has agregado

* **Heinz Sohm** (2) [61540](https://platzi.com/comentario/623455/) 
Como puedo realiza la autenticaci√≥n con facebook?

	* **Francisco Javier Padr√≥n Luis** [61540] (4)

		La Autenticaci√≥n con Facebook es algo que no e probado aun pero imagino que sera bastante similar.
		
		  1. Buscar la librer√≠a correspondiente y ponerla en pubsc.yaml
		  2. Importarla en la clase FirebaseAuthAPI
		  3. Declarar la variable global/instancia de esta
		  4. Obtener las credenciales as√≠ como se realiza con GoogleSignIn
		  5. Asign√°rselas a FirebaseUser y listo
		
		
		
		Es posible que tengan algunos cambios a la hora de obtener credenciales pero seguro que encontraras info de la misma en la propia librer√≠a üòâ
		
		Saludos ^^
		
		P.D: No puedo darte m√°s indicaciones por que no lo implementado aun pero espero ayudarte con esto üòâ

* **jcalderon.sys** (1) [1072399](https://platzi.com/comentario/1072399/) 

	Muy claro todo

* **jcalderon.sys** (1) [1072342](https://platzi.com/comentario/1072342/) 

	Empezando la autenticaci√≤n

* **Codehero** (1) [1062866](https://platzi.com/comentario/1062866/) 

	Como le tendria que hacer para que desde mi widget de mi screen, acceda a alguna otra autenticaci√≥n, osea se que estan los nombres de mis metodos, pero actualmente se tiene la siguiente jerarquia
	
	screen_widget -> bloc -> auth_repository -> firebase_auth_api
	
	Por lo que entiendo, la idea de tener todo de esta forma es: "Desde el widget hacer algo como userBloc.signIn()
	
	y esto, hara el viaje, hasta firebase_auth_api y seleccionar√° el tipo de logueo, ej. google, fb, anonimo, etc.
	
	Lo que a mi se me ocurre, es que cuando se hace el llamado, pasar por parametro el tipo de login, ej. userBloc.signIn(‚Äògoogle‚Äô) o userBloc.signIn(‚Äòanon‚Äô), e ir pasando los parametros desde el screen_widget -> bloc -> auth_repository -> firebase_auth_api, pero creo que esto es algo engorroso, la verdad preferiria llamar el metodo desde el widget directo de firebase_auth_api
	
	No se si alguien puede orientarme con esta parte, se lo agradeceria de antemano

* **Julian Sanchez** (1) [891707](https://platzi.com/comentario/891707/) 

	En vez de renombrar la clase creada se puede identificar a la clase importada de distinta manera con ‚Äòas‚Äô:
	``` 
	    import'package:firebase_auth/firebase_auth.dart'as auth;
	    import'package:google_sign_in/google_sign_in.dart';
	    
	    classFirebaseAuth{
	      auth.FirebaseAuth _auth = auth.FirebaseAuth.instance;
	    }
	    
	```

* **jorge-hernandez** (1) [840703](https://platzi.com/comentario/840703/) 

	Aqu√≠ no importa si el nombre de archivo esta con mayusculas?

* **JCMeza** (1) [70596](https://platzi.com/comentario/778283/) 
¬ø Como se puede implementar los otros m√©todos de autenticaci√≥n que da Firebase ?

	* **Jose Padron (Platzi)** [70596] (1)

		¬øA cu√°les m√©todos te refieres?

## 0150. Implementando Firebase Authentication en BLoC Pattern [20231](https://platzi.com/clases/1603-flutter-avanzado/20231-implementando-firebase-authentication-en-bloc-patt/)

### Descripci√≥n:


### Comentarios:

* **Javier Batres** (5) [611937](https://platzi.com/comentario/611937/) 

	En el metodo then puedes no poner el tipo de objeto y lo heredara en base al Future. De esta forma evitamos importaciones extra.

	* **Joshval97** [611937] (1)

		Gracias por el dato!!

* **bryant M** (4) [601997](https://platzi.com/comentario/601997/) 

	Realmente me quede perdido en cuanto la implementacion y como poder adaptar todo con cualquier api y no solo con firebase, voy a repasar varias veces esto pero si creo que esta muy generalizada la explicacion, no veo como poder adaptar esto‚Ä¶

	* **happiestack** [601997] (2)

		Es confuso pero no imposible, sigue practicando que vale mucho la pena saber implementar bloc en flutter ya que es la arquitectura modelo que Google utiliza.

* **Alexander Mateo** (2) [886794](https://platzi.com/comentario/886794/) 

	¬°Excelente, he aprendido bastante de BLoC Pattern! üòÑ

* **VladDark** (2) [826264](https://platzi.com/comentario/826264/) 

	ya casi, ya casi üòâ

* **Alejandro** (2) [733468](https://platzi.com/comentario/733468/) 

	a mi me sale userBloc es indefinido üò¶

	* **Jorge Luis Hern√°ndez N√∫√±ez Luis Hern√°ndez N√∫√±ez** [733468] (0)

		:c yo tengo el mismo error y no se como solucionarlo , que mal que nadie te haya ayudado pues tambien podr√≠a ayudarme a mi ahora u_u

* **carlos1128** (2) [640778](https://platzi.com/comentario/640778/) 

	Solo como aclaraci√≥n hasta este punto, en el patr√≥n BLoC, el BLoC no debe devolver el dato como tal sino un Stream, pero como el siguiente video se trata de Streams creo que en ese v√≠deo se cubre ese tema

* **Jorge Luis Hern√°ndez N√∫√±ez Luis Hern√°ndez N√∫√±ez** (1) [995014](https://platzi.com/comentario/995014/) 

	Me aparece el siguiente error :C  
	`Unable to find BLoC of type _BlocProvider<UserBloc>.`
	
	Y al compilar me aparece una pantalla roja con letras amaarillas que dice:  
	Unable to find BloC of type _BlocProvider<UserBloc>.

* **Nick1125** (1) [990142](https://platzi.com/comentario/990142/) 

	Cual seria el ejemplo cuando quiero implementar facebook y google gracias

* **Omar Jalil Fierro L√≥pez** (1) [83675](https://platzi.com/comentario/1032002/) 
¬øQue pasa cuando queremos pasar par√°metros en los repositories? los arrastramos a lo largo de muchas pantallas?

* **Jorge Luis Hern√°ndez N√∫√±ez Luis Hern√°ndez N√∫√±ez** (1) [82004](https://platzi.com/comentario/995106/) 
Me sale el siguiente error y no se porque:. ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê Exception caught by widgets library ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê `The followi...

* **JOSE PEREZ** (1) [79138](https://platzi.com/comentario/934546/) 
Buenas tardes estimados, queria saber como puedo hacer uso del provider cuando utilizo futurebuilder, ya que es necesario hacer el llamad...

* **Francisco Javier V√°zquez Paredes** (1) [62257](https://platzi.com/comentario/636842/) 
Como puedo utilizar un √∫nico m√©todo signIn() en el repository si quiero utilizar varias fuentes de datos (Ejem. Google, Facebook, Twitter...

	* **Germ√°n Arevalo Jerez** [62257] (1)

		Firebase permite el inicio de sesi√≥n con diferentes proveedores de inicio de sesi√≥n. Dicha l√≥gica se colocar√≠a en firebase_auth_api.dart donde se elegir√≠a de acuerdo al proveedor seleccionado.

## 0160. Streams en Flutter [20232](https://platzi.com/clases/1603-flutter-avanzado/20232-streams-en-flutter/)

### Descripci√≥n:


Vamos a empezar a transmitir datos en nuestra aplicaci√≥n, que en este caso ser√° con Firebase; para esto Flutter usa _Streams_ : son datos que vivir√°n en un flujo, una corriente de datos para llegar un servidor o regresar de un servidor. Podr√≠an ser textos, im√°genes, archivos e incluso un Stream puede ser otro Stream.

Aqu√≠ encuentras el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/8.FirebaseAuthBLoC).

### Links:

* [Fundamentos de Streams en Dart ‚Äì Comunidad Flutter ‚Äì Medium](https://medium.com/comunidad-flutter/fundamentos-de-streams-en-dart-3a4030636516)

### Comentarios:

* **aviloncho** (4) [620319](https://platzi.com/comentario/620319/) 

	[Mas informaci√≥n](https://medium.com/comunidad-flutter/fundamentos-de-streams-en-dart-3a4030636516) sobre Streams en Dart.

	* **Francisco Javier V√°zquez Paredes** [620319] (2)

		Dejo esta documentaci√≥n sobre Streams en Dart  
		<https://medium.com/comunidad-flutter/fundamentos-de-streams-en-dart-3a4030636516>

	* **bynico** [620319] (2)

		Gracias por el aporte

	* **David Galicia** [620319] (2)

		Gracias por la informaci√≥n

* **kingofking999** (3) [661309](https://platzi.com/comentario/661309/) 

	un stream se podria considerar como un observable ? ‚Ä¶

	* **Daniel Esteves** [661309] (1)
¬°Hola Kingo! En efecto los Streams son el equivalente al Observable de Java ü§ì

	* **Esteban Toledo Jaramillo** [661309] (1)

		un Stream es un flujo de datos pero no son reactivos, reactive Streams si lo son y los observables son el patron que usa la librer√≠a ReactiveX (JS: RxJS, Python: RxPY, Java, RxJava) para implementarlos.

* **VladDark** (2) [827826](https://platzi.com/comentario/827826/) 

	Stream = Corriente de datos üòâ

* **Emmanuel Guerra** (2) [785327](https://platzi.com/comentario/785327/) 

	StreamBuilder es un widget m√°s de Flutter

* **MatiasHarder** (2) [77862](https://platzi.com/comentario/911101/) 
Como se llama la pizarra que utiliza anahi salgado en el minuto 2:05?

* **jcalderon.sys** (1) [1072415](https://platzi.com/comentario/1072415/) 

	Muy Buena explicaci√≤n

* **Ignacio Francisco Mu√±oz Hern√°ndez** (1) [1022816](https://platzi.com/comentario/1022816/) 

	Excelente explicacion

* **Alexis** (1) [77422](https://platzi.com/comentario/904003/) 
si esto fuera android: ¬øcual seria el equivalente de stream streamControler, builder y otros?

## 0170. Manejando una sesi√≥n con Firebase Authentication y Flutter [20233](https://platzi.com/clases/1603-flutter-avanzado/20233-manejando-una-sesion-con-firebase-authentication-y/)

### Descripci√≥n:


Aqu√≠ puedes ver el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/9.FirebaseAuthAndroidiOS).

### Comentarios:

* **melendez-kevin** (7) [922242](https://platzi.com/comentario/922242/) 

	En mi dispositivo cuando vuelvo a iniciar la aplicaci√≥n aparece por un breve instante la pantalla de signIn.  
	Debuggeando el proyecto me di cuenta de que esto ocurre debido a que cuando el estado de la conexi√≥n esta en **waiting **la propiedad _hasData_ del _snapshot _es false aunque el usuario se haya loggeado antes.  
	Por ello hice esta modificaci√≥n para que mientras los datos cargan aparezca una pantalla de carga.
	``` 
	    return StreamBuilder(
	          stream: userBloc.getAuthStatus,
	          builder: (BuildContext context, AsyncSnapshot snapshot) {
	            if (snapshot.hasData) {
	              return AppTrips();
	            } elseif (snapshot.hasError) {
	              return Text("Ocurrio un error en la transmision de datos");
	            } elseif(snapshot.connectionState != ConnectionState.waiting) {
	              return _signInScreen();
	            }else{
	              return Container(
	                color: Colors.white,
	                alignment: Alignment.center,
	                child: Column(
	                  mainAxisAlignment: MainAxisAlignment.center,
	                  children: [
	                    SizedBox(
	                      height: 20,
	                      width: 70,
	                      child: CircularProgressIndicator(backgroundColor: Colors.cyan[400], )
	                    ),
	                    Container(
	                      margin: EdgeInsets.only(top: 10),
	                      child: Text("C a r g a n d o", style: TextStyle(color: Colors.blue[400], fontSize: 22, fontFamily: "Lato", decoration: TextDecoration.none)
	                    ),)
	                  ]
	                ),
	              );
	            }
	          },
	        );```
	    
	```

	* **Sebasti√°n Valencia Zapata** [922242] (1)

		¬°Muy teso! Super √∫til.

* **anncode** (4) [609419](https://platzi.com/comentario/609419/) 

	No olviden agregar el _SHA1_ de Android `debug.keystore` porque a pesar de que dice que es opcional, si no lo hacen les traer√° problemas como:
	
	`platformexception(sign_in failed com.google.android.gms.common.api.apiexception xxx, null)`

	* **Julio Gutierrez** [609419] (1)

		En mi caso, me sale ese error a pesar de haber puesto correctamente el sha1 y de hecho firebase console me confirma que si se conecto con mi celular.

	* **anncode** [609419] (2)

		Julio,  
		La aplicaci√≥n la tienes en modo **Debug** o **Release**
		
		Si es **Debug** usa el `debug.keystore`
		
		Pero si es **Release** debes poner el SHA1 obtenido de tu app  
		Como se muestra a continuaci√≥n  
		![](https://i.stack.imgur.com/VsBvL.png)

	* **miguelleon27** [609419] (1)

		No encuentro la interfaz que muestras tu, pero tengo incluido el sha-1 y el sha-256 en esta parte de la configuraci√≥n:
		
		![](https://drive.google.com/file/d/1V5CTscW0b_R21BpgQhQn2QPWJwLlqzag/view?usp=sharing)  
		<https://drive.google.com/file/d/1V5CTscW0b_R21BpgQhQn2QPWJwLlqzag/view?usp=sharing>

	* **Germ√°n Arevalo Jerez** [609419] (1)

		Tengo el SHA1 pero igual me sigue apareciendo el error.

	* **Germ√°n Arevalo Jerez** [609419] (1)

		```
		    E/flutter (17455): [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] UnhandledException: PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 12500: , null)```
		    
		```

* **Eduardo Ortiz** (4) [601099](https://platzi.com/comentario/601099/) 

	Hola, escribo por que al momento de hacer la prueba e iniciar sesi√≥n obten√≠a un una excepci√≥n un PlatformException(sign_in_failed‚Ä¶ , espec√≠ficamente, y la manera de solucionarlo fue que en la consola de firebase tuve que agregar el SHA1 y SHA256, si solo agregaba el SHA1 saltaba la excepci√≥n, espero que sirva este comentario y no tengan que perder tiempo buscando la soluci√≥n üòâ

	* **farick mena** [601099] (1)

		Hola, la soluci√≥n debe ser una casualidad porque FirebaseAuth en android solo solicita el SHA1, incluso cuando lo haces automaticamente por el asistente de Firebase en AndroidStudio, estaria bien si pudieras poner el codigo que muestra la expecion en la consola.

	* **miguelleon27** [601099] (1)

		Yo tengo ese mismo error, que solo aparecer por consola, la cuesti√≥n es que tengo el sha-1 y el sha-256, en la secci√≥n de firebase: configuraci√≥n del proyecto -> opci√≥n general en Apps para android se encuentran las dos. debo agregarlo en otro lugar?  
		(<https://drive.google.com/open?id=1V5CTscW0b_R21BpgQhQn2QPWJwLlqzag>)
		
		![](https://drive.google.com/file/d/1V5CTscW0b_R21BpgQhQn2QPWJwLlqzag/view?usp=sharing)

* **Israel Yance** (3) [657343](https://platzi.com/comentario/657343/) 

	Si han seguido todos los pasos tal cu√°l y no saben cu√°l es el error, prueben con autorizar las API:  
	<https://console.developers.google.com/apis/credentials/consent>  
	En iOS me sal√≠a el error pero en Android no, solo ten√≠a que habilitar con el enlace de arriba.  
	Para que me deje guardar solo agregue cualquier url. Yo puse una de las que me sal√≠a en dominio autorizado y le agregu√© el http.

* **Alejandro** (2) [734473](https://platzi.com/comentario/734473/) 

	Hola la conexi√≥n fue exitosa y me muestra el nombre de usuario en consola, pero no me cambia de la pantalla de signIn. Me equivoqu√© en algo?
	``` 
	    import'package:flutter/material.dart';
	    import'package:lavalo/gradient_back.dart';
	    import'package:lavalo/widget/button_green.dart';
	    import'package:lavalo/User/Bloc/bloc_user.dart';
	    import'package:generic_bloc_provider/generic_bloc_provider.dart';
	    import'package:firebase_auth/firebase_auth.dart';
	    import'package:lavalo/platzi_trips.dart';
	    
	    classSignInextendsStatefulWidget{
	      @override
	      _SignInState createState() => _SignInState();
	    }
	    
	    class_SignInStateextendsState<SignIn>{
	    
	      UserBloc userBloc;
	    
	      @override
	      Widget build(BuildContext context) {
	    
	        userBloc = BlocProvider.of(context);
	    
	        return _handleCurrentSession();
	      }
	    
	      Widget _handleCurrentSession(){
	        returnStreamBuilder(
	            stream: userBloc.authStatus,
	            builder: (BuildContext context, AsyncSnapshot snapshot){
	              if(snapshot.hasData || snapshot.hasError) {
	                return signInGoogleUI();
	              } else {
	                returnPlatziTrips();
	              }
	            },
	        );
	      }
	    
	      Widget signInGoogleUI() {
	    
	    
	        returnScaffold(
	          body: Stack(
	            alignment: Alignment.center,
	            children: <Widget>[
	              GradientBack("", null),
	              Column(
	                mainAxisAlignment: MainAxisAlignment.center,
	                children: <Widget>[
	                  Text("Bienvenido \n Esta el la mejor app de lavanderia",
	                    style: TextStyle(
	                        fontSize: 37.0,
	                        fontFamily: "Lato",
	                        color: Colors.white,
	                        fontWeight: FontWeight.bold
	                    ),
	                  ),
	    
	                  ButtonGreen(
	                    text: "Registrarme con Google",
	                    onPressed: (){
	    
	                      userBloc.signIn().then((FirebaseUser user) => print("El usuario es ${user.displayName}"));
	                    },
	                    width: 300.0,
	                    height: 50.0,
	                  )
	                ],
	              ),
	            ],
	          ),
	        );
	      }
	    
	    }
	    
	    
	    
	    
	    
	```

	* **Luis Miguel Copa DIaz** [734473] (3)

		```
		    Widget _handleCurrentSession(){
		        return StreamBuilder(
		          stream: userBloc.authStatus,
		          builder: (BuildContext context, AsyncSnapshot snapshot) {
		            //snapshot-data - Object User
		            if(!snapshot.hasData || snapshot.hasError) {
		              return signInGoogleUI();
		            } else {
		              return PlatziTripsCupertino();
		            }
		          },
		        );
		      }```
		    
		    Sete olvido colocar en el if el de diferente o el de negacion !
		    
		```

* **Alvaro Ruben Hurtado Maldonado** (2) [709589](https://platzi.com/comentario/709589/) 

	No se olviden de tener google play services instalado en el emulador o en el phone a la hora de utilizar el sigin con google.

* **u1802261** (2) [672610](https://platzi.com/comentario/672610/) 

	Es importante que esten el el projecto que firebase crea autom√°ticamente en google cloud platform <https://console.developers.google.com/apis/credentials/consent>  
	y usar las urls de http://<id-project>.firebaseapp.com  
	y el id lo pueden obtener en las propiedades del proyecto

* **marceloandresacosta** (2) [667187](https://platzi.com/comentario/667187/) 

	Para solucionar el error 12500 en SignIn de Google hice lo siguiente:  
	en la consola de firebase ir a configuraci√≥n -> usuarios y permisos -> configuraci√≥n avanzada  
	Luego una vez en la consola cloud de google ir a Credenciales  
	y hacer lo siguiente:  
	completar los enlaces con el dominio: http://<id_project>.firebaseapp.com  
	ver ejemplo:  
	<https://github.com/flutter/flutter/issues/33393>

* **Edgar Barragan** (2) [618301](https://platzi.com/comentario/618301/) 

	Hola, esta clase en particular es un punto muy critico dentro del programa, ya que a muchos de nosotros por un motivo X o Y nos genera una PlatformException(sign_in_failed, bla bla bla).
	
	Ser√≠a muy bueno que entre todos compartieramos las experiencias para arreglar este error y ayudar a los demas a superar este bache
	
	En mi caso particular, tenia el platformException(‚Ä¶12500), estoy intentando generar un nuevo keystore, actualizar el sha1 en Firebase, descargar el nuevo JSON y ahora tengo un platformException(‚Ä¶10).
	
	Alguna idea que me puedan dar?

	* **Nestor  de Valais** [618301] (2)

		Lo pudieron resolver ? tengo la misma excepci√≥n.

	* **Mario Avila** [618301] (2)

		Hola compa√±eros en mi caso tuve que hacer los siguientes 3 pasos para resolverlo  
		1.- Primero asegurarme que configure correctamente el SH1 de Android debug.keystore, as√≠ como actualizar el google-services.json  
		2.- Luego actualice el correo electr√≥nico de asistencia en la consola de Firebase (Ya que estaba en blanco)  
		3.- Y por √∫ltimo tuve que actualizar el google play services de mi emulador  
		Saludos y ojal√° les sirva a ustedes!

	* **fabian82** [618301] (1)

		Hola tengo la misma excepcion, e hice todo lo que marioavila recomendo y aun asi sigo en la misma situacion. Si alguien tiene una solucion que avise porque no sirve seguir con el curso sin poder pasar esta clase.

	* **aleramirezsj** [618301] (1)

		Hola a todos, comento mi peque√±a experiencia, prob√© la ejecuci√≥n en 2 emuladores, uno genymotion y otro el que instala visual studio, siempre me daban este mismo error, prob√© debugearlo directamente en mi tel√©fono y corri√≥ perfecto sin ning√∫n tipo de inconveniente, observ√© que Ann lo est√° corriendo en su tel√©fono tambi√©n, saludos.

	* **Felipe Donoso** [618301] (1)

		Hola ami me mando el mismo error revise la configuraci√≥n en Firebase sobre la autentificaci√≥n y luego segu√≠ los pasos al momento de levantarlo en IOS me indico un error y ver detalle y segu√≠ los pasos agregue mi correo gmail y luego volv√≠ a presionar el bot√≥n login y lo tomo.
		
		No saque imagenes vere si puedo replicarlo y las subo, suerte

	* **Germ√°n Arevalo Jerez** [618301] (1)

		yo lo estoy probando en mi celular y me sale el mismo error.

	* **kike-acosta** [618301] (1)

		Despu√©s de varios d√≠as al fin le d√≠ soluci√≥n al error : platformException(‚Ä¶12500), como tambi√©n al : platformException(‚Ä¶10).
		
		Cualquiera sea el error es importante hacer tres cosas:
		
		1.- Poner el sha-1, el sha-256 y el correo de asistencia en la configuraci√≥n del proyecto en firebase.
		
		2.- Descargar e incluir en el proyecto google-services.json
		
		3.- (La parte m√°s importante) rellenar y guardar todos los datos solicitados en la secci√≥n de ‚ÄúPantalla de consentimiento de OAuth‚Äù del siguiente enlace: <https://console.developers.google.com/apis/credentials>
		
		Una vez hecho esto ya se podr√≠a iniciar sesi√≥n sin ning√∫n problema.

	* **Germ√°n Arevalo Jerez** [618301] (1)

		@kike-acosta gracias, me sirvi√≥.

	* **kikeRC** [618301] (1)

		En mi caso, tuve que colocar tanto el SHA-1 y el SHA-256, ademas de lo ya mencionado, para poder evitar las excepciones 12500 y 10 de la librer√≠a de firebase.

* **kaster** (1) [1016422](https://platzi.com/comentario/1016422/) 

	Buenos dias,  
	Yo tengo este error
	``` 
	    <D/skia ( 5677): Shader compilation error
	    D/skia ( 5677): ------------------------
	    D/skia ( 5677): Errors:>
	    
	```
	
	No he podido quitarlo, pero si pulsas el boton (Flutter Hot Restart) te permite cargar usuario y registrarte.  
	Un saludo

* **Jhon Jairo Portillo Camayo** (1) [971432](https://platzi.com/comentario/971432/) 

	wtFF Cre√≠ que no funcionaria a la primera!!!

	* **emmanuel mazo** [971432] (1)

		Tambi√©n cre√≠ lo mismo. Efectivamente no funciono xD

* **Alexis** (1) [904882](https://platzi.com/comentario/904882/) 

	Les cuento!  
	esto aparecia al darle al boton de ingresar y la aplicacion paraba.  
	PlatformException (PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException:10: , null))
	
	Buscando solucion. Resulta que hice mal el Sha-1 porque aunque me arrojo un codigo no es el codigo de java, agrego la imagen de como se debe hacer en windows por si alguien mas le ocurre![muestra.png](https://static.platzi.com/media/user_upload/muestra-4f29392b-c793-4b80-ab9e-744bcebdcebf.jpg)

* **Alexander Mateo** (1) [887287](https://platzi.com/comentario/887287/) 

	Entonces si es necesario indicar el tipo de bloc üòÉ
	``` 
	    final appBloc = BlocProvider.of<BlocUser>(context);
	    
	```

* **VladDark** (1) [828056](https://platzi.com/comentario/828056/) 

	Algunos inconvenientes con gradle.  
	Solucionado en Win10/Android Studio 3.5.2
	``` 
	    Tools --> Flutter --> Flutter Clean
	    
	```
	
	Volviendo a compilar el proyecto.
	
	Tambi√©n habilitando la conexi√≥n del proyecto en la consola de Firebase
	``` 
	    <Proyecto> --> Authentication --> M√©todo de Acceso --> Google : Habilitado
	    
	```
	
	Saludos üòâ

* **JCMeza** (1) [780583](https://platzi.com/comentario/780583/) 

	Antes de correr la aplicaci√≥n para iOS, les recomiendo hacer un borrado, antes de hacer esto me marcaba errores en la consola. En donde dec√≠a que no se pod√≠a abrir el emulador de iOS. Desde el root de la app correr ‚Äúflutter clean‚Äù

* **Pablo Dom√≠nguez Dur√°n** (1) [745956](https://platzi.com/comentario/745956/) 

	Los que tienen errores revisen que tengan registrado el SHA-1 y sigan la sugerencia de Brayan Sanjuan
	``` 
	    Es importante que esten el el projecto que firebase crea autom√°ticamente en google cloud platform https://console.developers.google.com/apis/credentials/consent
	    y usar las urls de http://<id-project>.firebaseapp.com
	    y el id lo pueden obtener en las propiedades del proyecto
	    
	    
	```
	
	Despu√©s de eso me funcion√≥ sin m√°s problemas. Aunque no lo crean es un error com√∫n seg√∫n veo por todo StackOverflow

* **kingofking999** (1) [661325](https://platzi.com/comentario/661325/) 

	en esta parte del curso estoy un poco estresado no se si yo no veo los videos bien o definitivamente hay partes que se omtiten ( por ejemplo el metodo al boton de google sign in no se en que momento lo pusieron ) pero esta bien el problema que me encuentro actualmente es el que todos tienes ApiException 12500 ‚Ä¶
	
	ya elimine el .android volvi a generar otro nuevo , volvi a generar otro .json agregue el 256 y 1 ( sha) volvi a generar el json y nada que funciona . ya tengo registrado un correo . y tambien 2 claves al mismo tiempo alguna idea sugerencia o recomenacion ya que ya hice actualmente todo lo que se menciona en las preguntas

	* **Luis Rogelio Reyes Hern√°ndez** [661325] (2)

		A mi se me soluciono el problema tras ponerle un nombre a la aplicacion y guardarlo en la seccion " Pantalla de consentimiento de OAuth " de las apis de google <https://console.developers.google.com/apis/credentials>

* **Francisco Javier V√°zquez Paredes** (1) [639105](https://platzi.com/comentario/639105/) 

	Para entender un poco mejor el tema de los Streams dejo el siguiente enlace  
	<https://medium.com/comunidad-flutter/fundamentos-de-streams-en-dart-3a4030636516>

* **Francisco Javier V√°zquez Paredes** (1) [637685](https://platzi.com/comentario/637685/) 

	Para aquellos que quieran entender un poco mejor el tema de async-await les dejo el siguiente video:  
	<https://www.youtube.com/watch?v=u2axmPnxUoo>

* **Cristian Ramanzin** (1) [614467](https://platzi.com/comentario/614467/) 

	Buenas! Me pasa que el logueo se realiza correctamente (me devuelve el nombre por consola) pero siempre me muestra la pantalla de logueo y no puedo encontrar el error.
	
	Gracias!
	
	firebase_auth_api.dart
	``` 
	    import 'package:firebase_auth/firebase_auth.dart';
	    import 'package:google_sign_in/google_sign_in.dart';
	    
	    class FirebaseAuthAPI {
	    
	      final FirebaseAuth _auth = FirebaseAuth.instance;
	      final GoogleSignIn googleSignIn = GoogleSignIn();
	    
	      Future<FirebaseUser> signIn() async {
	        GoogleSignInAccount googleSignInAccount = await googleSignIn.signIn();
	        GoogleSignInAuthentication gSA = await googleSignInAccount.authentication;
	    
	        FirebaseUser user = await _auth.signInWithCredential(
	            GoogleAuthProvider.getCredential(idToken: gSA.idToken, accessToken: gSA.accessToken));
	    
	        return user;
	    
	      }
	    
	      signOut() async {
	        await _auth.signOut().then((onValue) => print("Sesi√≥n cerrada"));
	        googleSignIn.signOut();
	        print("Sesiones cerradas");
	      }
	    
	    }```
	    
	    
	    auth_repository.dart
	    
	```
	
	import ‚Äòpackage:firebase_auth/firebase_auth.dart‚Äô;  
	import ‚Äòpackage:platzi_trips_app/User/repository/firebase_auth_api.dart‚Äô;
	
	class AuthRepository {
	
	final _firebaseAuthAPI = FirebaseAuthAPI();
	
	Future<FirebaseUser> signInFirebase() => _firebaseAuthAPI.signIn();
	
	signOut() => _firebaseAuthAPI.signOut();
	
	}```
	
	bloc_user.dart
	``` 
	    import'package:firebase_auth/firebase_auth.dart';
	    import'package:generic_bloc_provider/generic_bloc_provider.dart';
	    import'package:platzi_trips_app/User/repository/auth_repository.dart';
	    import'package:firebase_auth/firebase_auth.dart';
	    
	    classUserBlocimplementsBloc{
	      
	      final _auth_repository = AuthRepository();
	    
	      Stream<FirebaseUser> streamFirebase = FirebaseAuth.instance.onAuthStateChanged;
	      Stream<FirebaseUser> get authStatus => streamFirebase;
	    
	    
	    
	      Future<FirebaseUser> signIn(){
	        return _auth_repository.signInFirebase();
	      }
	    
	      @override
	      void dispose() {
	        
	      }
	    
	    }```
	    
	    
	    
	    sign_in_screen.dart
	    
	```
	
	import ‚Äòpackage:firebase_auth/firebase_auth.dart‚Äô;  
	import ‚Äòpackage:flutter/material.dart‚Äô;  
	import ‚Äòpackage:generic_bloc_provider/generic_bloc_provider.dart‚Äô;  
	import ‚Äòpackage:platzi_trips_app/User/bloc/bloc_user.dart‚Äô;  
	import ‚Äòpackage:platzi_trips_app/platzi_trips_cupertino.dart‚Äô;  
	import ‚Äòpackage:platzi_trips_app/widgets/gradient_back.dart‚Äô;  
	import ‚Äòpackage:platzi_trips_app/widgets/button_green.dart‚Äô;  
	import ‚Äòpackage:platzi_trips_app/User/bloc/bloc_user.dart‚Äô;  
	import ‚Äòpackage:generic_bloc_provider/generic_bloc_provider.dart‚Äô;  
	import ‚Äòpackage:firebase_auth/firebase_auth.dart‚Äô;  
	import ‚Äòpackage:platzi_trips_app/platzi_trips_cupertino.dart‚Äô;
	
	class SignInScreen extends StatefulWidget{  
	@override  
	State<StatefulWidget> createState() {  
	return _SignInScreen();  
	}
	
	}
	
	class _SignInScreen extends State<SignInScreen>{
	
	UserBloc userBloc;
	
	@override  
	Widget build(BuildContext context) {  
	userBloc = BlocProvider.of(context);  
	return singInGoogleUI();  
	}
	
	Widget _handleCurrentSession(){  
	return StreamBuilder(  
	stream: userBloc.authStatus,  
	builder: (BuildContext context, AsyncSnapshot snapshot){  
	if(snapshot.hasData || snapshot.hasError){  
	return singInGoogleUI();  
	} else{  
	return PlatziTripsCupertino();  
	}  
	},  
	);  
	}
	
	Widget singInGoogleUI(){  
	return Scaffold(  
	body: Stack(  
	alignment: Alignment.center,  
	children: <Widget>[  
	GradientBack("", null),  
	Column(  
	mainAxisAlignment: MainAxisAlignment.center,  
	children: <Widget>[  
	Text(‚ÄúWelcome \n This is yout Travel App‚Äù,  
	style: TextStyle(  
	fontSize: 37.0,  
	fontFamily: ‚ÄúLato‚Äù,  
	color: Colors.white,  
	fontWeight: FontWeight.bold,  
	),  
	),  
	ButtonGreen(  
	text: ‚ÄúLogin with Gmail‚Äù,  
	onPressed: (){  
	userBloc.signIn().then((FirebaseUser user) => print(‚ÄúEl usuario es ${user.displayName}‚Äù));  
	},  
	width: 300.0,  
	height: 50.0,
	``` 
	            )
	              ],
	            )
	        ],
	      ),
	    );
	    
	```
	
	}
	
	}```

	* **Alex93mm** [614467] (4)

		Hola compa√±ero,
		
		En el archivo sign_in_screen.dart, en la class _SignInScreen, en el m√©todo build, est√°s devolviendo el widget de inicio de sesi√≥n (signInGoogleUi()), en lugar de retornar el widget _handleCurrentSession().
		
		Por si no me he explicado como deber√≠a lo tienes en el video en el minuto 6:45.
		
		Pruebalo y comenta si funcion√≥.
		
		Un saludo.

* **bryant M** (1) [607422](https://platzi.com/comentario/607422/) 

	Yo estoy pagando Platzi especificamente para aprender Flutter, considero que Ann es super buena para ensenar por que aproveche al esperar a meterme a otros cursos de ella, pero en este especificamente creo que solo esta repasando lo que ella ya aprendio al hacer este proyecto, definitivamente aun no comprendo Bloc que es la Unica razon por la que estoy en Platzi.
	
	Espero poder encontrar ayuda‚Ä¶

	* **happiestack** [607422] (0)

		El curso esta claro e interesante, el problema es que si solo vienes del curso anterior no tienes las bases solidas para complementar con este curso. Entiendo tu punto y estoy a favor, el salto de nivel es amplio de un curso a otro. Te recomiendo que juegues un poco mas con flutter o que te animes a meter una app sencilla a la playstore, cuando tengas mas experiencia este curso te caer√° de maravilla.

	* **AndresArdilaB** [607422] (1)

		El curso de Dart antes de este ayuda much√≠simo.

	* **anncode** [607422] (1)

		Hola Bryan, estoy segura que ya pasaste por la clase de BloC  
		Cu√©ntame qu√© parte es la que entendiste mejor y cu√°l es la que menos.  
		Encantada de ayudarte.

* **Jos√© Mauricio Chavarr√≠a** (1) [604294](https://platzi.com/comentario/604294/) 

	¬øC√≥mo puedo manejar un error en el inicio de sesi√≥n?  
	Este sucede cuando en iOS o en Android cancelo el proceso de iniciar sesi√≥n.
	
	![Captura de Pantalla 2019-06-03 a la\(s\) 12.04.07.png](https://static.platzi.com/media/user_upload/Captura%20de%20Pantalla%202019-06-03%20a%20la%28s%29%2012.04.07-5176fc77-3971-4162-9008-b60f34876d7b.jpg)

	* **Jos√© Mauricio Chavarr√≠a** [604294] (1)

		Este es el c√≥digo que aparece en pantalla:
		``` 
		    import 'package:firebase_auth/firebase_auth.dart';
		    import 'package:google_sign_in/google_sign_in.dart';
		    
		    class FirebaseAuthAPI {
		      final FirebaseAuth _auth = FirebaseAuth.instance;
		      final GoogleSignIn googleSignIn = GoogleSignIn();
		    
		      Future<FirebaseUser> signIn() async {
		        GoogleSignInAccount googleSignInAccount = await googleSignIn.signIn();
		        GoogleSignInAuthentication gSA = await googleSignInAccount.authentication;
		    
		        FirebaseUser user = await _auth.signInWithCredential(
		            GoogleAuthProvider.getCredential(
		                idToken: gSA.idToken, accessToken: gSA.accessToken));
		    
		        return user;
		      }
		    }
		    
		```

	* **anncode** [604294] (2)

		Intenta agregar el SHA1 de Android `debug.keystore` en Firebase

* **Jorge Eliecer Casta√±o Valencia** (1) [84361](https://platzi.com/comentario/1049239/) 
¬øLa clase bloc_user no deber√≠a ser gen√©rica e indiferente a tipos de datos del repositorio? Lo pregunto porque en el m√©todo signIn, se re...

* **JanethM** (1) [64240](https://platzi.com/comentario/672814/) 
Hola, la aplicacion se ejecuta bien, pero cuando presiono el boton para iniciar sesion y elijo la cuenta despues se queda en la misma pan...

	* **Luis Rogelio Reyes Hern√°ndez** [64240] (1)

		Revisa el log de la aplicacion puede ser que no se este iniciando sesion correctamente revisa si existe algun mensaje de error

* **fabian82** (1) [61624](https://platzi.com/comentario/624869/) 
Hola Como estan ?? No puedo solucionar este error PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 10: ,...

* **bryant M** (1) [60556](https://platzi.com/comentario/607433/) 
Yo estoy pagando Platzi especificamente para aprender Flutter, considero que Ann es super buena para ensenar por que aproveche al esperar...

	* **anncode** [60556] (2)

		Hola Brayan!!  
		Cuenta conmigo en tu traves√≠a con Flutter  
		Dime lo siguiente, para saber a d√≥nde nos regresamos y volvemos a explicar:
		
		  1. ¬øQu√© fue lo que entendiste mejor sobre BLoC?
		  2. ¬øQu√© fue lo que no entendiste para nada?
		
		

* **Jos√© Mauricio Chavarr√≠a** (1) [60352](https://platzi.com/comentario/604294/) 
¬øC√≥mo puedo manejar un error en el inicio de sesi√≥n? Este sucede cuando en iOS o en Android cancelo el proceso de iniciar sesi√≥n.

	* **Jos√© Mauricio Chavarr√≠a** [60352] (1)

		Este es el c√≥digo que aparece en pantalla:
		``` 
		    import 'package:firebase_auth/firebase_auth.dart';
		    import 'package:google_sign_in/google_sign_in.dart';
		    
		    class FirebaseAuthAPI {
		      final FirebaseAuth _auth = FirebaseAuth.instance;
		      final GoogleSignIn googleSignIn = GoogleSignIn();
		    
		      Future<FirebaseUser> signIn() async {
		        GoogleSignInAccount googleSignInAccount = await googleSignIn.signIn();
		        GoogleSignInAuthentication gSA = await googleSignInAccount.authentication;
		    
		        FirebaseUser user = await _auth.signInWithCredential(
		            GoogleAuthProvider.getCredential(
		                idToken: gSA.idToken, accessToken: gSA.accessToken));
		    
		        return user;
		      }
		    }
		    
		```

* **happiestack** (0) [607388](https://platzi.com/comentario/607388/) 

	Tengo el mismo error para el sign in
	
	Unhandled Exception: PlatformException(sign_in_failed, com.google.android.gms.common.api.ApiException: 16: , null)
	
	Tengo ya rato investigando pero no doy con los que pueda ser pero nada, tampoco pude solucionando agregando el SHA256 y actualizando el google-services.json.

	* **anncode** [607388] (1)

		Agregaste el SHA1 de Android `debug.keystore` en Firebase?

	* **happiestack** [607388] (1)

		Claro que si, ya genere un nuevo debug.keystore, cree un nuevo proyecto, revincule a firebase y trate con otra cuenta firebase y google

	* **happiestack** [607388] (1)

		@anncode despues de dias de estar en llamas google se apiado de mi y simplemente el error desaparecio (No he movido nada el dia de hoy). Simplemente abri el proyecto y lo corri sin esperanzas y ya no arrojo el error.

	* **anncode** [607388] (1)

		Me alegra mucho esta noticia!!!  
		S√≠ Firebase da un poco de problemas, pero en cuanto eso queda todo sigue flu√≠do.  
		No te rindas! Termina el curso!

	* **miguelleon27** [607388] (1)

		Buenas tardes actualmente tengo ese mismo error, sabe de casualidad si se realiz√≥ alg√∫n cambio?
		
		![](https://drive.google.com/file/d/1EIRaKIeHbuhdNa_QaMEsnMvaY3z297Qo/view?usp=sharing)
		
		(<https://drive.google.com/file/d/1EIRaKIeHbuhdNa_QaMEsnMvaY3z297Qo/view?usp=sharing>)

## 0180. Implementando Google SignOut en BLoC [20234](https://platzi.com/clases/1603-flutter-avanzado/20234-implementando-google-signout-en-bloc/)

### Descripci√≥n:


Aqu√≠ puedes ver el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/10.FirebaseSignOutBLoC).

### Comentarios:

* **Germ√°n Arevalo Jerez** (4) [661699](https://platzi.com/comentario/661699/) 

	No se si lo de cambiar la contrase√±a aplica en el caso de la cuenta de Google, ya que se puede cambiar desde el mismo Google.

* **Germ√°n Arevalo Jerez** (4) [661694](https://platzi.com/comentario/661694/) 

	Vamos a hacer magia.

* **jlquichimbo** (2) [791431](https://platzi.com/comentario/791431/) 

	Qu√© es una lamda? üòÑ

	* **Demian Arenas (Platzi)** [791431] (2)

		Hola, dentro de Flutter una funci√≥n lambda se puede entender como una funci√≥n an√≥nima. En la clase lo que hace es declarar una funci√≥n lambda dentro del signOut().then ya que no vuelve a reutilizar la l√≥gica de esta funci√≥n, entonces no es necesario declarar una nueva funci√≥n completa para el m√©todo then.

* **Daniel Pereira** (1) [1012977](https://platzi.com/comentario/1012977/) 

	Cambiar contrase√±a en google authentication? ü§î

## 0190. Implementando Google SignOut en View [20235](https://platzi.com/clases/1603-flutter-avanzado/20235-implementando-google-signout-en-view/)

### Descripci√≥n:


Aqu√≠ encuentras el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/11.FirebaseSignOutView) de la clase.

### Comentarios:

* **Miguel Nieto Illescas** (4) [806367](https://platzi.com/comentario/806367/) 

	Un poco confuso‚Ä¶ creo esto es lo dificil de bloc‚Ä¶

* **Julian Sanchez** (3) [891932](https://platzi.com/comentario/891932/) 

	Algo para corregir, cuando se pone los par√°metros entre llaves no necesariamente hay que poner el Key. De hecho el par√°metro Key se puede colocar incluso en los par√°metros sin llaves.  
	El parameter Key es para tener una referencia al Widget y tambi√©n se usa para hacer la app mas fluida.  
	Los par√°metros entre llaves se conocen como ‚ÄúNamed Parameters‚Äù o ‚ÄúPar√°metros Nombrados‚Äù.

* **JanethM** (3) [678055](https://platzi.com/comentario/678055/) 

	Todo bien hasta aqui üòÑ

* **Lordpanther** (2) [633659](https://platzi.com/comentario/633659/) 

	Me gusta mucho avanzar en e aprendizaje. Aun falta bastante en el camino de la excelencia.

	* **Germ√°n Arevalo Jerez** [633659] (2)

		A seguir aprendiendo!

* **tabufell** (1) [857667](https://platzi.com/comentario/857667/) 

	Gente, que otros cursos recomiendan para entender a mayor profundidad todo. Que yo pues lo puedo ir copiando pero no lo entiendo muy bien

	* **fernandajofili** [857667] (2)

		¬°Hola Jessica! Si disfrutaste de esta clase y te gusta el desarrollo de aplicaciones, Platzi tiene dos rutas de aprendizaje similares: [Desarrollo de Aplicaciones Android](https://platzi.com/desarrollo-android/) y [Desarrollo de Apps multiplataforma](https://platzi.com/multiplataforma/)! Tienes cursos desde b√°sico hasta avanzado!

* **Omar Jesus Hern√°ndez Bastos** (1) [809971](https://platzi.com/comentario/809971/) 

	Si alguno le marca un error en el platzi_trips_cupertino dentro del switch deben agregar el caso default
	``` 
	                default: {
	                  return CupertinoTabView(
	                      builder: (BuildContext context) => HomeTrips() );
	                }
	                  break;```
	    
	```

* **JanethM** (1) [64552](https://platzi.com/comentario/678057/) 
Tengo una duda acerca de este tema de iniciar Sesion con google. ¬øEl usuario ya esta quedando registrado en nuestra app con la primera ve...

## 0200. Monitoreando y validando la conexi√≥n al Sign con Google [20236](https://platzi.com/clases/1603-flutter-avanzado/20236-monitoreando-y-validando-la-conexion-al-sign-con-g/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/12.SessionMonitoring) encuentras el repositorio de esta clase.

### Comentarios:

* **robertmezagarcia** (2) [820100](https://platzi.com/comentario/820100/) 

	Wao este curso se pone cada vez m√°s interesante

* **Edgar Barragan** (2) [630508](https://platzi.com/comentario/630508/) 

	Puede pasarles (depende de la app que est√©n haciendo) que su aplicaci√≥n no supere el ConnectionState.waiting y por tanto les muestre el CircularProgressIndicator, a√∫n cuando superaron la autenticaci√≥n satisfactoriamente.  
	La causa: Esto se debe a que se perdi√≥ la conexion con el BlocProvider.  
	La solucion esta aproximadamente en el minuto 5:10 de la clase anterior.
	
	return BlocProvider<UserBloc> (  
	bloc: UserBloc(),  
	child: YourWidget(),  
	);

	* **lucia9896** [630508] (1)

		yo tengo implementado el bloc provider de esa manera y sigue el error nose donde se estara perdiendo la conexion entonces üòï

	* **lucia9896** [630508] (1)

		retiro mi comentario ya lo solucione el error era mio, invert√≠ el c√≥digo de cuando no hab√≠a data lo puse en cuando si recib√≠a data y viceversa por eso no me aparec√≠a ajajaj

## 0210. Mostrando los datos de usuario de Google en la interfaz en Flutter [20237](https://platzi.com/clases/1603-flutter-avanzado/20237-mostrando-los-datos-de-usuario-de-google-en-la-int/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/13.SignOut) encuentras el repositorio de esta clase.

### Comentarios:

* **Nicol√°s Neira** (7) [614239](https://platzi.com/comentario/614239/) 

	S√≥lo quer√≠a decir que hasta ahora el curso ha cumplido 100% con mis expectativas, Anah√≠ es una buen√≠sima profesora y tenemos la suerte de tenerla en Platzi; gracias por todo!

* **aleramirezsj** (5) [645148](https://platzi.com/comentario/645148/) 

	Genial el curso!, solo que es logueado no logeado.  
	Se ten√≠a que decir y se dijo! üòÉ

* **jhon rodriguez** (3) [761475](https://platzi.com/comentario/761475/) 

	el curso va genial, pero en este paso siempre que intento cargar la info de mi usuario logueado siempre esta en modo waiting y solo se ve el CircularProgressIndicator() ‚Ä¶ alguien sabe que puede estar pasando ? AYUDAAA!!

	* **Alejandro** [761475] (1)

		A mi me pasa lo mismo

	* **Leonardo Valencia** [761475] (1)

		Yo tuve el mismo error en otra app, descargue el repositorio de la clase (el link esta debajo del video), compare con lo que tenia implementado y me di cuenta que tenia un error en mi c√≥digo. Puedes hacer lo mismo para corregir tu error.

	* **Mijahil Barra Li** [761475] (1)

		Tengo el mismo problema, como puedo solucionarlo :‚Äô(

* **oscarjaj94** (3) [761154](https://platzi.com/comentario/761154/) 

	amamos a anahi

* **melendez-kevin** (2) [904049](https://platzi.com/comentario/904049/) 

	El **signOut()** al inicio del m√©todo del bot√≥n de _‚ÄúLogin With Google‚Äù_ no me funciono.  
	As√≠ que lo puse al inicio del m√©todo **signIn()** de nuestra clase **FirebaseAuthApi** del archivo **firebase_auth_api.dart**
	``` 
	    Future<FirebaseUser> signIn() async{
	        await signOut();
	        GoogleSignInAccount gsa = await googleSignIn.signIn();
	        .
	        .
	        .
	    
	```

* **jangove** (1) [991911](https://platzi.com/comentario/991911/) 

	2020-02-18 09:35:11.759 3992-30143/? E/FA: Missing google_app_id. Firebase Analytics disabled. See
	
	Tengo este error al compilar hasta esta clase por que sera?

* **Nick1125** (1) [991323](https://platzi.com/comentario/991323/) 

	Cuando doy fuera del cuadro de la app cuando me pide seleccionar mi gmail me aparece este error
	
	Exception has occurred.  
	PlatformException (PlatformException(sign_in_canceled, com.google.android.gms.common.api.ApiException: 12501: , null))
	
	alguna ayuda?? gracias

* **daniel herrera s√°nchez** (1) [930159](https://platzi.com/comentario/930159/) 

	Para los que no le muestre la imagen deben cambiar la fuente de esta a lo siguiente
	``` 
	    image: DecorationImage(
	                  fit: BoxFit.cover,
	                  image: new NetworkImage(user.photoURL)
	              )
	    
	```

* **Bruno Diharce** (1) [844270](https://platzi.com/comentario/844270/) 

	A mi me pasa que se queda en waiting, pero al darle al hot reaload, en la consola se ve que pasa por waiting y enseguida a active. Alguien que le haya pasado lo mismo?

	* **Bruno Diharce** [844270] (1)

		Se pudo solucionar!
		
		Resulta que me faltaba **proveer a los hijos del bloc provider,** preferi usar mi archivo del BottomNavigationBar en lugar de usar el que estaba en el repositorio.
		
		Pero esto no me dejo claro algo, yo pense que ya desde el main, estabamos proviendo del UserBloc , entonces di por sentado que para ver los datos del usuario iba apoder utilizar el UserBloc, y claro, pasaba que se me quedaba el snapshot en waiting‚Ä¶
		
		Supongo que esto puede ser un tema relacionado con el Scaffold‚Ä¶

	* **PedroRafa26** [844270] (1)

		Hola Bruno, puedes ser un poco m√°s espec√≠fico? tengo el mismo problema y no entiendo d√≥nde debo instanciar el BlocProvider para que los datos se mantengan.

* **VladDark** (1) [828271](https://platzi.com/comentario/828271/) 

	Genial! parece que vamos bien üòÉ

* **elbuendaza** (1) [60465](https://platzi.com/comentario/605812/) 
en el caso por puede que pase cual seria la mejor forma de evitar un null en la photoUrl? ya que se puede presentar si el usuaurio no ha ...

	* **Mario Vizcaino** [60465] (2)

		En lo personal siempre utilizo una imagen base(local) para evitar estos problemas.

# Cloud Firestore de Firebase en Flutter [4057]

## 0220. ¬øQu√© es Cloud Firestore de Firebase [20238](https://platzi.com/clases/1603-flutter-avanzado/20238-que-es-cloud-firestore-de-firebase/)

### Descripci√≥n:


Tener persistencia en nuestros datos es una realidad que poco a poco en nuestras aplicaciones deben ir promoviendo y/o adquiriendo. Ahora vamos a darle persistencia a nuestros datos a Firebase usando Cloud Firestore.

Nos vamos a dirigir a nuestra console de Firebase, iremos a Database, crearemos una Database y haremos los siguientes pasos: locked enable, cambiaremos las reglas a `allow read, write: if reques.auth != null`.

No vamos a utilizar tablas ni relaciones, utilizaremos un modelos de bases de datos no relacional, la llamamos colecciones que dentro pueden tener documentos.

### Links:

* [Curso de Firestore para Android: Aprende Cloud Firestore de Firebase | Platzi | Materiales](https://platzi.com/clases/firestore/)

### Comentarios:

* **VladDark** (5) [828275](https://platzi.com/comentario/828275/) 

	interesante el manejo de datos de firebase/firestore.  
	a darle! üòÉ

* **jangove** (1) [992141](https://platzi.com/comentario/992141/) 

	Missing google_app_id. Firebase Analytics disabled
	
	sigo con este error

## 0230. Analizando un modelo de datos no relacional [20239](https://platzi.com/clases/1603-flutter-avanzado/20239-analizando-un-modelo-de-datos-no-relacional/)

### Descripci√≥n:


Crearemos nuestro modelo de datos para nuestra aplicaci√≥n Platzi Trips, recuerda que debemos analizar nuestra aplicaci√≥n para saber cuales son las colecciones y los campos que tendr√° los documentos para un mayor entendimiento de nuestra _database_.

### Comentarios:

* **VladDark** (1) [828281](https://platzi.com/comentario/828281/) 

	:th

* **bryan.a.sanchez.98** (1) [603014](https://platzi.com/comentario/603014/) 

	que es una collection? tambi√©n es una entidad?

	* **Fabian Arlex  Pe Perdomo Romero** [603014] (2)

		Un Collection es semejante a una tabla de una BD y una entidad es un objeto

	* **ThAlan** [603014] (2)

		Si tomamos como referencia las bases de datos relacionales, una colecci√≥n es una tabla en una base de datos no-relacional.
		
		Una entidad representa un objeto ya sea de la vida real o abstracto.
		
		Como ejemplo de un objeto real y uno abstracto:
		
		* (Real): Coche.
		
		* (Abstracto): Cargo de un empleado, ya que da informaci√≥n sobre la funci√≥n del empleado.
		
		
		

* **bryan.a.sanchez.98** (1) [60261](https://platzi.com/comentario/603014/) 
que es una collection? tambi√©n es una entidad?

	* **Fabian Arlex  Pe Perdomo Romero** [60261] (2)

		Un Collection es semejante a una tabla de una BD y una entidad es un objeto

## 0240. Creando un Modelo de datos en Cloud Firestore [20240](https://platzi.com/clases/1603-flutter-avanzado/20240-creando-un-modelo-de-datos-en-cloud-firestore/)

### Descripci√≥n:


Aqu√≠ encuentras el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/14.FirestoreDataModel) de esta clase.

### Comentarios:

* **Juli√°n Andr√©s Vela Salazar** (3) [660707](https://platzi.com/comentario/660707/) 

	Porque no hacerlo con una API independiente? algo en Nodejs

	* **Daniel Esteves** [660707] (1)
Porque vamos a usar algo preconstruido y que va muy bien con aplicaciones m√≥viles como lo es Firebase y Firestore, muy recomendados como base de datos para dispositivos m√≥viles

	* **jlquichimbo** [660707] (1)

		Hola Juli√°n.  
		Encontraste un tutorial correcto para conectar con una API en NodeJS?

	* **Amaru Ugaz** [660707] (1)

		Firebase es una base de datos en tiempo real, tiene sus propias formas de trabajar para poder hacer uso de esta caracter√≠stica. Con una API pierdes esas cosas. De todas formas una API es una excelente opci√≥n tambi√©n.

* **PedroRafa26** (2) [956261](https://platzi.com/comentario/956261/) 

	En el [curso de Fundamentos de Base de Datos](https://platzi.com/clases/bd/) de Platzi profundizan mucho mas acerca de las colecciones y los documentos y del c√≥mo estructurar la base de datos para tu proyecto 100% recomendado üòÑ

* **MatiasHarder** (2) [913815](https://platzi.com/comentario/913815/) 

	Genial ya me falta poco por terminar! üòÑ mucho animo chicos

* **sebastian-lara** (2) [645254](https://platzi.com/comentario/645254/) 

	La gu√≠a de estilo de dart recomienda `lowerCamelCase` para nombrar las constantes. üòÉ
	
	‚ÄúPREFER using lowerCamelCase for constant names.‚Äù
	
	Ref: <https://dart.dev/guides/language/effective-dart/style#prefer-using-lowercamelcase-for-constant-names>

	* **Germ√°n Arevalo Jerez** [645254] (1)

		Gracias por el aporte.

* **VladDark** (1) [828289](https://platzi.com/comentario/828289/) 

	all√° vamos! üòÉ

* **Pablo Zenteno** (1) [81915](https://platzi.com/comentario/993190/) 
Es correcto usar modelos o entidades de otros dominios en clean arquitecture??

* **Miguel Eduardo Langarano Guerrero** (1) [74529](https://platzi.com/comentario/854551/) 
Por qu√© utiliza final en las variables de la clase user y en la clase place no?

	* **Sebasti√°n Valencia Zapata** [74529] (1)

		Creo que se puede usar cualquiera y no influte en el resultado.

## 0250. Enviando datos a Cloud Firestore [20241](https://platzi.com/clases/1603-flutter-avanzado/20241-enviando-datos-a-cloud-firestore/)

### Descripci√≥n:


Aqu√≠ encuentras el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/15.FirestoreDataInsert) de esta clase.

### Comentarios:

* **davidsc34** (2) [1005727](https://platzi.com/comentario/1005727/) 

	Que tal amigos, alguien sabe por que apesar de no pasar userOwner, que es un parametro requerido, aun asi funciono la app?. Saludos, espero no sea muy tonta la pregunta

* **Sebasti√°n Valencia Zapata** (2) [955587](https://platzi.com/comentario/955587/) 

	Este curso es bastante robusto, pero por sobre todo ¬°Es genial!

* **Lordpanther** (2) [634318](https://platzi.com/comentario/634318/) 

	mmm NO encontr√© los objetos para pegar üò¶

	* **Hugo Andrade** [634318] (9)

		 **Lo encuentras en el repositorio**
		
		Place place = Place(  
		name: ‚ÄúKnuckles Mountains Range‚Äù,  
		description: ‚ÄúHiking. Water fall hunting. Natural bath‚Äù,  
		urlImage: ‚Äú[https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80](https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80)‚Äù,  
		likes: 3
		
		);  
		Place place2 = Place(  
		name: ‚ÄúMountains‚Äù,  
		description: ‚ÄúHiking. Water fall hunting. Natural bath‚Äô, 'Scenery & Photography‚Äù,  
		urlImage: ‚Äú[https://images.unsplash.com/photo-1524654458049-e36be0721fa2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80](https://images.unsplash.com/photo-1524654458049-e36be0721fa2?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80)‚Äù,  
		likes: 10
		
		);

	* **Germ√°n Arevalo Jerez** [634318] (1)

		Gracias!

* **Amaru Ugaz** (1) [1075605](https://platzi.com/comentario/1075605/) 

	Agradezco mucho que vas mostrando los errores que cometes (como todos) y c√≥mo los vas resolviendo, es de los mejores aspectos de este curso üòÉ

* **David Galicia** (1) [922751](https://platzi.com/comentario/922751/) 

	Todo bien hasta ahora, muy claro el video la verdad

* **VladDark** (1) [828510](https://platzi.com/comentario/828510/) 

	Ok, datos guardados! üòâ

* **Diego A. S. Cabrera** (1) [823560](https://platzi.com/comentario/823560/) 

	Buenas, a mi me hace todo correctamente pero no me esta insertando los datos en firestore, alguien sabe que puedo hacer???  
	Revise el codigo por todos lados y lo veo similar al de la clase.  
	Aguardo comentarios.

	* **ErikaPM** [823560] (1)

		Hola, si te esta corriendo normal y no te genera error en la app debes tener alg√∫n problema en el servicio de almacenaje en la BD; para solucionar el inconveniente revisa que el repositorio de Cloud firestore te este almacenando la data correspondiente al User dentro del m√©todo del update (me pas√≥ lo mismo y ten√≠a un dato mal ah√≠) _ üòÉ

* **jlquichimbo** (1) [817744](https://platzi.com/comentario/817744/) 

	Buenas amigos, a alguien le lanz√≥ un error de permisos insuficientes?
	``` 
	    [ERROR:flutter/lib/ui/ui_dart_state.cc(148)] UnhandledException: PlatformException(ErrorperformingsetData, PERMISSION_DENIED: Missingorinsufficientpermissions., null)```
	    
	```

	* **davidsc34** [817744] (2)

		Hola amigo parece ser que es algo sobre los permisos de escritura o lectura.  
		Espero aun te sirva saludo.s

	* **jlquichimbo** [817744] (1)

		Gracias amigos, pas√≥ que tuve que formatear la m√°quina y cambi√≥ el key de autenticaci√≥n, as√≠ que tuve que generarlo de nuevo para tener los permisos correctos y ponerlo nuevamente en FireBase. Espero les sirva.

* **Emmanuel Guerra** (1) [787177](https://platzi.com/comentario/787177/) 

	Mi cloud firestore se bugeo y no insertaba‚Ä¶no se si fue porque inclu√≠ la dependencia de firebase_core o porque estaba usando una version con un ‚Äò+number‚Äô al final. La UI de Firebase tampoco me dejaba nukear la DB! tuve que borrar todo desde Firebase CLI
	
	<https://firebase.google.com/docs/firestore/manage-data/delete-data>

* **Edward Acu** (1) [709286](https://platzi.com/comentario/709286/) 

	El curso anterior no me gusto, era muy te√≥rico pero este curso va supero bien, esta lo m√°ximo.

## 0260. Creando un Widget gradiente personalizado [20242](https://platzi.com/clases/1603-flutter-avanzado/20242-creando-un-widget-gradiente-personalizado/)

### Descripci√≥n:


Aqu√≠ puedes conocer el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/16.GenericGradientWidget) de esta clase.

### Comentarios:

* **JCMeza** (5) [782819](https://platzi.com/comentario/782819/) 

	Archivos con los que trabajamos:  
	gradient_back.dart  
	sign_in_screen.dart  
	header_appbar.dart

* **Nick1125** (2) [993151](https://platzi.com/comentario/993151/) 

	Mi pregunta es como puedo implementar firebase sin conexion ??

* **Nick1125** (1) [82564](https://platzi.com/comentario/1007872/) 
Porque el constructor lleva keys??

* **Julian Sanchez** (1) [76771](https://platzi.com/comentario/892790/) 
En clases anteriores seteaba en null el height o el width para que adopte el conteiner toda la altura o todo el ancho de la pantalla resp...

* **fabian82** (1) [62494](https://platzi.com/comentario/641092/) 
Buenas, Como estan? Les hago una consulta, no logro hacer que me quede igual a como lo hizo ann, el gradiente me queda ovalado, sabran cu...

	* **Felipe Donoso** [62494] (1)

		Hola yo no puedo mostrar los datos de la persona que ha sido registrada en Firebase? la duda hay soporte en Platzi? o solamente tenemos que ayudarnos entre nosotros cuek

## 0270. Manejo de Desbordamiendo de Texto de Widget Text [20243](https://platzi.com/clases/1603-flutter-avanzado/20243-manejo-de-desbordamiendo-de-texto-de-widget-text/)

### Descripci√≥n:


Aqu√≠ puedes conocer el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/17.TextOverloading) de esta clase.

### Comentarios:

* **Guillermo L√≥pez** (3) [627683](https://platzi.com/comentario/627683/) 

	Creo que tambi√©n se podr√≠a haber puesto en el width la propiedad double.infinity en lugar de hacer el MediaQuery y de esa manera tambi√©n hacemos que ocupe todo el ancho

	* **Lordpanther** [627683] (5)

		Es cierto pero para an√°lisis m√°s complejos es necesaria la precisi√≥n matem√°tica de la definici√≥n del ancho üòâ

## 0280. Bot√≥n de Back en un Appbar en Flutter [20244](https://platzi.com/clases/1603-flutter-avanzado/20244-boton-de-back-en-un-appbar-en-flutter/)

### Descripci√≥n:


 **¬øC√≥mo maneja Flutter la navegaci√≥n?**

Las pantallas se apilar√°n en una pila, literalmente, tendremos un m√©todo en especial para regresar a la p√°gina anterior o ir a una p√°gina superior, para el caso del bot√≥n que estamos construyendo en esta clase queremos volver a una p√°gina anterior, usaremos `Navigator.of(context).pop();`.

Si queremos ir de _Pantalla1_ a _Pantalla2_ utilizaremos el m√©todo _push_ , tendr√° como par√°metro la pantalla a la que quiero ir para hacerle _push_ a la pila e insertarla en la pantalla, por ejemplo:
``` 
    Navigator.push( context,
            new MaterialPageRoute(
                    builder: (BuildContext context) =>
                    new Screen2(userName)
            )
    );
    
```

Aqu√≠ puedes encontrar el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/18.BackButton) de esta clase.

### Comentarios:

* **JCMeza** (4) [783730](https://platzi.com/comentario/783730/) 

	Archivos creados:  
	add_place_screen.dart
	
	Archivos modificados:  
	button_bar.dart  
	circle_button.dart

* **Leonardo Valencia** (3) [772847](https://platzi.com/comentario/772847/) 

	Hola, aun no he podido entender muy bn para que se coloca Key key en el constructor o en cualquier otro metodo, me pueden explicar un poco mejor, gracias.

	* **Omar Jesus Hern√°ndez Bastos** [772847] (2)

		Se coloca para que se pida cuando invocas el metodo usar el nombre del parametro ejemplo
		``` 
		    dameTuAltura({Key key, this.height);
		    
		    
		    Cuando invoques la funcione te pedira usar el key de height que se llama igual a la variable
		    dameTuAltura(height: 1.8);
		    
		```

* **jangove** (1) [998675](https://platzi.com/comentario/998675/) 

	EdgeInsets.only
	
	EdgeInsets.all  
	cual es la diferencia ?

	* **davidsc34** [998675] (3)

		Hola amigo estuve revisando un poco el Metodo EdgeInsets.only tienes que indicar el valor de varios parametros, EdgeInsets.all solo recibe un parametro, lo que seria algo asi como en CSS
		
		.clase{  
		padding-top:15px;  
		padding-left15px;15px;  
		padding-right:15px;  
		padding-bottom:15px;  
		}
		
		.clase{  
		padding : 15px;  
		}  
		Espero te sirva, saludos

	* **jangove** [998675] (1)

		si gracias amigo

* **Omar Guadarrama** (1) [744745](https://platzi.com/comentario/744745/) 

	L√≥gica de Navegaci√≥n

* **aviloncho** (1) [620347](https://platzi.com/comentario/620347/) 

	Explicaci√≥n de la Navegaci√≥n en Flutter

## 0290. Navegaci√≥n entre pantallas en Flutter [20600](https://platzi.com/clases/1603-flutter-avanzado/20600-navegacion-entre-pantallas-en-flutter/)

### Descripci√≥n:


# Navegar de una pantalla a otra

Comenzaremos viendo el ejemplo m√°s simple.

Recuerda que pensar en manejar la navegaci√≥n en flutter significa que estamos en un stack, por lo tanto si quiero pasar de una pantalla a otra deber√© a√±adir un elemento al stack, esto lo hago con la opci√≥n `push` de la siguiente manera.
``` 
    Navigator.push(
        context,
        MaterialPageRoute(builder: (context) => SecondRoute()),
    );
    
```

Ahora imagina que queremos regresar, esto significar√° sacar la pantalla de la pila en este caso no es necesario llamar directamente al archivo sino √∫nicamente usar la funci√≥n `pop` de la clase `Navigator`.
``` 
    Navigator.pop(context);
    
```

# Navegar de una pantalla a otra con par√°metros

Podemos enviar de una pantalla a otra desde un dato sencillo hasta un objeto entero, simplemente usando el m√©todo constructor de la clase a d√≥nde queremos llevar el dato. Podemos hacerlo de la siguiente forma:
``` 
    Navigator.push(
      context,
      MaterialPageRoute(
        builder: (context) => DetailScreen(place: places[index]),
      ),
    );
    
```

# Navegar de una pantalla a otra volver y obtener un resultado

Esta acci√≥n no es tan utilizada pero te dejo el dato sobre c√≥mo funciona y la explicaci√≥n de un caso de uso para que tengas m√°s contexto de en qu√© casos se puede usar:

Imagina una pantalla que tiene dos botones ambos activan dos men√∫s, el requerimiento es que la al clickear cualquiera de los botones abra el men√∫ y luego regrese a la pantalla anterior con el resultado de lo seleccionado en el men√∫.

Este tipo de actividad se conoce como obtener el resultado de la pantalla y lo podemos lograr de la siguiente forma:

**1\. Ir a la pantalla de opciones**
``` 
    onPressed: () {
        _navigateAndDisplaySelection(context);
    },
    
    
    
```

**2\. En la pantalla de opciones tener asignado el accionable de esta forma**
``` 
    Navigator.pop(context, "Opci√≥n Seleccionada");
    
```

Esto har√° que autom√°ticamente al ir de regreso a la pantalla inicial llegu√© directamente a este m√©todo, para obtener el resultado:
``` 
    _navigateAndDisplaySelection(BuildContext context) async {
        final result = await Navigator.push(
            context,
            MaterialPageRoute(builder: (context) => SelectionScreen()),
        );
    }
    
```

# Navegaci√≥n con rutas

Cuando estamos navegando recurrentemente a la misma pantalla desde otras, puede provocar la duplicaci√≥n del c√≥digo. En esos casos es m√°s recomendable utilizar la navegaci√≥n por rutas.

Para lograr esto lo primero que debemos hacer es desde el Widget `MaterialApp()` declarar las rutas de la siguiente forma:
``` 
    MaterialApp(
        initialRoute: '/',
        routes: {
            '/': (context) => FirstScreen(),
            '/second': (context) => SecondScreen(),
            '/third': (context) => ThirdScreen(),
        },
    );
    
```

Una vez declaradas ya podemos navegar de esta forma:
``` 
    Navigator.pushNamed(context, '/second');
    
```

Y regresar a la pantalla anterior usando la misma sentencia `pop`
``` 
    Navigator.pop(context);
    
```

### Comentarios:

* **waldirrocabado** (3) [777942](https://platzi.com/comentario/777942/) 

	Esta navegacion solo se usa para las screens que llevan datos? y como se diferencia de la navegacion que estabamos teniendo de ir de home a profile. y the el sign in a home.

	* **ErikaPM** [777942] (1)

		La diferencia es que en el c√≥digo que ten√≠amos anteriormente para navegar entre pesta√±as se hac√≠a llamando los screen desde la barra de navegaci√≥n de Cupertino, en la documentaci√≥n que nos presentan ahora explican como navegar en m√∫ltiples pesta√±as que van a estar ‚Äúapiladas‚Äù una sobre otra, as√≠ puedes acceder a ellas por su posici√≥n, es similar al uso de un array.

* **MatiasHarder** (2) [923847](https://platzi.com/comentario/923847/) 

	Buen contenido! Muchas gracias por este gran curso! üòÑ

## 0300. Widget Text Appbar personalizado en Flutter [20245](https://platzi.com/clases/1603-flutter-avanzado/20245-widget-text-appbar-personalizado-en-flutter/)

### Descripci√≥n:


Aqu√≠ puedes encontrar el [repositorio](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/19.CustomAppbarText) de esta clase.

### Comentarios:

* **JCMeza** (5) [784052](https://platzi.com/comentario/784052/) 

	Se creo el archivo title_header.dart  
	Modificamos el archivo add_place_screen.dart y sacamos informaci√≥n del archivo gradient_back.dart

* **Lordpanther** (3) [634407](https://platzi.com/comentario/634407/) 

	Una enorme responsabilidad conlleva unas veces una recompensa.

* **Emmanuel Guerra** (1) [787741](https://platzi.com/comentario/787741/) 

	Podr√≠amos pasarle el padding por par√°metro a Title header
	``` 
	    final String title;
	      final EdgeInsets padding;
	    
	      TitleHeader({Key key, @requiredthis.title, this.padding});
	    
	    //AddPlaceScreen
	    
	    TitleHeader(title:'Add a new place', padding: EdgeInsets.only(top:45.0, left:20.0, right:10.0))
	    
	```

* **MatiasHarder** (1) [78588](https://platzi.com/comentario/923863/) 
De que sirve el Key key?

## 0310. Widget TextField personalizado en Flutter [20246](https://platzi.com/clases/1603-flutter-avanzado/20246-widget-textfield-personalizado-en-flutter/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/20.CustomTextField) encuentras el repositorio de esta clase.

### Comentarios:

* **josericardoperezperez** (8) [839556](https://platzi.com/comentario/839556/) 

	A esta altura creo que ando prefiriendo Flutter contra React Native üòÉ

* **Lordpanther** (5) [634428](https://platzi.com/comentario/634428/) 

	I loved flutter.

	* **Germ√°n Arevalo Jerez** [634428] (1)

		Me too.

* **JCMeza** (4) [784566](https://platzi.com/comentario/784566/) 

	Se hizo el archivo text_input.dart

* **Israel Mu√±oz Rivas** (2) [974827](https://platzi.com/comentario/974827/) 

	Y aqu√≠ empiezo a ver menos comentarios que en las clases anteriores, da miedo tanta soledad, salu3

* **VladDark** (1) [829084](https://platzi.com/comentario/829084/) 

	s√∫per!

## 0320. Creando una Safe Area para una interfaz que tiene un AppBar [20247](https://platzi.com/clases/1603-flutter-avanzado/20247-creando-una-safe-area-para-una-interfaz-que-tiene-/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/21.SafeArea) est√° el repositorio de esta clase.

### Comentarios:

* **Israel Mu√±oz Rivas** (7) [974854](https://platzi.com/comentario/974854/) 

	{ __{   
	( ‚Ä¢ _ ‚Ä¢ ) Toma una galleta extra√±o, y sigue en tu viaje  
	/ >  
	üç™

* **Nick1125** (3) [1008303](https://platzi.com/comentario/1008303/) 

	Si lees esto no te rindas ‚Ä¶ continua pase lo que pase  
	"Todo camino empieza por el genesis terminando en una revelacion"  
	Nujabes

* **icazqui** (1) [83288](https://platzi.com/comentario/1023801/) 
Tengo una duda: Porque el inputType de title se iguala a null y el inputType de description se iguala a TextInputType.multiline?

* **Francisco Javier V√°zquez Paredes** (1) [62811](https://platzi.com/comentario/646684/) 
Tengo una duda Ann: En la clase de hoy nos comentas que las variables del tipo TextEditingController deber√°n declararse ...

	* **Omar Guadarrama** [62811] (1)

		Tienes mucha raz√≥n.

## 0330. Widget TextField con iconos en Flutter [20248](https://platzi.com/clases/1603-flutter-avanzado/20248-widget-textfield-con-iconos-en-flutter/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/22.CustomTextFielWithIcon) est√° el repositorio de esta clase.

### Comentarios:

* **Javier Batres** (4) [615458](https://platzi.com/comentario/615458/) 

	Para el input de location, en caso de que fuera un boton podemos usar como base un RaideButton y modificarlo:
	``` 
	    Container(
	                      padding: EdgeInsets.symmetric(horizontal: 20),
	                      margin: EdgeInsets.only(top: 20),
	                      child: RaisedButton(
	                        onPressed: () {},
	                        color: Colors.white,
	                        child: Row(
	                          mainAxisAlignment: MainAxisAlignment.spaceBetween,
	                          children: <Widget>[
	                            Text("Add Location"),
	                            Icon(Icons.location_on)
	                          ],
	                        ),
	                        elevation: 5,
	                        shape: RoundedRectangleBorder(
	                          borderRadius: BorderRadius.all(Radius.circular(10))
	                        ),
	                      ),
	                    )
	    
	```

* **pablo nicoli** (1) [1038939](https://platzi.com/comentario/1038939/) 

	Como haces para que este ‚ÄúAdd Location‚Äù cuando vas escribiendo la Location te levante googleMaps para seleccionar de una lista de lugares ?

* **MatiasHarder** (1) [931531](https://platzi.com/comentario/931531/) 

	Genial excelente curso!

* **JCMeza** (1) [785454](https://platzi.com/comentario/785454/) 

	Generamos el archivo title_input_location.dart y copiamos c√≥digo del archivo text_input.dart e implementamos el archivo creado en el archivo add_place_screen.dart

* **Evelin Lorena Flores Garc√≠a** (0) [81934](https://platzi.com/comentario/993491/) 
Hola, cada vez que quiero compilar el proyecto en un dispositivo m√≥vil me da el siguiente error: Exception has occurred. PlatformExceptio...

	* **davidsc34** [81934] (1)

		Hola, espero te ayude, pero creo que en base al error que pones, es por la autenticacion con firebase , por esto que escribes:  
		sign_in_failed, com.google.android.gms.common.api.ApiException: 7
		
		Saludos.

## 0340. Retocando el CardView [20249](https://platzi.com/clases/1603-flutter-avanzado/20249-retocando-el-cardview/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/23.CustomCardView) est√° el repositorio de esta clase.

### Comentarios:

* **Javier Batres** (8) [615470](https://platzi.com/comentario/615470/) 

	Si quieren darle valor por defecto a alguna variable **final** , en el constructor pueden agregarlo para que quede algo asi:
	``` 
	    CardImage({Key key, this.height=250, ...})
	    
	```

* **JCMeza** (6) [785653](https://platzi.com/comentario/785653/) 

	Los archivos en donde se hicieron ajustes fueron:
	
	* card_image.dart
	* add_place_screen.dart
	* card_image_list.dart
	* floating_action_button_green.dart
	
	

* **Javier Batres** (3) [615468](https://platzi.com/comentario/615468/) 

	Unos detalles para el constructor. En Dart solo aquellos parametros que no tengan un valor por defecto deben/pueden llevar el **@required**. Otra cosa es que en los constructores antes del **;** es bueno poder la carga del metodo super de la clase que extendemos y que el constructor sea un constante. Por lo que quedar√≠a algo as√≠:
	``` 
	    const CardImage({Key key, ...}) : super(key: key);
	    
	```

* **pablo nicoli** (0) [1038946](https://platzi.com/comentario/1038946/) 

	porque la variable onPressedFabIcon es de tipo VoidCallback ?

## 0350. Mostrando im√°genes en un CardView [20250](https://platzi.com/clases/1603-flutter-avanzado/20250-mostrando-imagenes-en-un-cardview/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/24.ShowImageCardView) est√° el repositorio de esta clase.

### Comentarios:

* **jlquichimbo** (2) [858386](https://platzi.com/comentario/858386/) 

	Qu√© widget era el que defin√¨a la ‚Äúzona segura‚Äù que menciona al final?

	* **bynico** [858386] (2)

		Flexible

* **VladDark** (1) [829258](https://platzi.com/comentario/829258/) 

	Listo, ajustado!

* **carlos1128** (1) [643785](https://platzi.com/comentario/643785/) 

	En mi celular se ve√≠a un poco ancha la imagen, esto porque le ancho estaba en pixeles  
	![](https://lh3.googleusercontent.com/-NgzomqRsJuXFCf5p5FamylAbFreVE-xSBsLPpRf5tMtOPgzJ5V_knGkEunr6zqtlEVeTj3f8OTk5Drcgy7nToVK068EeLMhHc54UMkxphUP1E1J9-RJ5mB-ghlW-IsKR-q20B7tMseRiQb0TjrXuaTowPmDeqZAwrIm3FmwKJmGai0jgfgui18ji6pdC1TgAHyu5vGAPjeC_ZBHAPlfrL2jTFQa4HLO-s-SW5NgDl5XWrDTgw-fsTHPexsIn51SVU9CLZtdkPvuJr2rEEIbwBxRykzTLIZYPLFMGT6vVStSRZhAVICX7-c5IXDtnX5O23TW0AP0Hv2CR7fUa-es7z3yWPbH0PKgXBYEec5XEARq7aK-TpCReX-y9uKKRZNvVXvoIPCk-g-0c6Nmj-cwF3PORbZ3uDxZXfeE4LmFc0gkUrvUdTafBgOoBeDLhvRyntYd9szK6mrlN-BojYgQv5IgWVCD8KIa-JtXDZeoFkwaF74gBuVhSbXj0UpGu7Z9Ew8a7H18xr4xQEMxO8RQ4PEHvBme3RYYkMp3HN2a6b0WFRwLYVnYDWSOJIkO4n-HV00CQX-8DvpsLE48KbUggIe6wcK8ZMZY21E17JMLIwyCIIy9HBucr7M2kS1ZcI3g4xDofVHOeyG7PEze1zT_tX20f9pB4Tg=w491-h981-no)
	
	As√≠ que en la propiedad width del CardImageWithFabIcon us√© un MediaQuery, haciendo que el ancho del card sea el 90% del ancho de la pantalla:
	``` 
	    CardImageWithFabIcon(
	    	pathImage:"assets/img/beach_palm.jpeg",
	            iconData: Icons.camera_alt,
	            width: MediaQuery.of(context).size.width * 0.90,
	            height:250.0,
	            left:0.0,
	    )
	    
	```
	
	Y se ve de la siguiente manera:  
	![](https://lh3.googleusercontent.com/bLw5fuLAHTEY0kWTkkVfwiLXCXsA_z4jRHHlwFvoI-D6pjOd7YkzKN6DDdl6rZkx8kLDNhBJLlzjUIq3OlsQoyWz2naLJ7-EVcXQXmV53plNWfEWXAhZuc-SQMg6G0I9GAOiKwB8zSU5FEfO665NjOboCIsysJfa31zSL9Oo3p1JIcFquJi5WqNgqBBH7mvVXBxnYfR0kt_HWC9hziwU7IZqtnkowlFEstgmDPV2Rs_N4-xQ1sx6v7wsgzL-BchYyWdsOnFRCT374Duc92FJD9NxiBI2DX-iv9J_yrW67VvBp1dORZyh_3eyQ9YFAqclEaRanRlxKgxs8RA1VJACUD_MZ1ArZ5VlP6CIq06msfyj3pUGXEzEGqdiC3t0qOYiD7JoTrNOjFAMdHAtAon_Qc7PjH90K-m190K4kB1g-oIxz-iHO42h3bqsWzH_uput4nE1LPMYd9SvqJcnGi9rWnbFiimB5ZabCqA_vXu83fA1tluDv-x0laX_cn-BA8AyrHlmqhKtgvHfnWywElLBR2dU1uqs5gAVWGmvG0DA8F10mVBFg46GhRKHcDSEBFnal2R41nlVgpqcFXOLjke9cvpdCB-hxPW1qzvUywkeUBIWrSoalwmPLej0SfwgW63fTG9d89KGPrPYWil-DyLYCWZiYC8KS6Y=w491-h981-no)

* **MateriaGris02** (1) [635465](https://platzi.com/comentario/635465/) 

	CTL + ALT + L = Reformat Code

* **Lordpanther** (1) [635378](https://platzi.com/comentario/635378/) 

	Casi que NO üòâ

## 0360. Creando un bot√≥n de Submit en Flutter [20251](https://platzi.com/clases/1603-flutter-avanzado/20251-creando-un-boton-de-submit-en-flutter/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/25.SubmitButton) est√° el repositorio de esta clase.

### Comentarios:

* **JCMeza** (5) [785963](https://platzi.com/comentario/785963/) 

	Trabajamos en los archivos
	
	* button_purple.dart
	* add_place_screen.dart  
	Y arreglamos el archivo description_place.dart
	
	

* **elbuendaza** (1) [608074](https://platzi.com/comentario/608074/) 

	String pathImage = (widget.image == null) ? ‚Äúassets/img/beach_palm.jpeg‚Äù:widget.image.path;

## 0370. Env√≠o de datos de un f√≥rmulario en Flutter [20252](https://platzi.com/clases/1603-flutter-avanzado/20252-envio-de-datos-de-un-formulario-en-flutter/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/26.UploadPlace) puedes conocer el repositorio de esta clase.

### Comentarios:

* **carlos1128** (6) [643838](https://platzi.com/comentario/643838/) 

	Una forma diferente para no tener que anidar el c√≥digo podr√≠a ser la siguiente, ya que si estamos usando await no es necesario ocupar el m√©todo .then()
	``` 
	    Future<void> updatePlaceData(Place place)async{
	        CollectionReference refPlaces = _db.collection(PLACES);
	        String uid = (await _auth.currentUser()).uid; 
	        await refPlaces.add({
	          'name': place.name,
	          'description': place.description,
	          'likes': place.likes,
	          'userOwner': "$USERS/$uid"
	        });
	    
	```

	* **Sebasti√°n Valencia Zapata** [643838] (1)

		¬øQu√© beneficio tiene no anidar el c√≥digo?

	* **carlos1128** [643838] (2)

		Hola @sebas.nop, en este caso espec√≠fico pareciera que no tenemos ning√∫n beneficio al anidar, pero conforme trabajas en proyectos mucho m√°s grandes te puedes encontrar con un problema bastante com√∫n en programaci√≥n as√≠ncrona llamado Promise hell (en el caso de JavaScript), y Future Hell en el caso espec√≠fico de Dart, que es la anidaci√≥n excesiva de c√≥digo y al leerlo es menos intuitivo. Ojo, no quiero decir que nunca debas usar la anidaci√≥n, pero si visualmente ese c√≥digo se ve muy complicado muy probablemente se puede resolver mediante el uso de async/await, recuerda que mientras m√°s intuitivo sea nuestro c√≥digo mejor porque nosotros escribimos c√≥digo para otros programadores, o incluso para nosotros mismo, ya que en el futuro puede que tengas que dar mantenimiento a un determinado proyecto.

* **Miguel Eduardo Langarano Guerrero** (2) [74594](https://platzi.com/comentario/855888/) 
¬øPor qu√© no utilizamos el repository de Places para consumir el servicio? Estamos mezclando las cosas

## 0380. Subiendo datos a Firestore de Firebase [20253](https://platzi.com/clases/1603-flutter-avanzado/20253-subiendo-datos-a-firestore-de-firebase/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/26.UploadPlace) est√° el repositorio de esta clase.

### Comentarios:

* **Javier Batres** (11) [615482](https://platzi.com/comentario/615482/) 

	La referencia del campo de **UserOwner** en este caso quedo como String. Si quieren que quede como un tipo referencia dentro de firestore el metodo quedar√≠a as√≠:
	``` 
	    Future<void> updatePlaceData(Place place) async{
	        CollectionReference _ref = _store.collection(this.PLACES);
	        FirebaseUser user  = await _auth.currentUser();
	        DocumentReference _userRef = _store.collection(this.USERS).document(user.uid);
	        return _ref.add({
	          'name': place.name,
	          'description': place.description,
	          'likes': place.likes,
	          'userOwner': _userRef  //reference
	        });
	      }
	    
	```

	* **Germ√°n Arevalo Jerez** [615482] (1)

		Gracias por el aporte.

	* **davidsc34** [615482] (1)

		Que tal se ve bien esta funcion solo me qued una duda, si el Future<void> dice que regresa vacio, por que usas return _ref.ad ‚Ä¶
		
		Saludos.

* **AndresArdilaB** (3) [611734](https://platzi.com/comentario/611734/) 

	Si al hacer la prueba el campo se les resetea cuando pasan al siguiente deben definir los controllers afuera del build method.

	* **Germ√°n Arevalo Jerez** [611734] (1)

		Gracias por el aporte.

	* **JanethM** [611734] (1)

		En mi caso no se resetea, sino que no me abre el teclado del TextInput para ingresar la informacion, alguna idea de por que?

	* **Germ√°n Arevalo Jerez** [611734] (2)

		Te recomendar√≠a que revisaras el repositorio del proyecto que se comparti√≥ en las primeras clase y revisa si te falta algo.

	* **JanethM** [611734] (1)

		Lo checare, gracias

* **Nick1125** (1) [1010200](https://platzi.com/comentario/1010200/) 

	Esta libreria que encontre esta actualizada para usar mas bloc en un mismo arbol <https://pub.dev/packages/bloc_provider#-readme-tab->

* **jangove** (1) [1005290](https://platzi.com/comentario/1005290/) 

	Como puedo justificar un parrafo en flutter?

* **jangove** (1) [1003297](https://platzi.com/comentario/1003297/) 

	Tengo problema con la consola de firebase no me muestra nada

* **Pablo Zenteno** (1) [1001481](https://platzi.com/comentario/1001481/) 

	Esta bien hacer cosas de places en el bloc de user??? segun clean arquitecture???

	* **davidsc34** [1001481] (1)

		Yo pense lo mismo, pense que habria un bloc nuevo para places.

## 0390. Formularios en Flutter [20594](https://platzi.com/clases/1603-flutter-avanzado/20594-formularios-en-flutter/)

### Descripci√≥n:


Acabamos de ver una forma de trabajar con formularios haciendo que todos los elementos vivan independientemente, este comportamiento funciona cuando tenemos pocos elementos que componen el formulario, como es en nuestro caso.

Pero cuando tienes formularios de registro u otros cuya cantidad de campos ya oscila entre los 5 o m√°s es momento de usar un Widget especializado llamado `Form`.

La composici√≥n de este Widget es la siguiente:
``` 
    Form(
        key: 
        child:
        );
    )
    
```

El primer par√°metro `key` nos indicar√° el identificador del form, para esto podemos usar un objeto de tipo `GlobalKey` que adem√°s de fungir como un identificador √∫nico del formulario nos ayudar√° tambi√©n a validarlo.

Podemos declararlo as√≠:
``` 
    GlobalKey  _formKey = GlobalKey();
    Form(
        key: _formKey
        child:
        );
    )
    
```

Como vimos en clases anteriores los campos de texto se crear√°n a partir del Widget `TextFormField`, este tendr√° un estilo natural de Material Design lo que significa que est√° preparado para mostrarnos el input en ciertas tonalidades al ser validado. Estos campos estar√°n presentes en la propiedad `child` del `Form` de esta forma:
``` 
    GlobalKey  _formKey = GlobalKey();
    Form(
        key: _formKey,
        child: TextFormField()
        );
    )
    
```

Ya que estamos hablando de validaciones veamos c√≥mo podemos generarlas.  
Para que el `TextFormField` pueda tener una validaci√≥n personalizada podemos asignarla a partir de su propiedad `validator` como se muestra a continuaci√≥n:
``` 
    TextFormField(
      validator: (value) {
        if (value.isEmpty) {
          return 'Por favor ingresa tu nombre';
        }
      },
    );
    
```

Ahora pasemos al bot√≥n de submit o enviar datos. Este bot√≥n no debe recaer la responsabilidad de validar cada dato sino simplemente verificar que cada dato cumpli√≥ con su validaci√≥n especificada. Un bot√≥n de submit podr√≠a verse as√≠:
``` 
    RaisedButton(
        onPressed: _validateInputs,
        child: Text('Validate'),
    )
    
    void _validateInputs() {
        if (_formKey.currentState.validate()) {
    
        }       
    }
    
```

Como observas estamos usando el identificador del form que contiene todos los campos para verificar si todas las validaciones pasaron. Si todo se cumple entonces ya podemos ejecutar la siguiente fase que tengas pensada en el formulario.

Dada la naturaleza el input cuando abramos la ventana los campos estar√°n vac√≠os por lo tanto aparecer√°n todos marcados seg√∫n la validaci√≥n que estemos haciendo. Hay una forma de hacer que los campos a pesar de estar vac√≠os no aparezcan resaltados y esto es usando la propiedad `autovalidate` del `Form` como se muestra a continuaci√≥n:
``` 
    bool _autoValidate = false;
    Form(
        key: _formKey,
        autovalidate: _autoValidate,
        child: TextFormField(
          validator: (value) {
            if (value.isEmpty) {
              return 'Por favor ingresa tu nombre';
            }
          },
        )
        );
    )
    
```

De esta forma ponemos por defecto en falso que los elementos contenidos en el formulario no se acent√∫en la primera vez pero, debemo cambiarlo a `true` una vez el bot√≥n submit verifique las validaciones para que, en caso de que no pasen el formulario est√© habilitado para resaltar los elementos que no cumplan la validaci√≥n.
``` 
    RaisedButton(
        onPressed: _validateInputs,
        child: Text('Validate'),
    )
    
    void _validateInputs() {
        if (_formKey.currentState.validate()) {
    
        } else {
            setState(() {
                _autoValidate = true;
            });
      }      
    }
    
```

Ahora, si queremos recuperar los datos ingresados en cualquier campo basta con llamar al m√©todo `onSave(String val){}`.
``` 
    //Campo de Texto
    TextFormField(
        validator: validateName,
        onSaved: (String val) {
            _name = val;
        }
    )
    
    //Email
    TextFormField(
        keyboardType: TextInputType.emailAddress,
        validator: validateEmail,
        onSaved: (String val) {
            _email = val;
        },
    ),
    
    //Phone
    TextFormField(
        keyboardType: TextInputType.phone,
        validator: validateMobile,
        onSaved: (String val) {
            _mobile = val;
        },
    )
    
    //Switch estilo Cupertino iOS
    SwitchListTile(
        title: Text('Accept Terms'),
        value: false,
        onChanged: (bool val) {
            _terms = val;
        }
    )
    
    //Checkbox Material Design Android
    CheckboxListTile(
      title: Text('Accept Terms'),
      value: false,
      onChanged: (val) {
        _terms = val
      }
    )
    
```

Y por √∫ltimo para generar consistencia debemos poner `_formKey.currentState.save();` en el bot√≥n submit de la siguiente forma:
``` 
    RaisedButton(
        onPressed: _validateInputs,
        child: Text('Validate'),
    )
    
    void _validateInputs() {
        if (_formKey.currentState.validate()) {
            _formKey.currentState.save();
        } else {
            setState(() {
                _autoValidate = true;
            });
        }      
    }
    
```

### Comentarios:

* **Javier Batres** (15) [615847](https://platzi.com/comentario/615847/) 

	Si no tienen casos de uso muy particulares en los formularios de la aplicaci√≥n, entiendase tanto de l√≥gica como de vista. Pueden usar la libreria [flutter form builder](https://pub.dev/packages/flutter_form_builder) para crear un formulario y vlaidarlo r√°pido.

# Acceso al Hardware con Flutter [4058]

## 0400. Acceso a la c√°mara en Flutter [20254](https://platzi.com/clases/1603-flutter-avanzado/20254-acceso-a-la-camara-en-flutter/)

### Descripci√≥n:


Ahora que estamos en esta clase debemos entender c√≥mo es que Android y iOS manejan el acceso al Hardware, cada uno tiene un sistema de permisos que debemos darle de alta. Desde el c√≥digo debemos manejar este sistema de permisos en dado caso que el hardware sea obligatorio, en este caso el √∫nico permiso que configuraremos es el uso a la c√°mara.

Debemos agregar el paquete `image_picker` a nuestro proyecto, puedes consultar en la secci√≥n de enlaces para encontrar la versi√≥n m√°s actualizada.

[Aqu√≠ ](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/27.OpenCamera) est√° el repositorio de esta clase.

### Links:

* [image_picker | Flutter Package](https://pub.dev/packages/image_picker)

### Comentarios:

* **Jos√© Gonz√°lez** (5) [823294](https://platzi.com/comentario/823294/) 

	Al principio tuve problemas utilizando las librer√≠a image_picker.
	
	Primeramente utilic√© la ultima version (al momento que esto escribiendo este comentario es la versi√≥n 0.6.1+11). Al usar esta versi√≥n no dejaba compilar y me daba el siguiente error :
	
	**Android dependency ‚Äòandroidx.core:core‚Äô has different version for the compile (1.0.0) and runtime (1.0.1) classpath. You should manually set the same version via DependencyResolution**
	
	Luego prob√© con una versi√≥n menor a la 0.6, incluso con la versi√≥n que se utiliza en este video, y ah√≠ si compilaba e incluso me permit√≠a seleccionar la imagen de la c√°mara, pero luego redireccionaba al home y no a la vista del formulario y me daba este otro error:
	
	**java.lang.RuntimeException: Methods marked with @UiThread must be executed on the main thread.**
	
	Y al volver a intentar da este otro mensaje:
	
	**Unhandled Exception: PlatformException(already_active, Image picker is already active, null)**
	
	Entonces lo solucion√© del siguiente modo, volv√≠ a la √∫ltima versi√≥n de la librer√≠a y en el archivo ‚Äúandroid/build.gradle‚Äù agregu√© las siguientes l√≠neas
	``` 
	    subprojects {
	        project.configurations.all {
	            resolutionStrategy.eachDependency { details ->
	                    if (details.requested.group == 'androidx.core' &&
	                !details.requested.name.contains('androidx')) {
	                details.useVersion"1.0.1"
	                    }
	            }
	        }    
	    }
	    
	```

	* **Diego A. S. Cabrera** [823294] (1)

		Sos un genio, no me funcionaba pero con tu ayuda si.  
		Muchas gracias por compartir tu soluci√≥n.

	* **gabrielalfonso** [823294] (1)

		gracias

	* **jlquichimbo** [823294] (1)

		Hola. Teng una duda, con cu√†l versi√≥n de la librer√≠a lo dejaste?  
		Muchas gracias.

	* **Diego A. S. Cabrera** [823294] (2)

		image_picker: ^0.6.2+1

	* **Mauricio Alejandro Palomera Rodriguez** [823294] (1)

		Wooooo muchas gracias!!

	* **MitoCodeII** [823294] (1)

		Incre√≠ble, tal cual como dijiste funciono, estoy en el trabajo y requer√≠a utilizar esta opci√≥n para un app que estoy haciendo y me salvaste de una, muchaaaaaas gracias Enserio ‚ô•

	* **Eliana Mejia Santander** [823294] (1)

		muchas gracias, estaba con ese mismo problema

* **David Galicia** (4) [936382](https://platzi.com/comentario/936382/) 

	Buena explicaci√≥n aun que por alguna raz√≥n ahora el m√©todo AssetImage que se ocupa en la clase CardImageWithFabIcon ya no funciona como en el video, es decir, si lo que quieres cargar esta fuera de la carpeta donde se encuentran los ‚Äúassets‚Äù te manda un error de ‚Äúunable to load asset storage/emulated/0‚Ä¶‚Äù . Para esto solo realice una validaci√≥n en la clase que mencione anteriormente al cargar la imagen. En caso que la ruta tuviera ‚Äúassets‚Äù el programa usa el metodo AssetImage y en caso contrario FileImage.
	
	Puede que haya otras soluciones mas practicas pero por ahora fue lo unico que se me ocurrio para seguir el curso.
	
	**card_image.dart (Clase CardImageWithFabIcon)**
	``` 
	     decoration: BoxDecoration(
	              image: DecorationImage(
	                  fit: BoxFit.cover,
	                  //image: AssetImage(pathImage)
	                  image: pathImage.contains('assets')? AssetImage(pathImage):new FileImage(new File(pathImage))
	              ),
	    
	```

	* **Darien Breiner Romero Leiva** [936382] (1)

		Gracias, me funcion√≥

* **Omar Jesus Hern√°ndez Bastos** (4) [811922](https://platzi.com/comentario/811922/) 

	La solucion para el bug de Unable to load asset: luego de tomar la foto con la camara se realiza de la siguiente manera
	
	Primero debemos modificar el archivo card_image preferiblemente creando uno igual solo para el add place, en el cambiaremos el parametro image de la image para que sea tipo file y leeremos un archivo por defecto en caso de que venga vacio el card
	``` 
	     final card = Container(
	          height: height,
	          width: width,
	          margin: EdgeInsets.only(
	              top: 80.0,
	              left: left
	    
	          ),
	    
	          decoration: BoxDecoration(
	              image: DecorationImage(
	                  fit: BoxFit.cover,
	                  image: pathImage != null ? FileImage( pathImage ) : AssetImage('assets/no-image.jpeg')
	              ),
	              borderRadius: BorderRadius.all(Radius.circular(10.0)),
	              shape: BoxShape.rectangle,
	              boxShadow: <BoxShadow>[
	                BoxShadow (
	                    color:  Colors.black38,
	                    blurRadius: 15.0,
	                    offset: Offset(0.0, 7.0)
	                )
	              ]
	    
	          ),
	        );
	    
	    
	```
	
	Segundo paso consiste en declarar pathImage como File con
	``` 
	      final File pathImage;```
	    
	    En el archivo add place enviaremos el widget.image sinel .path es decir el archivo completo 
	    
	    
	    
	```
	
	Container(  
	alignment: Alignment.center,  
	child: CardImageWithFabIcon(  
	pathImage: widget.image,//‚Äúassets/img/sunset.jpeg‚Äù,  
	iconData: Icons.camera_alt,  
	width: 350.0,  
	height: 250.0,left: 0,  
	),  
	), //Foto```
	
	Con esto conseguiremos enviar la foto tomada como archivo del android y no una ruta que por supuesto flutter no puede leer pues no se ha declarado dentro del yaml.
	
	Espero les sirva probe otras soluciones como el await o rebajar la resolucion pero nada sirvio al 100%

	* **Sebasti√°n Valencia Zapata** [811922] (1)

		¬°Muchas gracias! De verdad fue muy √∫til ese aporte.

	* **bynico** [811922] (2)

		## Lo que hice gracias a tu aporte y para no hacer dos archivos fue
		
		En el archivo card_image agreg√∫e estos dos parametros
		``` 
		    final File image;
		      bool camera=false;
		    //agregue esos parametros al constructor
		      CardImageWithFabIcon({
		        Key key,
		        @requiredthis.pathImage,
		        @requiredthis.width,
		        @requiredthis.height,
		        @requiredthis.image,
		        @requiredthis.onPressedFabIcon,
		        @requiredthis.iconData,
		        this.camera,
		        this.left,
		        this.top
		      });
		    
		```
		
		luego en el source de la imagen
		``` 
		    image: camera==true?FileImage(image):AssetImage(pathImage)
		    
		```
		
		En el archivo AddPlaceScreen
		``` 
		      File image;
		      bool camera=false;
		      AddPlaceScreen({
		        this.image,
		        this.camera
		    });
		    
		```
		``` 
		    CardImageWithFabIcon(
		                        pathImage: widget.image.path,//"assets/img/beach_palm.jpeg",//
		                        iconData: Icons.camera_alt,
		                        width: 350.0,
		                        height: 250.0,
		                        image: widget.image,
		                        onPressedFabIcon: (){},
		                        left: 0.0,
		                        top: 0.0,
		                        camera: widget.camera,
		                      ),
		    
		```
		
		Y para finalizar en el button_bar
		``` 
		      Future getImage() async{
		                    File image= await ImagePicker.pickImage(source: ImageSource.camera).catchError((onError) => print(onError));;
		                    if(image!=null){
		                      Navigator.push(context,
		                        MaterialPageRoute(builder: (BuildContext context) => AddPlaceScreen(image: image, camera: true,)));
		                    }
		                  }
		                  //Prevenir perdida de datos
		                  Future<void> retrieveLostData()async{
		                    final LostDataResponse response = await ImagePicker.retrieveLostData();
		                    if (response==null){
		                      return;
		                    }
		                    if(response.file!=null){
		                      print("==============================FUNCIONO=============================");
		                      Navigator.push(context,
		                          MaterialPageRoute(builder: (BuildContext context) => AddPlaceScreen(image: response.file)));
		    
		                    }
		                  }
		                  getImage();
		                  retrieveLostData();
		    
		```
		
		Espero que les sea util

* **Iv√°n Felipe Velastegu√≠ Jaramillo** (4) [610193](https://platzi.com/comentario/610193/) 

	Tuve inconvenientes para utilizar la librer√≠a image_picker, con excepciones como:
	
	java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.XmlResourceParser android.content.pm.ProviderInfo.loadXmlMetaData
	
	Para las personas que tengan problema en alg√∫n punto para utilizar la camara en Android.
	
	Detener la ejecuci√≥n en el dispositivo o emulador  
	Ejecutar los siguientes comandos desde el terminal:
	
	  1. **flutter clean**.
	  2. **flutter packages get**
	
	
	
	De esta manera flutter reconstruir√° el build de la aplicaci√≥n desde 0 y refrescar√° la implementaci√≥n de las distintas librer√≠as.
	
	Luego ejecutar la aplicaci√≥n nuevamente y listo!

* **Sebasti√°n Valencia Zapata** (3) [960971](https://platzi.com/comentario/960971/) 

	Lo que hice al aplicar el ImagePicker fue **validar** que la **imagen no sea null** . Eso puede ocurrir **si el usuario se devuelve y no toma ninguna foto.** Esto nos mostrar√≠a un error porque igual se ejecutar√≠a el Navigator.push. En este caso no üòÑ .
	``` 
	    ImagePicker.pickImage(source: ImageSource.gallery).then(
	    
	                          (File image) {
	    
	                            if (image != null){
	                              Navigator.push(context,
	                                  MaterialPageRoute(
	                                      builder: (BuildContext context) =>
	                                          AddPlaceScreen(image: image)
	                                  ));
	                            }
	    
	                          }
	                      ).catchError((onError) {
	                        print(onError);
	                      });```
	    
	```

* **Javier Batres** (3) [615879](https://platzi.com/comentario/615879/) 

	Los permisos de apple:
	``` 
	    <key>NSCameraUsageDescription</key>
	    	<string>Platzi Trips reuiere tomar una foto. ¬øPodemos user t√∫ c√°mara?</string>
	    	<key>NSPhotoLibraryUsageDescription</key>
	    	<string>Platzi Trips reuiere tomar una foto. ¬øPodemos user t√∫ c√°mara?</string>
	    	<key>NSMicrophoneUsageDescription</key>
	    	<string>Platzi Trips reuiere tomar una foto. ¬øPodemos user t√∫ c√°mara?</string>
	    
	```

* **melendez-kevin** (2) [917983](https://platzi.com/comentario/917983/) 

	En celulares de gama baja funciona lento el ImagePicker y seg√∫n la documentaci√≥n de la librer√≠a en ocasiones la app se reinicia al tomar fotos en resoluciones altas.  
	Por ello segu√≠ esta gu√≠a para acceder a la c√°mara desde la aplicaci√≥n.  
	[Toma una imagen usando la c√°mara](https://flutter-es.io/docs/cookbook/plugins/picture-using-camera)  
	La diferencia es notable en el rendimiento de la app.  
	![Screenshot_2020-01-11-21-28-49-749_com.example.proyect_course.png](https://static.platzi.com/media/user_upload/Screenshot_2020-01-11-21-28-49-749_com.example.proyect_course-8934794c-5c2b-4cb4-8323-49e781665599.jpg)

* **Julian Sanchez** (1) [893382](https://platzi.com/comentario/893382/) 

	Permisos IOS (info.plist)
	``` 
	    <key>NSCameraUsageDescription</key>
	        <string>Platzi Trips quiere tomar una foto. ¬øPodemos usar tuc√°mara?</string>
	        <key>NSPhotoLibraryUsageDescription</key>
	        <string>Platzi Trips quiere tomar una foto. ¬øPodemos usar tuc√°mara?</string>
	        <key>NSMicrophoneUsageDescription</key>
	        <string>Platzi Trips quiere tomar una foto. ¬øPodemos usar tuc√°mara?</string>
	    
	```

* **jlquichimbo** (1) [863773](https://platzi.com/comentario/863773/) 

	Compa√±eros, una pregunta. Ya pude configurar las librer√¨as con el mensaje del compa√±ero @Jose Gonzalez.  
	Ahora me lanza el siguiente error.
	``` 
	    Unable to load asset:/storage/emulated/0/Android/data/com.anncode.platzitripsapp/files/Pictures/fe9801b4-2b3f-467d-9e12-367e07006f3f-1645602123.jpg```
	    
	    Estoy depurando directamente en un dispositivo Samsung Galaxy J2.
	```

	* **JOSE PEREZ** [863773] (1)

		tengo el mismo problema, alguna soluci√≥n?

* **pablopsdigital** (1) [818055](https://platzi.com/comentario/818055/) 

	Hola, alguien sabe como solucionar el error: **I/flutter ( 9676): PlatformException(already_active, Image picker is already active, null)** he intentado lo que aparece por las diferentes webs: reinstalar, a√±adir async y await, etc. pero no consigo solucionar el problema.

	* **Bruno Diharce** [818055] (1)

		En un principio usando camara como source, me tiraba varios logs sobre que tiene que ser en el thread principal y cosas por el estilo, y por lo tanto, no me iba hacia la pantalla del formulario. Y si le daba devuelta al boton, me aparecia el mismo mensaje que a ti.
		
		Lo que hice para seguir avanzando en el curso, es usar gallery, pasar el File imagen, y a CardImage le agrege una variable tipo File imagen y a la hora dl image decorator, un operador ternario para saber si es un FileImage o un AssetImage.

* **Leonardo Valencia** (1) [782376](https://platzi.com/comentario/782376/) 

	Hola compa√±eros, alguno de ustedes ha hecho alg√∫n choose source para seleccionar de que fuente quiero obtener la imagen, me puede explicar como hacerlo, gracias.

	* **Emmanuel Guerra** [782376] (1)

		Que tal Leonardo. Indagu√© un poco y no encontr√© alguna forma de mostrarlo como un ACTION en Android nativo (que te da un modal bottom sheet). No se como se maneja en iOS üò¶  
		Hice un [AlertDialog](https://api.flutter.dev/flutter/material/AlertDialog-class.html) para que el usuario pueda escoger y lo implement√© de la siguiente forma:
		``` 
		    //Callback del bot√≥n Add
		    onPressed: () {
		            showPickDialog(context);
		          }
		    
		     Future<void> showPickDialog(BuildContext context) async{
		        return showDialog<void>(
		          context: context,
		          builder: (BuildContext context) {
		            return AlertDialog(
		              title: Text(
		                'Toma una fotograf√≠a de tu c√°mara o elige una de tu galer√≠a',
		                style: TextStyle(
		                  fontWeight: FontWeight.bold,
		                  fontFamily: 'Lato',
		                  fontSize: 16
		                ),
		              ),
		              actions: <Widget>[
		                FlatButton(
		                    child: Text(
		                      'C√°mara',
		                      style: TextStyle(
		                          fontWeight: FontWeight.bold,
		                          fontFamily: 'Lato',
		                          fontSize: 14
		                      ),
		                    ),
		                    onPressed: () async => pickImage(context, await ImagePicker.pickImage(source: ImageSource.camera))
		                ),
		                FlatButton(
		                  child: Text(
		                    'Galer√≠a',
		                    style: TextStyle(
		                        fontWeight: FontWeight.bold,
		                        fontFamily: 'Lato',
		                        fontSize: 14
		                    ),
		                  ),
		                  onPressed: () async => pickImage(context, await ImagePicker.pickImage(source: ImageSource.gallery))
		                )
		              ],
		            );
		          }
		        );
		      }
		    
		      void pickImage(BuildContext context, File image) {
		        Navigator.pop(context);//Cierra el dialog
		        if(image != null){
		          Navigator.push(context, MaterialPageRoute(
		              builder: (BuildContext context) => AddPlaceScreen(image: image)));
		        }
		      }
		    
		```
		
		Aclaro que no probe este c√≥digo en iOS porque no tengo un a Mac.

* **u1802261** (1) [674966](https://platzi.com/comentario/674966/) 

	Hola a todos, tengo un problema logro tomar la foto pero hacer que se vea en add new place pero cuando vuelvo a intentar tomar la foto se sale de app y la pantalla esta en blanco(en la app), alguien sabe por que pasa?!

* **fabian82** (1) [659452](https://platzi.com/comentario/659452/) 

	Hola a todos  
	Tengo el siguiente problema, al presionar el bot√≥n para ir a ‚ÄúAdd new place‚Äù y tomar la foto, logro tomar la foto pero vuelve a la pantalla de profile, no da error pero no puedo ir a ‚Äúnew place‚Äù, hay alguna forma de debugear la libreria. Se que es muy vago la descripci√≥n que doy pero no tengo mas que eso

	* **Germ√°n Arevalo Jerez** [659452] (1)

		Depronto te falto arreglar el push a la nueva ventana.

	* **u1802261** [659452] (2)

		pude a mi pasaba igual y lo unico que hice fue igualarlo a un variable tipo File
		``` 
		    File image;
		                    image = await ImagePicker.pickImage(source: ImageSource.camera);
		                    Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) => addPlaceScreen(image: image)));
		    
		```

	* **Edward Acu** [659452] (1)

		Hola tengo el mismo problema, al parecer es problema del tama;o de la fotograf√≠a pue, si pruebas poner el source a la gallery si te va a funcionar, de momento yo lo he dejado as√≠ pero investigar√©, si s√© algo m√°s lo publicar√© por ac√°.

	* **Omar Jesus Hern√°ndez Bastos** [659452] (1)

		Agregar valores peque√±os para el par√°metro maxHeight y maxWidth en el complemento ImagePicker comprime el tama√±o. Aqu√≠ hay un ejemplo:
		``` 
		    var fileFromCamera = ImagePicker.pickImage(source: ImageSource.camera, maxHeight: 480, maxWidth: 640)
		                          .then((File image) {
		                        Navigator.push(context,
		                            MaterialPageRoute(builder: (BuildContext context) => AddPlaceScreen(image: image)));```
		    
		    Baja la resolucion pero puede escogerse desde la camara, estoy con un redmi note 6 pro
		    
		```

* **Lordpanther** (1) [635943](https://platzi.com/comentario/635943/) 

	No est√°n los permisos en la descripci√≥n.

	* **camilabs (Platzi)** [635943] (1)

		Hola Lordpanther, el enlace lo encuentras en la pesta√±a de [Archivos y Enlaces](https://pub.dev/packages/image_pickerl).

* **davidcobacasas** (1) [65901](https://platzi.com/comentario/699804/) 
Estimados Tengo un problema, cuando tomo la foto no se direcciona al screen para completar los datos del place screen(add_place_screen.da...

	* **antonagency** [65901] (1)

		Mira todo mi c√≥digo de button_bar.dart:
		``` 
		    import 'dart:io';
		    
		    import 'package:flutter/material.dart';
		    import 'package:generic_bloc_provider/generic_bloc_provider.dart';
		    import 'package:image_picker/image_picker.dart';
		    import 'package:platzi_trips_app/Place/ui/screens/add_place_screen.dart';
		    import 'package:platzi_trips_app/User/bloc/bloc_user.dart';
		    import 'circle_button.dart';
		    
		    class ButtonsBar extends StatelessWidget {
		      UserBloc userBloc;
		    
		      @override
		      Widget build(BuildContext context) {
		        userBloc = BlocProvider.of(context);
		        return Padding(
		            padding: EdgeInsets.symmetric(horizontal: 0.0, vertical: 10.0),
		            child: Row(
		              children: <Widget>[
		                CircleButton(true, Icons.vpn_key, 20.0, Color.fromRGBO(255, 255, 255, 0.6), () => {}),
		                CircleButton(false, Icons.add, 40.0, Color.fromRGBO(255, 255, 255, 1), () {
		                    getImage(context);
		                    retrieveLostData(context);
		                  }
		                ),
		                CircleButton(true, Icons.exit_to_app, 20.0, Color.fromRGBO(255, 255, 255, 0.6), () => userBloc.signOut())
		              ],
		            ));
		      }
		    
		      Future getImage(BuildContext context) async {
		        File image = await ImagePicker.pickImage(source: ImageSource.camera).catchError((onError) => print(onError));
		        if (image != null) {
		          Navigator.push(context, MaterialPageRoute(builder: (BuildContext context) => AddPlaceScreen(image: image)));
		        }
		      }
		    
		      Future<void> retrieveLostData(BuildContext context) async {
		        final LostDataResponse response = await ImagePicker.retrieveLostData();
		    
		        if (response == null) return;
		    
		        if (response.file != null) {
		          Navigator.push(context,MaterialPageRoute(builder: (BuildContext context) => AddPlaceScreen(image: response.file)));
		        }
		      }
		    }
		    
		```

## 0410. Librer√≠as de acceso a Hardware en Flutter [20595](https://platzi.com/clases/1603-flutter-avanzado/20595-librerias-de-acceso-a-hardware-en-flutter/)

### Descripci√≥n:


# Bluetooth

![img](https://github.com/pauldemarco/flutter_blue/blob/master/site/flutterblue.png?raw=true)

Es una librer√≠a de Flutter que funciona de manera Cross-Platform para Android y iOS. Nos permite conectarnos a dispositivos, obtener informaci√≥n sobre ellos, mostrar notificaciones y acceso a los servicios.

Esta librer√≠a la encuentras en el administrador de paquetes de dart:  
<https://pub.dev/packages/flutter_blue>

# Geolocalizaci√≥n

Este plugin creado por la compa√±√≠a [Baseflow](https://baseflow.com/) nos permite usar el hardware del dispositivo para obtener el √∫ltimo y/o actual punto de localizaci√≥n, una ruta de puntos de localizaci√≥n, transformar estos datos en coordenadas latotud y longitud, calcular distancias, as√≠ como monitorear si est√° activado en nuestro tel√©fono.

Por defecto en Android se utilizan los Google Play Services pero si no est√° disponible utiliza la clase `LocationManager`.

Los permisos que se utilizan en` Android son:
``` 
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE`_LOCATION" /`>
    
```

Y en iOS:
``` 
    <key>NSLocationWhenInUseUsageDescription</key>
    <string>This app needs access to location `when open.</string>
    
```

Si quieres saber m√°s puedes encontrar la documentaci√≥n aqu√≠:  
<https://pub.dev/packages/geolocator>

# Aceler√≥metro

El aceler√≥metro del dispositivo es un sensor que sirve para medir la aceleraci√≥n de movimiento.  
El comportamiento del aceler√≥metro normalmente estar√° en conjunto del girosc√≥pio nos permitir√° detectar la orientaci√≥n del dispositivo y rotar la interfaz en caso de ser necesario.

**Sensors** es el plugin m√°s famoso en Flutter quenos permite tener acceso a e`stos dos aditamentos de Hardware.
``` 
    import 'package:sensors/sensors.dart';
    
    accelerometerEvents.listen((AccelerometerEvent event) {
     // Do something with the event.
    });
    
    gyroscopeEvents.listen((GyroscopeEvent event) `{
     // Do something with the event.
    });
    
```

Puedes ver toda la documentaci√≥n aqu√≠: <https://pub.dev/packages/sensors>

# Beacon

Un Beacon es uno de los aditamentos de hardware m√°s solicitados en el desarollo de aplicaciones. Funciona v√≠a Bluetooth emite una se√±al que lo identifica de forma √∫nica. √âsta se√±al puede ser recibida e interpretada por otros dispositivos como un smartphone.

Sus usos son tan variados como la imaginaci√≥n lo diga. Puede emitir, fotograf√≠as, videos, texto, etc. y desde el dispositivo m√≥vil ser visualizados

[En el siguiente video](https://www.youtube.com/watch?v=sUIqfjpInxY) puedes ver alguno de sus usos.

En Flutter tenemos soporte para Beacons con el plugin Flutter Beacon que soporta especialmente a los iBeacons que viste en el video.

Mira la documentaci√≥n aqu√≠: <https://pub.dev/packages/flutter_beacon>

### Comentarios:

* **VladDark** (2) [866597](https://platzi.com/comentario/866597/) 

	muy buenos tips

* **eder_ese** (1) [671667](https://platzi.com/comentario/671667/) 

	De lujo!!

# Firebase Storage en Flutter [4059]

## 0420. Qu√© es y c√≥mo funciona Firebase Storage en Flutter [20255](https://platzi.com/clases/1603-flutter-avanzado/20255-que-es-y-como-funciona-firebase-storage-en-flutter/)

### Descripci√≥n:


El Firebase Storage es un aditamento que Firebase nos proporciona para poder almacenar archivos, ya sean fotograf√≠as, v√≠deos, PDF y m√°s; incluso podemos guardarlos en carpetas espec√≠ficas. Nos va a ayudar a manejar estos documentos multimedias y poder persistirlos cuando nuestra aplicaci√≥n est√° desinstalada.

Vamos a dirigirnos a la console de firebase, luego al apartado de _Storage_ , le damos click a empezar y esto es lo que haremos: organizaremos los datos por carpeta y las carpetas ser√°n los identificadores de los usuarios.

### Links:

* [Sign in - Google Accounts](https://console.firebase.google.com/)

### Comentarios:

* **JCMeza** (1) [786947](https://platzi.com/comentario/786947/) 

	Muy interesante la forma en que podemos hacer actualizaciones de im√°genes por medio de Firebase (banners, imagen destacada, una imagen de fondo, etc etc) con esto se le puede dar m√°s dinamismo a nuestra App.

## 0430. Subiendo una imagen a Firebase Storage desde Flutter [20256](https://platzi.com/clases/1603-flutter-avanzado/20256-subiendo-una-imagen-a-firebase-storage-desde-flutt/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/28.ImageUploadFirebase) est√° el repositorio de esta clase.

### Comentarios:

* **Israel Mu√±oz Rivas** (6) [975094](https://platzi.com/comentario/975094/) 

	{_ _/}  
	( ‚Ä¢_ ‚Ä¢) No puedo dar m√°s galletas, pero, ten una estrellita viajero  
	/>‚òÖ>

* **bynico** (1) [1034097](https://platzi.com/comentario/1034097/) 

	Porque tanta redundancia en la creaci√≥n de los blocs?

	* **Jorge Luis Hern√°ndez N√∫√±ez Luis Hern√°ndez N√∫√±ez** [1034097] (2)

		Se hace tanta redundancia debido a que lo que se hace es que se sigue la arquitectura CLEAN el cual demanda crear varios archivos para poder mantener una l√≥gica independiente a lo largo del proyecto, puedes encontrar m√°s informaci√≥n aqui: [](https://medium.com/@rodrigolmti/clean-architecture-no-flutter-1888c4baa6bc)

# Querys avanzados en Cloud Firestore de Firebase en Flutter [4060]

## 0440. Manejo de im√°genes en Cloud Firestore [20257](https://platzi.com/clases/1603-flutter-avanzado/20257-manejo-de-imagenes-en-cloud-firestore/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/29.ManageImageFirebaseStorage) est√° el repositorio de esta clase.

### Comentarios:

* **carlos1128** (4) [644077](https://platzi.com/comentario/644077/) 

	No se est√° guardando la url de la imagen de ese Place, para ello hay que modificar el archivo User/repository/cloud_firestore_api.dart, y agregar el key ‚ÄòurlImage‚Äô
	``` 
	    Future<void> updatePlaceData(Place place)async{
	        CollectionReference refPlaces = _db.collection(PLACES);
	        String uid = (await _auth.currentUser()).uid;
	        await refPlaces.add({
	          'name': place.name,
	          'description': place.description,
	          'likes': place.likes,
	          'userOwner': "$USERS/$uid",
	          'urlImage': place.urlImage,
	        });
	      }```
	    
	```

* **Lordpanther** (3) [636009](https://platzi.com/comentario/636009/) 

	Hay que informarle al usuario mientras se carga la imagen üòÉ

* **Bruno Diharce** (2) [872837](https://platzi.com/comentario/872837/) 

	Para el emulador de IOS uno puede cambiar, en ves de tomar una foto con la camara, cambiar el source y abrir la galeria

	* **pablo nicoli** [872837] (1)

		como haces eso ?

* **Emmanuel Guerra** (2) [788744](https://platzi.com/comentario/788744/) 

	Si les molesta la cadena de callbacks o ‚Äòcallback hell‚Äô, pueden hacer una funci√≥n as√≠ncrona y esperar por los resultados. En caso de ser nulos, terminar la funci√≥n.
	``` 
	      void handleUpload(BuildContext context) async{
	        //Subir img a firebase storage
	        final String uid = (await userBloc.currentUser).uid;
	        if(uid == null) {
	          print('Null uid');
	          return;
	        }
	        final uploadTask = await userBloc.uploadFile('$uid/${DateTime.now().toString()}.jpg', widget.image);
	        if(uploadTask == null){
	          print('Null upload task');
	          return;
	        }
	    
	        //Firebase store devuelve la url de la img
	        final taskSnapshot = await uploadTask.onComplete;
	        if(taskSnapshot == null){
	          print('Null task snapshot');
	          return;
	        }
	    
	        final imageUrl = await taskSnapshot.ref.getDownloadURL();
	        if(imageUrl == null){
	          print('Null image URL');
	          return;
	        }
	    
	        print('Image url: $imageUrl');
	    
	        //Subimos a Firestore el Place (title, description, urlImg, userOwner, likes...)
	        userBloc.updateUserPlace(
	            Place(
	              name: _controllerTitlePlace.text,
	              description: _controllerDescriptionPlace.text,
	              where: _controllerInputLocation.text,
	              imagePath: imageUrl,//firebase storage url
	              likes: 0,
	            )
	        ).whenComplete( () {
	          print('Termino la subida de la imagen');
	          Navigator.pop(context);
	        });
	      }
	    
	    
	```

* **Luis Miguel Copa DIaz** (1) [796043](https://platzi.com/comentario/796043/) 

	Bueno desde ya hace un rato me sale el error de que no muestra la imagen que tomo con la camara me aparece asi:![qemu-system-x86_64_M2a14CIJZE.png](https://static.platzi.com/media/user_upload/qemu-system-x86_64_M2a14CIJZE-cd9a4480-4bf8-45d6-b908-6472a60340da.jpg)  
	luego para verificar que pasaba le puse en vez camara con gallery y me funciono perfecto pero aun asi no me muestra o lo visualiza la imagen despues de seleccionar la foto:  
	pero al guardarlo si me aparece eso demuestra que realmente si esta guardando pero si lo coloco con camara no me muestra nada solo la pantalla de Profile![chrome_RRolWmD2jN.png](https://static.platzi.com/media/user_upload/chrome_RRolWmD2jN-9ac84228-c0b9-4501-8865-7777ffeaf0fd.jpg)

	* **Omar Jesus Hern√°ndez Bastos** [796043] (3)

		Dentro del buton bar en la funcion que llama a addplace coloca de esta manera, solucionara el problema
		``` 
		    () async {
		                    File image = await  ImagePicker.pickImage(source: ImageSource.camera, imageQuality: 50)
		                        .then((File image) {
		                        Navigator.push(context,
		                            MaterialPageRoute(builder: (BuildContext context) => AddPlaceScreen(image: image)));
		                      }).catchError((onError) =>print(onError));
		    
		    
		                    }),```
		```

	* **Diego A. S. Cabrera** [796043] (1)

		Buenas, encontraste la soluci√≥n al problema?

	* **Jaime Mena** [796043] (1)
![Captura de Pantalla 2020-01-11 a la\(s\) 09.42.29.png](https://static.platzi.com/media/user_upload/Captura%20de%20Pantalla%202020-01-11%20a%20la%28s%29%2009.42.29-523038be-3576-4a0e-a557-f2bb031526aa.jpg)
		
		**salta esta excepci√≥n **

	* **davidsc34** [796043] (1)

		Hola amigos me pasaba lo mismo y tambiuen inclui la solucion del compa√±ero omarbastos, y aun saltaba l aexcepcion, esto como dicen solo con las galerias o una imagen prederteminada jala, creo lo mejor seria probarlo en un dispositivo fisico.
		
		Mi duda seria como logro obtener para android el apk ‚Äúde produccion‚Äù y hacer pruebas?  
		Saludos.

	* **PedroRafa26** [796043] (1)

		personalmente me estaba sucediendo lo mismo, y lo solucione trabajando la propiedad image: como FileImage en lugar de Asset Image en la card al momento de mostrar la imagen
		
		`Ser√≠a suplantar image: AssetImage(image) por image: FileImage(image) en la variable card que contiene a la imagen mostrada`

* **eder_ese** (1) [67325](https://platzi.com/comentario/721390/) 
Alguien sabe que puede estar mal? Despu√©s de tomar la foto me regresa a la pantalla de perfil y no a la de agregar nuevo lugar. Ya revis√©...

## 0450. Cloud Firestore insertando referencias y arrays en la base de datos [20258](https://platzi.com/clases/1603-flutter-avanzado/20258-cloud-firestore-insertando-referencias-y-arrays-en/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/30.FirestoreInsertReference) est√° el repositorio de esta clase.

### Comentarios:

* **Lordpanther** (6) [636376](https://platzi.com/comentario/636376/) 

	Falta informar al usuario que se esta subiendo la imagen, mediante un CircularProgressIndicator() üòÉ

* **carlos1128** (3) [644113](https://platzi.com/comentario/644113/) 

	Una forma alternativa de insertar el reference, en lugar de
	``` 
	    snapshot.documentID;
	    
	```
	
	podemos ocupar directamente:
	``` 
	    snapshot.reference;
	    
	```
	
	Y nuestro co√≥digo completo quedar√≠a de la siguiente forma:
	``` 
	    dr.get().then((DocumentSnapshot snapshot){
	            DocumentReference placeRef = snapshot.reference; // REFERENCIA ARRAY
	            DocumentReference refUsers = _db.collection(USERS).document(uid);
	            refUsers.updateData({
	              'myPlaces': FieldValue.arrayUnion([placeRef])
	    	});
	    });
	    
	```

* **davidsc34** (1) [1011283](https://platzi.com/comentario/1011283/) 

	Compa√±eros, tuve un problema con el metodo FieldValue.arrayUnion(), me arrojhaba un error de que no puedo insertar un DOcumentReference, y vi una solucion al problema en la liga ; <https://github.com/FirebaseExtended/flutterfire/issues/1986>
	
	Sugieren usar cloud_firestore: ^0.13.2+2 , para corregir ese error y pude solucionar despues de tanto buscar, ya me iba dar por vencido

* **nelsonfacundo** (1) [801218](https://platzi.com/comentario/801218/) 

	como sacar la barrita de busqueda para usuarios de windows

	* **Makinox** [801218] (1)

		ctrl + p

* **Fabian Siatama** (1) [767987](https://platzi.com/comentario/767987/) 

	En una aplicaci√≥n real, toda esta l√≥gica deber√≠a ir en una cloud Function?

## 0460. Descargar im√°genes de Firebase Storage y mostrarlas en Flutter [20259](https://platzi.com/clases/1603-flutter-avanzado/20259-descargar-imagenes-de-firebase-storage-y-mostrarla/)

### Descripci√≥n:


[Aqu√≠ ](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/31.FirestoreBuildPlaces)est√° el repositorio de esta clase.

### Comentarios:

* **jangove** (4) [1007340](https://platzi.com/comentario/1007340/) 

	Buena clase ojala hay otro curso de flutter

## 0470. Procesando datos con BLoC Pattern [20260](https://platzi.com/clases/1603-flutter-avanzado/20260-procesando-datos-con-bloc-pattern/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/31.FirestoreBuildPlaces) est√° el repositorio de esta clase.

### Comentarios:

* **Pablo Dom√≠nguez Dur√°n** (1) [769579](https://platzi.com/comentario/769579/) 

	Tengo un error que a√∫n no puedo resolver.
	``` 
	    type'DocumentReference' isnot a subtypeoftype'User'
	    
	```
	
	Es a la hora de hacer la llamada a `userBloc.buildPlaces(snapshot.data.documents);`

	* **gabrielalfonso** [769579] (1)

		revise si en el modelo User este incluido esa propiedad

* **Luis Rogelio Reyes Hern√°ndez** (1) [66129](https://platzi.com/comentario/703366/) 
¬øFalta alguna clase? , veo codigo que se dice es de la clase anterior pero no esta all√≠

	* **Pablo Dom√≠nguez Dur√°n** [66129] (1)

		Me parece que ya lo corrigieron üòÉ

## 0480. Trayendo datos de Cloud Firestore [20261](https://platzi.com/clases/1603-flutter-avanzado/20261-trayendo-datos-de-cloud-firestore/)

### Descripci√≥n:


[Aqu√≠ ](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/32.FiresotreShowData)est√° el repositorio de esta clase.

### Comentarios:

* **Lordpanther** (3) [637577](https://platzi.com/comentario/637577/) 

	Falta indicarle al usuario que se esta subiendo la imagen e impedir que suba miles de im√°genes por NO desactivar el bot√≥n de agregar el lugar üòÉ

	* **Germ√°n Arevalo Jerez** [637577] (1)

		Toda la raz√≥n. A m√≠ me paso, termine subiendo dos veces la misma imagen.

	* **DracoClvo** [637577] (1)

		esas ya son validaciones, pero si faltan muchas üòÑ

* **elbuendaza** (1) [60665](https://platzi.com/comentario/609069/) 
tengo alto problema al cargar mas de 4 imagenes con su descripcion hay desborde de memoria importante sharedmem_gpumem_alloc: mmap failed...

	* **anncode** [60665] (1)

		Prueba optimizando las imagenes en Cach√© justo como lo dice en esta lectura:  
		<https://platzi.com/clases/1603-flutter-avanzado/20598-usando-el-cache-para-cargar-imagenes-mas-rapido/>

## 0490. Persistiendo datos de un usuario logueado [20262](https://platzi.com/clases/1603-flutter-avanzado/20262-persistiendo-datos-de-un-usuario-logueado/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/33.LoggedUserPersist) est√° el repositorio de esta clase.

### Comentarios:

* **Israel Mu√±oz Rivas** (3) [975143](https://platzi.com/comentario/975143/) 

	A darle con todo a nuestra siguiente clase, la URSS te saluda hermano.  
	\----- /""""""""|======[]  
	\----/""""""""""""|  
	/"""""""""""""""""""""""   
	(@) (@) (@) (@) (@)

## 0500. Aplicando Filtros en Cloud Firestore [20263](https://platzi.com/clases/1603-flutter-avanzado/20263-aplicando-filtros-en-cloud-firestore/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/34.FirestoreFilters) est√° el repositorio de esta clase.

### Comentarios:

* **jccd1996** (3) [949850](https://platzi.com/comentario/949850/) 

	Excelente curso

* **pablo nicoli** (1) [1059400](https://platzi.com/comentario/1059400/) 

	a esta altura ya no se entiende nada.  
	recomiendo si llegaste hasta aca y no entedes, hace un parate y fijate donde te perdistes

* **Pablo Zenteno** (1) [1025132](https://platzi.com/comentario/1025132/) 

	Clone el proyecto del repositorio pero falla al ejecutarlo.  
	hice flutter clean y flutter pub get pero sigue fallando  
	puedes revisarlo

## 0510. Construyendo los Places en la pantalla de Home [20264](https://platzi.com/clases/1603-flutter-avanzado/20264-construyendo-los-places-en-la-pantalla-de-home/)

### Descripci√≥n:


[Aqu√≠ ](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/35.BuildPlaces)est√° el repositorio de esta clase.

### Comentarios:

* **Jorge Teofanes Vicu√±a Valle** (1) [1065327](https://platzi.com/comentario/1065327/) 

	Cada vez se siente m√°s vac√≠o los comentarios :c psdt: El mejor curso de Platzi :3

## 0520. Mostrando los Places en la pantalla de Home [20265](https://platzi.com/clases/1603-flutter-avanzado/20265-mostrando-los-places-en-la-pantalla-de-home/)

### Descripci√≥n:


[Aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/36.ShowPlaces) est√° el repositorio de esta clase.

### Comentarios:

* **Luis Miguel Copa DIaz** (4) [798717](https://platzi.com/comentario/798717/) 

	Al cambiar por NetworkImage no dejaria que guarde de manera local cuando se tome una foto cuando haga el caso de uso de Add Place debido que anteriormente se tuvo problema porque se guardaba la foto de manera local.

	* **David Galicia** [798717] (2)

		Me imagino que habr√° mejores formas de solucionarlo para seguir con el curso tome la mas r√°pida, a mi me funciono comprobar lo que trae la ruta de la imagen para decidir si usar NetworkImage o FileImage
		``` 
		    image: pathImage.contains('http')? NetworkImage(pathImage):new FileImage(new File(pathImage))
		    
		```

## 0530. Actualizando datos en tiempo real [20266](https://platzi.com/clases/1603-flutter-avanzado/20266-actualizando-datos-en-tiempo-real/)

### Descripci√≥n:


### Comentarios:

* **Javier Batres** (11) [616533](https://platzi.com/comentario/616533/) 

	En el caso del m√©todo **likePlace** podemos mejorarlo usando una **transacci√≥n** de **Firebase** para que no se pierda ning√∫n like porque dos usuarios le dieron a la vez y el valor que tenian tiene un dato _no actualizado_. Si usamos la transacci√≥n el m√©todo queda algo as√≠:
	``` 
	    Future likePlace(String idPlace) async {
	        _store.runTransaction((transaction) async {
	          DocumentSnapshot placeDS = await _store.collection(this.PLACES).document(idPlace).get();
	          await transaction.update(placeDS.reference, {"likes": placeDS.data['likes'] + 1});
	        });
	      }
	    
	```

## 0540. Manejando la l√≥gica de likes, como bot√≥n toggle. [20596](https://platzi.com/clases/1603-flutter-avanzado/20596-manejando-la-logica-de-likes-como-boton-toggle/)

### Descripci√≥n:


En la clase anterior viste tan solo una probadita de la magia del Realtime que ofrece Firebase, continuemos implementando la l√≥gica del bot√≥n like, definiendo qu√© usuario _likeo_ un lugar espec√≠fico:

![](http://g.recordit.co/9POy7bhrGy.gif)

Para implementar la l√≥gica del manejo de likes necesitaremos hacer algunas modificaciones a la estructura de nuestra data, pues particularmente debes almacenar todos los usuarios que hicieron like al Place espec√≠fico.

Para lograr esto, a√±adiremos un campo adicional que se llamar√° `usersLiked` su naturaleza ser√° muy similar al campo `myPlaces` de la entidad usuario, ¬øla recuerdas?, **un array de referencias justo como la vemos a continuaci√≥:**
``` 
    /users/oFJycOj9tBS1fR4uCVierlt1T2eR
    /users/OWaYU2fOIBNLPvK68rzWtAD7w23F
    
```

No afectaremos la data de Firebase directamente sino que m√°s bien este campo adicional lo implementaremos con c√≥digo cuando se ejecute el like. Para lograr esta implementaci√≥n lo primero que debemos hacer es obtener el `uid` del usuario pues, como ves, la referencia se construye con el identificador del nodo. Si necesitamos el `uid` significa que debemos llevar a un nivel superior y con m√°s √°mbito de acceso los datos del usuario logeado.

## 1\. Comencemos yendo al archivo `profile_trips_cupertino.dart`

Ubica la opci√≥n del tab que corresponde a la pantalla de HomeTrips(), el c√≥digo que ver√°s ser√° algo como esto:
``` 
    case 0:
        return CupertinoTabView(
            builder: (BuildContext context) => HomeTrips(),
        );
       break;
    
```

Sustituye el c√≥digo del par√°metro builder con la implementaci√≥n del BlocProvider, as√≠:
``` 
    case 0:
        return CupertinoTabView(
            builder: (BuildContext context) {
                return BlocProvider(
                        bloc: UserBloc(),
                        child: HomeTrips(),
                );
            },
        );
        break;
    
```

[Mira el c√≥digo del archivo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/39.ToggleButtonLike/lib/platzi_trips_cupertino.dart)

## 2\. Ahora vamos al archivo `header_appbar.dart` para manejar el Stream que nos traer√° los datos del usuario logeado.

* Crea el m√©todo **showPlacesData** a la altura de de la siguiente forma:


``` 
    Widget showPlacesData(AsyncSnapshot snapshot){
        if(!snapshot.hasData || snapshot.hasError){
          return Stack(
            children: [
              GradientBack(height: 250.0),
              Text("Usuario no logeado. Haz Login")
            ],
          );
        } else {
          User user = User(
              uid: snapshot.data.uid,
              name: snapshot.data.displayName,
              email: snapshot.data.email,
              photoURL: snapshot.data.photoUrl
          );
    
          return Stack(
            children: [
              GradientBack(height: 250.0),
              CardImageList(user)
            ],
          );
        }
    }
    
```

> Notar√°s que te marca error en la l√≠nea donde pasamos como par√°metro el objeto `user` a la Clase `CardImageList` no te preocupes lo resolveremos en el paso 3.

* En el return del m√©todo **build** implementa el Widget `StreamBuilder()` y el `switch` que nos permite monitorear el estado de la conexi√≥n:


``` 
    @override
      Widget build(BuildContext context) {
        // TODO: implement build
        UserBloc userBloc;
        userBloc = BlocProvider.of(context);
    
        return StreamBuilder(
          stream: userBloc.authStatus,
          builder: (BuildContext context, AsyncSnapshot snapshot){
            switch (snapshot.connectionState){
              case ConnectionState.waiting:
                return Center(child: CircularProgressIndicator(),);
              case ConnectionState.none:
                return Center(child: CircularProgressIndicator(),);
              case ConnectionState.active:
                return showPlacesData(snapshot);
              case ConnectionState.done:
                return showPlacesData(snapshot);
              default:
                return showPlacesData(snapshot);
            }
          },
    );
    
    
```

[Mira el c√≥digo del archivo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/39.ToggleButtonLike/lib/Place/ui/screens/header_appbar.dart)

## 3\. Ahora vamos al archivo `card_image_list.dart`

* Este archivo tendr√° varios cambios de ra√≠z.  
Empezaremos por modificar la clase de la cual estamos heredando _StatelessWidget_ por _StatefulWidget_ esto porque para poder controlar correctamente el estado del **bot√≥n de like** necesitamos tener acceso al m√©todo `setState()`.  
Este m√©todo est√° dise√±ado para ser utilizado cuando la interfaz de usuario sufrir√° un cambio a partir de el cambio de estado de alg√∫n Widget.  
Como es el caso de nuestro bot√≥n like, desencadena una serie de efectos en toda la pantalla, nombremoslos a continuaci√≥n:


  1. Incrementar o Decrementar la cantidad de likes en el Place
  2. A√±adir la referencia del usuario que di√≥ like al Place en el campo qu emencionamos al principio: `usersLiked`
  3. Cambiar el √≠cono del Floating Action Button



En la clase anterior ya hicimos una primera parte del paso 1., ahora hagamos la parte 2. y dejemos la 3 para la siguiente clase.

La estructura del archivo `CardImageList` debe quedar de esta forma:
``` 
    class CardImageList extends StatefulWidget {
        ...
        
        @override
        State<StatefulWidget> createState() {
            // TODO: implement createState
            return _CardImageList();
        }
    }
    
    class _CardImageList extends State {
        @override
        Widget build(BuildContext context) {
            ...
        }
    }
    
```

Como estaremos controlando el estado _liked_ de un `Place` es importante que en el archivo `place.dart` a√±adamos el atributo `bool liked;` y lo a√±adamos en el constructor junto con el par√°metro `id` de esta forma:
``` 
    class Place {
    
      String id;
      String name;
      String description;
      String urlImage;
      int likes;
      bool liked;
      //User userOwner;
    
      Place({
        Key key,
        @required this.name,
        @required this.description,
        @required this.urlImage,
        @required this.likes,
        this.liked,
        this.id
        //@required this.userOwner
      });
    }
    
```

[Mira el c√≥digo del archivo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/39.ToggleButtonLike/lib/Place/model/place.dart)

Regresemos donde est√°bamos en `card_image_list.dart` pues el siguiente cambio que haremos es al m√©todo `listViewPlaces()`, en clases anteriores lo hab√≠amos preparado para que recibiera como par√°metro `List placesCard` ya que ah√≠ se ejecutaba todo el render de la construcci√≥n de los items de la lista de Places en forma de _Cards,_ ah√≠ mismo se encontraba el comportamiento del bot√≥n like, sacaremos esto a la clase `CardImageList` para controlar su comportamiento con el m√©todo `setState()` que acabamos de ver.

La firma del m√©todo debe quedar as√≠:
``` 
    Widget listViewPlaces(List<Place> places){}
    
```

El Listiview se ver√° de esta forma:
``` 
    return ListView(
          padding: EdgeInsets.all(25.0),
          scrollDirection: Axis.horizontal,
          children: places.map((place){
            return CardImageWithFabIcon(
              pathImage: place.urlImage,
              width: 300.0,
              height: 250.0,
              left: 20.0,
              iconData: place.liked?iconDataLiked:iconDataLike,
              onPressedFabIcon: (){
                setLiked(place);
              },
              internet: true,
            );
         }).toList(),
    );
    
```

Con la instrucci√≥n `places.map` tomaremos un objeto place a la vez, lo desmembraremos para plasmar sus propiedades en el _Card_ para facilitarnos obtener el objeto al que le pertenece el like.

Adem√°s, tenemos un nuevo m√©todo `setLiked(place);` que est√° prepardo para recibir el **place clickeado** y modificar su estado, espec√≠ficamente la propiedad `liked` seg√∫n sea el caso (true/false). Aqu√≠ es precisamente donde albergaremos el m√©todo `setState()` de esta forma:
``` 
    void setLiked(Place place){
        setState(() {
            place.liked = !place.liked;
            userBloc.likePlace(place, widget.user.uid);
        });
    }
    
```

Lo que estamos haciendo aqu√≠ es darle el comportamiento de un toggle o un switch al bot√≥n like para que se inserte el dato correcto dependiendo de si hacemos _like_ o _dislike_.

[Mira el c√≥digo del archivo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/39.ToggleButtonLike/lib/Place/ui/widgets/card_image_list.dart)

[Mira el c√≥digo completo en este enlace.](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/39.ToggleButtonLike)

Vamos a la siguiente clase terminar la implementaci√≥n del comportamiento del bot√≥n like y la inserci√≥n del usuario que le dio _like_ como referencia.

### Comentarios:

* **roswil** (1) [661523](https://platzi.com/comentario/661523/) 

	Buena dia, un consulta estoy haciendo un proyecto donde en unos de los puntos recargar el componente listview al seleccion un DropdownMenuItem.  
	Donde el listview cargaria distintos arrays sera que se puede en flutter un ayuda porfavor

## 0550. Insertando y obteniendo referencias en datos de Firestore. [20597](https://platzi.com/clases/1603-flutter-avanzado/20597-insertando-y-obteniendo-referencias-en-datos-de-fi/)

### Descripci√≥n:


En la clase anterior te expliqu√© c√≥mo estaremos manejando la l√≥gica de los usuarios que dan like a un `Place`. Lo haremos insert√°ndo su referencia en el Place correspondiente.

## 1\. En el archivo `cloud_firestore_api.dart` ya ten√≠amos listo el m√©todo `likePlace`

Lo ajustaremos un poco para manejar varias l√≥gicas:

* Necesitamos cambiar el par√°metro de entrada `String idPlace` por un objeto `Place place` adem√°s como tambien necesitamos insertar la referencia del usuario que le dio like, agregaremos el par√°metro `String uid`.



La firma del m√©todo debe verse de la siguiente forma:
``` 
    Future likePlace(Place place, String uid) async {}
    
```

* Ahora necesitamos manejar el incremento o decremento de likes dependiendo de la acci√≥n: Like (se agrega uno) Dislike (se resta uno). Hasta el momento en ambos casos estamos incrementando el valor, sustituyamos eso por lo siguiente:


``` 
    _db.collection(PLACES).document(place.id)
        .updateData({
            'likes': place.liked?likes+1:likes-1,
    });
    
```

Notar√°s que ahora estamos poniendo el id del objeto place.

Ahora validemos si se debe isertar el usuario que le dio like o en el otro caso eliminarlo si le dio dislike, el m√©todo completo deber√° verse as√≠:
``` 
    Future likePlace(Place place, String uid) async {
        await _db.collection(PLACES).document(place.id).get()
            .then((DocumentSnapshot ds){
           int likes = ds.data["likes"];
    
           _db.collection(PLACES).document(place.id)
               .updateData({
             'likes': place.liked?likes+1:likes-1,
             'usersLiked':
             place.liked?
             FieldValue.arrayUnion([_db.document("${USERS}/${uid}")]):
             FieldValue.arrayRemove([_db.document("${USERS}/${uid}")])
           });
    
    
        });
    }
    
```

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/40.FirestoreInsertObtainReferences/lib/User/repository/cloud_firestore_api.dart)

## 2\. Ahora reflejemos el cambio de este m√©todo por toda la arquitectura BLoC del proyecto

Ajustaremos los siguientes archivos:

* `cloud_firestore_repository.dart`  
Pongamos la llamada al m√©todo as√≠:


``` 
    Future likePlace(Place place, String uid) => _cloudFirestoreAPI.likePlace(place,uid);
    
```

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/40.FirestoreInsertObtainReferences/lib/User/repository/cloud_firestore_repository.dart)

* `bloc_user.dart`  
Pongamos la llamada al m√©todo as√≠:


``` 
    Future likePlace(Place place, String uid) => _cloudFirestoreRepository.likePlace(place,uid);
    
```

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/40.FirestoreInsertObtainReferences/lib/User/bloc/bloc_user.dart)

## 3\. Por √∫ltimo regresemos al archivo `card_image_list.dart`

En el m√©todo `setLiked()` dentro colocamos `setState()` el cu√°l maneja el estado de la UI, pongamos la llamada a hacer like y reflejar en la base de datos `userBloc.likePlace(place, widget.user.uid);`
``` 
    void setLiked(Place place){
          setState(() {
            place.liked = !place.liked;
            userBloc.likePlace(place, widget.user.uid);
          });
    }
    
```

Una vez que ya todo est√° insertado lo √∫nico que nos faltar√° ser√° reflejar en la UI que el estilo del coraz√≥n cambie, para eso pensemos lo siguiente:

Como ahora la responsabilidad de renderear el `CardImageFabIcon` est√° en el archivo `card_image_list.dart` (justo fue lo que trabajamos en la clase anterior), por lo tanto la responsabilidad del m√©todo `buildPlaces` del archivo `cloud_firestore_api.dart` ser√° unicamente de construir una lista de objetos `Places` a partir del snapshot entregado por el stream.

## 1\. La firma del m√©todo `buildPlaces` ahora ser√° as√≠:

Se debe a√±adir el objeto `User` como par√°metro el cu√°l representar√° los datos del **usario que est√° logeado** , para entonces comparar y validar con la colecci√≥n de usuarios que dieron like al `Place` y si alguno coincide. marcarlo como _liked_.
``` 
    List buildPlaces(List placesListSnapshot, User user) {}
    
```

Dentro quitaremos toda la l√≥gica que correspond√≠a a construir el _Card_ en su lugar recorreremos la lista del snapshot y construiremos la lista de objetos `Place`. El m√©todo debe verse de la siguiente forma:
``` 
    List buildPlaces(List placesListSnapshot, User user) {
        List places = List();
    
        placesListSnapshot.forEach((p)  {
          Place place = Place(id: p.documentID, name: p.data["name"], description: p.data["description"],
              urlImage: p.data["urlImage"],likes: p.data["likes"]
          );
          List usersLikedRefs =  p.data["usersLiked"];
          place.liked = false;
          usersLikedRefs?.forEach((drUL){
            if(user.uid == drUL.documentID){
              place.liked = true;
            }
          });
          places.add(place);
        });
        return places;
    }
    
```

Observa que en esta l√≠nea: `List usersLikedRefs = p.data["usersLiked"];` estamos obteniendo la lista de usuarios que dieron like como una lista de referencias, para despu√©s recorrerlos si es que existen, eso lo indicamos con el s√≠mbolo `?`.  
Al recorrerlos comparamos si el `uid` de usuario logeado es igual a alguno de los que est√°n registrados en el `place` y si lo es marcamos el objeto Place que estamos construyendo como liked con el valor de `true`.

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/40.FirestoreInsertObtainReferences/lib/User/repository/cloud_firestore_api.dart)

Por √∫ltimo como est m√©todo `buildPlaces` es llamado en el Stream hacemos lo siguiente

## 2\. Regresemos al archivo `card_image_list.dart` y en los estados adecuados del Stream pongamos el llamado al m√©todo y pasemos como par√°metro el objeto user.

* Lo hacemos de esta forma en el estado `active` y `done`:


``` 
    case ConnectionState.active:
      print("PLACESLIST: ACTIVE");
      return listViewPlaces(userBloc.buildPlaces(snapshot.data.documents, widget.user));
    case ConnectionState.done:
      print("PLACESLIST: DONE");
      return listViewPlaces(userBloc.buildPlaces(snapshot.data.documents, widget.user));
    
    
```

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/40.FirestoreInsertObtainReferences/lib/Place/ui/widgets/card_image_list.dart)

[Mira el c√≥digo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/40.FirestoreInsertObtainReferences)

![](http://g.recordit.co/WXojzWoig1.gif)

Ahora vamos a la siguiente clase para hacer que la carga de im√°genes sea mucho m√°s √°gil.

### Comentarios:

## 0560. Usando el cach√© para cargar im√°genes m√°s r√°pido [20598](https://platzi.com/clases/1603-flutter-avanzado/20598-usando-el-cache-para-cargar-imagenes-mas-rapido/)

### Descripci√≥n:


Sobre lo que llevamos construido en nuestra aplicaci√≥n notar√°s que las im√°genes de las listas tardan en mostrarse.

Utilizaremos una librer√≠a que nos permitir√° utilizar el cache para optimizar la carga, es muy f√°cil de utilizar y puedes encontrar su documentaci√≥n en el [siguiente enlace.](https://pub.dev/packages/cached_network_image)

Comenzaremos integr√°ndola como recurso en el archivo `pubspect.yaml` en la secci√≥n de dependencias:
``` 
    dependencies:
        cached_network_image: ^0.8.0
    
```

En nuestro proyecto estamos reutilizando el Widget `CardImageWithFabIcon` para mostrar una imagen que viene de internet y una que proviene de la carpeta temporal del dispositivo cuando tomamos la foto.

Por esta raz√≥n es importante agregar un _flag_ que nos permita distinguir si la imagen que mostraremos en el Card viene de internet o es un Asset, adem√°s lo pondremos como par√°metro en el m√©todo constructor.
``` 
    class  CardImageWithFabIcon extends StatelessWidget {
    
      final double height;
      final double width;
      double left;
      final String pathImage;
      final VoidCallback onPressedFabIcon;
      final IconData iconData;
      bool internet = true;
    
    
      CardImageWithFabIcon({
        Key key,
        @required this.pathImage,
        @required this.width,
        @required this.height,
        @required this.onPressedFabIcon,
        @required this.iconData,
        this.internet,
        this.left
    
      });
    .
    .
    .
    
```

Posteriormente asignaremos la validaci√≥n en la propiedad `image` de esta estructura:
``` 
    final card = Container(
        decoration: BoxDecoration(
            image: DecorationImage(
                image: 
            ),
        ),
    );
    
```

Anteriormente us√°bamos el Widget `NetworkImage()` para mostrarlo pero al no tener la validaci√≥n cuando captur√°bamos la foto fallaba, as√≠ que pondremos lo siguiente:
``` 
    image: internet?CachedNetworkImageProvider(pathImage):AssetImage(pathImage)
    
```

No olvides importar la librer√≠a: `import 'package:cached_network_image/cached_network_image.dart';`

Apl√≠calo tambi√©n para la lista de fotos de perfil en el archivo `profile_place.dart`

[Mira el proyecto completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/)

Notar√°s inmediatamente c√≥mo cambia la velocidad en la carga de las im√°genes

### Comentarios:

* **happiestack** (4) [612966](https://platzi.com/comentario/612966/) 

	No olvides anadir
	``` 
	    internet:false,
	    
	```
	
	en
	``` 
	    AddPlaceScreen
	    
	```
	
	y
	``` 
	    CardImageList
	    
	```
	
	En este punto las imagenes siguen siendo Assets y las estamos declarando como Network con:
	``` 
	    bool internet = true;
	    
	```

* **Javier Batres** (1) [616158](https://platzi.com/comentario/616158/) 

	En el constructor del Card image podemos agregar que por defecto el internet sea false o true.
	``` 
	    const CardImageWithFabIcon(
	          {Key key,
	          this.height = 350,
	          this.width = 250,
	          this.marginLeft = 20,
	          this.pathImage = "assets/img/beach.jpeg",
	          this.internet = false,
	          this.onPressedFabIcon,
	          @required this.icon})
	          : super(key: key);
	    
	```

## 0570. StreamController, sink, add y StreamBuilder [20599](https://platzi.com/clases/1603-flutter-avanzado/20599-streamcontroller-sink-add-y-streambuilder/)

### Descripci√≥n:


Aprovecharemos lo aprendido en nuestras primeras clases sobre Streams para crear un Stream personalizado.

Durante el curso estuvimos utilizando los Streams que nos prove√≠a Firebase, pero es momento de crear un Stream propio. Esto surge por la necesidad de implementar la muestra de los detalles de cada Place.

En la √∫ltima vista de nuestra aplicaci√≥n mostrabamos un texto gen√©rico refiri√©ndonos a las Bahamas.  
![Captura de pantalla 2019-05-27 a la\(s\) 3.58.48 p. m..png](https://static.platzi.com/media/user_upload/Captura%20de%20pantalla%202019-05-27%20a%20la%28s%29%203.58.48%20p.%20m.-4091712a-f82d-4c7e-a932-c1f5b30fb44f.jpg)

Por la estructura que tiene nuestra aplicaci√≥n en la ventana `HomeTrips()` no tenemos accesibles los datos ni de la lista de lugares para la descripci√≥n ni de la descripci√≥n para la lista, ambos se encuentran en archivos independientes.
``` 
    class HomeTrips extends StatelessWidget {
      @override
      Widget build(BuildContext context) {
        // TODO: implement build
        return Stack(
          children: <Widget>[
            ListView(
              children: <Widget>[
                DescriptionPlace("Bahamas", 4, descriptionDummy),
                ReviewList()
    
              ],
            ),
            HeaderAppBar()
          ],
        );
      }
    
    }
    
```

Lo que haremos con la definici√≥n del StreamController es as√≠ como con Firebase pon√≠amos alerta el Widget StreamBuilder y este siempre estaba pendiente de reflejar los cambios en la interfaz de usuario, ahora necesitamos reflejar siempre los datos del Place seleccionado en `DescriptionPlace` de tal forma que no tengamos que pasar los datos como par√°metro sino que este autom√°ticamente los refleje.

## 1\. Comenzaremos en el archivo `bloc_user.dart`

* Primero definiremos el tipo de elemento que ser√° escuchado por el StreamController, para nuestro caso es un Place seleccionado, por eso escribiremos el siguiente c√≥digo:


``` 
    StreamController placeSelectedStreamController =  StreamController();
    
```

* Luego necesitaremos convertir este StreamController en algo que pueda leer el StreamBuilder en su par√°metro `stream` por eso lo transformaremos de esta forma:


``` 
    Stream get placeSelectedStream => placeSelectedStreamController.stream;
    
```

* Ahora dejaremos disponible el Stream para que se le pueda insertar el elemento Place, esto lo hacemos atrav√©s del m√©todo `sink` que solo se puede implementar al StreamController.


``` 
    StreamSink get placeSelectedSink =>  placeSelectedStreamController.sink;
    
```

Una vez que todo est√° declarado en el archivo Bloc que mantiene una persistencia Global en la aplicaci√≥n, ya podemos ingresar el objeto Place cuando lo necesitemos.

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/41.StreamControllerSinkAdd/lib/User/bloc/bloc_user.dart)

## 2\. Vamos al archivo `card_image_list.dart` para a√±adir la funcionalidad de al dar click en la Foto podamos mostrar los detalles

* Para lograr que la _Card_ sea clickeable utilizaremos un Widget nuevo `GestureDetector()`. Este widget es muy √∫til pues b√°sicamente hace clickeable cualquier √°rea y adem√°s nos provee de un m√©todo onTap que nos permitir√° controlar el comportamiento.  
Nuestra lista ser ver√° envuelta por este widget de esta forma:


``` 
    return ListView(
          padding: EdgeInsets.all(25.0),
          scrollDirection: Axis.horizontal,
          children: places.map((place){
            return GestureDetector(
              onTap: (){
                print("CLICK PLACE: ${place.name}");
                userBloc.placeSelectedSink.add(place);
              },
              child: CardImageWithFabIcon(
                pathImage: place.urlImage,
                width: 300.0,
                height: 250.0,
                left: 20.0,
                iconData: place.liked?iconDataLiked:iconDataLike,
                onPressedFabIcon: (){
                  setLiked(place);
                },
                internet: true,
              ),
            );
          }).toList(),
    );
    
```

* Ahora es importante no dejar independiente el evento _onPressed_ del bot√≥n like, pues en la descripci√≥n tambi√©n estaremos mostrando la cantidad de likes que tiene el Place, as√≠ que en el m√©todo `setLiked` implementaremos la l√≥gica de incremento o decremento de likes del place, para que este dato tambi√©n sea persistente en la descripci√≥n.


``` 
    void setLiked(Place place){
          setState(() {
            place.liked = !place.liked;
            userBloc.likePlace(place, widget.user.uid);
            place.likes = place.liked?place.likes+1:place.likes-1;
            userBloc.placeSelectedSink.add(place);
          });
    }
    
```

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/41.StreamControllerSinkAdd/lib/Place/ui/widgets/card_image_list.dart)

## 3\. Por √∫ltimo en el archivo `description_place.dart` implementaremos el `StreamBuilder` que estar√° alerta para mostrar los datos del Place una vez que se seleccione.

* Implementemos una instancia de `UserBloc` en el m√©todo build as√≠:


``` 
    UserBloc userBloc = BlocProvider.of(context);
    
```

* Ahora agreguemos el widget StreamBuilder en el return:


``` 
    return StreamBuilder(
          stream: userBloc.placeSelectedStream,
          builder: (BuildContext context, AsyncSnapshot snapshot){
              
          });
    
```

* Validaremos el estado de los datos:


``` 
    if (snapshot.hasData) {
        Place place = snapshot.data;
        return Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              titleStars(place),
              descriptionWidget(place.description),
              ButtonPurple(buttonText: "Navigate", onPressed: (){})
            ],
        );
    }else {
        return Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Container (
                margin: EdgeInsets.only(
                    top: 400.0,
                    left: 20.0,
                    right: 20.0
                ),
                child: Text(
                  "Selecciona un lugar",
                  style: TextStyle(
                      fontFamily: "Lato",
                      fontSize: 30.0,
                      fontWeight: FontWeight.w900
                  ),
                  textAlign: TextAlign.left,
                ),
              )
            ],
        );
    }
    
```

Notaste que los Widgets ahora est√°n en forma de funciones `titleStars` y `descriptionWidget`:
``` 
    Widget titleStars(Place place){
        return Row (
          children: [
            Container (
              margin: EdgeInsets.only(
                  top: 350.0,
                  left: 20.0,
                  right: 20.0
              ),
              child: Text(
                place.name,
                style: TextStyle(
                    fontFamily: "Lato",
                    fontSize: 30.0,
                    fontWeight: FontWeight.w900
                ),
                textAlign: TextAlign.left,
              ),
            ),
            Container (
              margin: EdgeInsets.only(
                  top: 370.0,
              ),
              child: Text(
                "Hearts: ${place.likes}",
                style: TextStyle(
                    fontFamily: "Lato",
                    fontSize: 18.0,
                    fontWeight: FontWeight.w900,
                    color: Colors.amber
                ),
                textAlign: TextAlign.left,
              ),
            ),
          ],
        );
      }
    
    Widget descriptionWidget(String descriptionPlace){
        return Container(
          margin: new EdgeInsets.only(
              top: 20.0,
              left: 20.0,
              right: 20.0
          ),
          child: new Text(
            descriptionPlace,
            style: const TextStyle(
                fontFamily: "Lato",
                fontSize: 16.0,
                fontWeight: FontWeight.bold,
                color: Color(0xFF56575a)
            ),
          ),
        );
      }
    
```

[Mira el archivo completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/blob/41.StreamControllerSinkAdd/lib/Place/ui/widgets/description_place.dart)

[Mira el proyecto completo aqu√≠](https://github.com/anncode1/Curso-de-Flutter-Avanzado-en-Platzi/tree/41.StreamControllerSinkAdd)

### Comentarios:

* **davidsc34** (2) [1017841](https://platzi.com/comentario/1017841/) 

	Amigos, hasta aqui ya casi me doy por vencido, solo una pregunta, como puedo hacer esta publicacion un archivo de produccion uno p√°ra Andrid y otro para IOs, espero me puedan ayudar. Saludos.

* **Emmanuel Guerra** (2) [790941](https://platzi.com/comentario/790941/) 

	Agreguen esta l√≠nea a su Bloc para evitar leaks de memoria:
	``` 
	    @override
	      voiddispose(){
	        _placeSelectedController.close();
	      }
	    
	```

* **davidsc34** (1) [1031686](https://platzi.com/comentario/1031686/) 

	Hola que tal, una pregunta amigos, ya que no pose una mac para poder probar al mismo tiempo la versin en iOS, puedo hacer la app primero en androidy luego probar su avance en una Mac prestada?. o Saben de alguna forma de desarrollar en estos casos. Gracias

* **Germ√°n Arevalo Jerez** (1) [672550](https://platzi.com/comentario/672550/) 

	El like en en los places que muestra en Profile no esta programado.

* **Matias Niz** (1) [614304](https://platzi.com/comentario/614304/) 

	Que paso con PlaceBloc? Solo se puede implentar un bloc?

	* **Germ√°n Arevalo Jerez** [614304] (1)

		Tal vez, estos Stream har√≠an parte del PlaceBloc.

* **Iv√°n Felipe Velastegu√≠ Jaramillo** (1) [613170](https://platzi.com/comentario/613170/) 

	Al implementar este Stream personalizado pude evidenciar f√°cilmente la utilidad del patr√≥n BLoC!
	
	Vistas totalmente distintas en un nivel de jerarqu√≠a distinto pueden interactuar con la l√≥gica de negocio a trav√©s de los Streams. Todo esto gracias al BlocProvider, el cual se encuentra ubicado en lo m√°s alto del nivel jer√°rquico y que permite tener acceso al UserBloc (En donde se definen los streams).
	
	Para este caso, los Places (Cards) de la CardImageList en su evento onTap:
	``` 
	    onTap: (){
	        print("CLICK PLACE: ${place.name}");
	        userBloc.placeSelectedSink.add(place);
	    },
	    
	```
	
	Utilizan la entrada del Stream: **el SINK** para a√±adir el objeto Place (que servir√° como referencia para saber que lugar se clicke√≥ de la lista de cards)
	
	De esta manera todos los **StreamBuilder** que est√©n a la escucha del stream identifiquen este cambio.
	
	Es por esto que en el cuerpo de la pantalla HomeTrips, _espec√≠ficamente en DescriptionPlace_ , se construye el c√≥digo del **StreamBuilder** que permanece escuchando los cambios
	
	_****AQUI SE PUEDE NOTAR EN LA LINEA****_
	``` 
	     stream: userBloc.placeSelectedStream,
	    
	```
	
	**_CODIGO QUE PERTENECE A DESCRITION PLACE_**
	``` 
	    return StreamBuilder<Place>(
	          stream: userBloc.placeSelectedStream,
	          builder: (BuildContext context, AsyncSnapshot<Place> snapshot){
	            if (snapshot.hasData) {
	              print("PLACE SELECTED: ${snapshot.data.name}");
	              Place place = snapshot.data;
	              return Column(
	                crossAxisAlignment: CrossAxisAlignment.start,
	                children: <Widget>[
	                  titleStars(place),
	                  descriptionWidget(place.description),
	                  ButtonPurple(buttonText: "Navigate", onPressed: (){})
	                ],
	              );
	            }else {
	              return Column(
	                crossAxisAlignment: CrossAxisAlignment.start,
	                children: <Widget>[
	                  Container (
	                    margin: EdgeInsets.only(
	                        top: 400.0,
	                        left: 20.0,
	                        right: 20.0
	                    ),
	    
	                    child: Text(
	                      "Selecciona un lugar",
	                      style: TextStyle(
	                          fontFamily: "Lato",
	                          fontSize: 30.0,
	                          fontWeight: FontWeight.w900
	                      ),
	                      textAlign: TextAlign.left,
	                    ),
	    
	                  )
	    
	                ],
	              );
	            }
	          },
	        );
	    
	    
	```
	
	En conclusi√≥n, comunicamos 2 vistas pasando cualquier dato, sin importar el nivel jer√°rquico que tengan en el √°rbol de Widgets.

# Conclusiones [4061]

## 0580. Conclusiones [20267](https://platzi.com/clases/1603-flutter-avanzado/20267-conclusiones/)

### Descripci√≥n:


¬°Felicitaciones por terminar el Curso Avanzado de Flutter!

Le dimos vida a la aplicaci√≥n de nuestro Curso B√°sico de Flutter, vimos autenticaci√≥n con Google, arquitectura, BLoC Pattern, trabajamos con el hardware del dispositivo, le dimos soporte a la aplicaci√≥n para manejar persistencia de manera online en una base de datos realtime usando Cloud Firestore, manejamos persistencia de im√°genes con Firestorage y m√°s. ¬°Felicidades, eres un desarrollador avanzado de Flutter!

Sabemos que fue un largo camino pero estamos m√°s que seguros que vali√≥ la pena y **nunca vas a parar de aprender**.

### Comentarios:

* **Mart√≠n Chal√©n Chang** (5) [629740](https://platzi.com/comentario/629740/) 

	Para todas las personas que llegaron hasta el Final les comparto la Documentaci√≥n Oficial de Firebase para Flutter  
	[https://firebase.google.com/docs/flutter/setup](url)  
	Aqui un Codelab de FireStorage en Flutter  
	[https://codelabs.developers.google.com/codelabs/flutter-firebase/index.html](url)
	
	Para @anncode:  
	Me gustar√≠a profundizar mas temas de Flutter como integrar Mapas, Procesos As√≠ncronos, Geolocalizaciones, Animaciones y mas‚Ä¶

* **Leonardo Valencia** (3) [867617](https://platzi.com/comentario/867617/) 

	Hola me pueden ayudar como se hace para colocar el logo de la app y como se publica una app de flutter en play store ?

	* **davidsc34** [867617] (1)

		Yo tambien tengo esa duda pero creo que hay que investigar amigo. Saludos

* **PedroRafa26** (2) [1048037](https://platzi.com/comentario/1048037/) 

	Muchas gracias, este curso realmente me ayudo a interesarme y apasionarme por el desarrollo movil, me gustar√≠a ver un futuro curso sobre el paso siguiente al tener lista nuestra aplicaci√≥n, que toque temas como: Cambiar la imagen de presentaci√≥n de la app, maneras de testear y c√≥mo prepara nuestra app para lanzarla a la PlayStore, junto con las guias de todo ese proceso, un saludo gigante desde Venezuela, muchisimas gracias por todo

* **David Galicia** (2) [949849](https://platzi.com/comentario/949849/) 

	Gracias, fue un buen curso . Ahora a seguir aprendiendo y mejorar en lo que vimos aqu√≠ ya que fue mucha informaci√≥n para asimilarla si es que esta es la primera ocasi√≥n que desarrollas en m√≥vil.

* **Nicol√°s Neira** (2) [625284](https://platzi.com/comentario/625284/) 

	Muchas gracias Ann, excelente curso üòÉ

	* **Germ√°n Arevalo Jerez** [625284] (2)

		X2

* **Nelson Andres Jaramillo Diaz** (1) [60557](https://platzi.com/comentario/607435/) 
Buenas tardes, alguien que ayude hacer funcionar las notificaciones push en ios? actualmente me llegan las notificaciones si la app esta ...

	* **Javier Batres** [60557] (1)

		Hola @najarmillo, esto no lo hace directamente el **FCM** si no debes gestionar los casos. Yo personalmente lo hice con la libreria [flutter local notifications](https://pub.dev/packages/flutter_local_notifications) y el codigo de los casos de uso quedo asi:
		``` 
		    Future notify(message) async {
		        var initializationSettingsAndroid =
		            new AndroidInitializationSettings("ic_launcher_round");
		        var initializationSettings =
		            new InitializationSettings(initializationSettingsAndroid, null);
		        _notification.initialize(initializationSettings);
		        await _notification.show(
		            0,
		            message['notification']['title'],
		            message['notification']['body'],
		            NotificationDetails(
		                androidPlatformChannelSpecifics, iOSPlatformChannelSpecifics),
		            payload: 'item id');
		      }
		    
		```

* **Jes√∫s Enrique Quevedo Torres** (0) [647588](https://platzi.com/comentario/647588/) 

	Buenas tardes.
	
	Yo quisiera saber como realizar la creaci√≥n de nuestra apk en modo debug para probarla en un celular f√≠sico.
	
	Saludos

	* **Germ√°n Arevalo Jerez** [647588] (2)

		Solo tienes que conectar tu dispositivo(asegur√°ndote que este en modo debug), y la aplicaci√≥n quedara instalado en tu dispositivo con los √∫ltimos cambio que le hayas hecho.

