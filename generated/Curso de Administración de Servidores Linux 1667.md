# Bases del sistema operativo

## 0010. Introducci√≥n

### Descripci√≥n:


 **¬°Te damos la bienvenida al Curso de Administraci√≥n de Servidores Linux!**

Durante el curso estudiaremos instalaci√≥n y monitoreo de servicios, comandos, scripts, gesti√≥n de usuarios y muchas otras herramientas para que nuestros servidores funcionen correctamente. O, en caso de encontrar alg√∫n problema, tener las herramientas necesarias para solucionarlo.

Nuestro profesor ser√° Jhon Edison Castro S√°nchez. Lleva aproximadamente 10 a√±os trabajando con Linux en diferentes entornos de forma personal y profesional.

### Comentarios:

* **c3tuxpo2018** (4)

	
	Hace apenas dos meses a tras hab√≠a terminado la versi√≥n anterior de este curso, y me parece excelente que lo hayan actualizado, as√≠ que nada vamos a darle!

	* **asanchez2091** (1)

		
		Esa es la actitude

	* **ismael2522** (1)

		
		La versi√≥n anterior fue con el mismo profe?  
		Saludos.

* **nicolaszuluagaz** (3)

	
	soy el unico que conto cuantas veces aplaudio‚Ä¶ ?

	* **Chrystian Fabian Lozano Ramirez** (1)

		
		si

* **Luis Rodrigo Alvarez Herrera** (3)

	
	Vaya este curso ya necesitaba una actualizacion

* **Emmanuel Sosa Reyes** (2)

	
	Perfecto, lo actualizaron!! üòÑ

* **MarcelaVargas** (2)

	
	Interesante curso.

	* **Enrique Sardon Manrique** (1)

		
		si, es buenisimo

* **Kevin Vega** (2)

	
	llegue a este curso porque queria conocer mas acercaa de los servidores de linux y genial, con ganas a darle!!!

* **Aramis_1999** (2)

	
	Estaba tomando el curso anterior y me aparece que hay una nueva versi√≥n me parece perfecto, a comenzar de nuevo üòÑ

* **Andres Roberto Coello Goyes** (2)

	
	Siempre quise aprender Linux y hoy es posible‚Ä¶ üòÉ

* **Edward Mauricio Suarez Solano** (2)

	
	Estoy muy emocionado por este curso, es algo que estoy aprendiendo para poder volverme un ethical hacker y bug hunter.

	* **xavier-sebastian-vaca-ordonez** (1)

		
		WOW. EL hacker debe comprender como funciona el sistema desde muy adentro y eso lo vas a lograr aprendiendo Linux. Te recomiendo que leas este libro para que profundices mas en el tema  
		Es el libro de kali linux revelado  
		<https://www.kali.org/download-kali-linux-revealed-book/>

* **Roger Vil√†** (2)

	
	Que ganas , adelante !!!

* **Bernardino Villagra Baez** (2)

	
	Veamos que tal las actualizaciones.

* **Jonathan Uriel Jim√©nez Soveranes** (2)

	
	Hoy se lanz√≥, veamos que tal el curso, espero aprender bastante!

* **Joan Federico Marin Ruiz** (2)
buenas tardes. que conocimientos previos tengo que tener y que sistema operativo, para tomar este curso.

	* **Esteban Blanco Ortuno** (2)

		
		Prueba a hacer este primero:
		
		<https://platzi.com/clases/terminal/>

* **wilantury** (1)

	
	Let‚Äôs go.

* **Paul Manrique** (1)

	
	Vamos por Linux‚Ä¶!!!

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Buenas expectativas!!

* **Marco Esparza** (1)

	
	A dominar Linux!!

* **Marco Esparza** (1)

	
	A darle!!

* **Alvaro Carre√±o Ortiz** (1)

	
	Arrancamos con muchas espectativas.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Altas espectativas del curso.

* **Stuard Gerardo Carrillo Gonzalez** (1)

	
	Super interesante suena el curso

* **Luis Fernando Valderrama Gastiaburu** (1)

	
	Suena interesante el alcance del curso

* **JasoSalgado** (1)

	
	¬°Motivado para tomar este curso!

* **Jonnathan Ramiro Juma Jara** (1)

	
	un gran curso

* **alfredo estrada gonzalez** (1)

	
	Explicar los varios sabores de linux es importante

* **Adri√°n Andr√©s Sosa** (1)

	
	Ten√≠a pendiente hacer este curso, let‚Äôs go!

* **Loui Recio Izaguirre** (1)

	
	Linux es el futuro.

* **raulsiguenza** (1)

	
	Linux es lo mejor !!!

* **Tazmania** (1)

	
	Listo un poco m√°s de Linux.

* **hugoorlandogonzalez** (1)

	
	Me gusta mucho Linux.

* **jorge-gianareas** (1)

	
	Excelente

* **Luis Enrique Pradinett Lezano** (1)

	
	Listo para Linux

* **dbzdavidbaez** (1)

	
	Listo para reforzar los conocimientos

* **yorisnavas** (1)

	
	Con gana de aprender linux.

* **efrenbl** (1)

	
	Me parece interesante la experiencia que tiene trabajando en ello, este curso suena prometedor y justo lo que buscaba

* **Daniel Giovanny Ochoa Torres** (1)

	
	Vamos a ver, la transferencia de conocimiento

* **asanchez2091** (1)

	
	Excelente I start already with this course

* **Martinez Palacios** (1)

	
	Hoy empec√© el curso, primero porque quiero mejorar mis habiliades aunque no me gusta mucho este sistema operativo, toda mi vida he usado windows.

	* **Kevin Javier Morales (Platzi)** (3)

		
		Saber Linux te ayudar√° much√≠simo en tu carrera profesional porque la mayor√≠a de los servidores corren linux. Seguro aprender√°s much√≠simo con el curso üí™

* **GEORGE** (1)

	
	Interesante! administraci√≥n servidores Linux

* **Adrian Garcia Saaib** (1)
Puedo hacer este curso con vagrant desde windows?

	* **Kevin Javier Morales (Platzi)** (1)

		
		S√≠, si tienes acceso a una versi√≥n de ubuntu puedes hacerlo sin problemas üòÉ

* **hec_lopz** (1)
Este curso me sirve para usar Fedora en mi desktop?

	* **Gabriel De Andrade (Platzi)** (2)

		
		Para eso te recomiendo el [Curso de Introducci√≥n a la Terminal y L√≠nea de Comandos](https://platzi.com/clases/terminal/) que te explica c√≥mo funciona la terminal en Linux. Del resto, es un sistema como Windows, no deber√≠as tener problemas, a parte de que hay mucha info en internet sobre esta distro, este curso est√° orientado a Servidores y la administraci√≥n de los mismos

## 0020. Distribuciones m√°s utilizadas de Linux

### Descripci√≥n:


Vamos a usar dos distribuciones de Linux: **Ubuntu Server** en su versi√≥n 18.04 y **CentOS Server** versi√≥n 7.

Recuerda que puedes usar cualquier versi√≥n para hacer pruebas y estudiar, pero al trabajar con servidores debemos instalar las versiones **LTS** , ya que incluyen soporte de largo plazo (actualizaciones de software por al menos 5 a√±os).

Recuerda que puedes probar estas distribuciones con una m√°quina virtual o el proveedor de nube que prefieras ([Google](https://platzi.com/clases/fundamentos-google/), [Amazon](https://platzi.com/aws/), [Digital Ocean](https://platzi.com/clases/digital-ocean/), entre otros).

### Links:

* [Mark Shuttleworth  ¬ª Blog Archive   ¬ª Ubuntu vs RHEL in enterprise computing](https://www.markshuttleworth.com/archives/1072)

* [Usage Statistics and Market Share of Operating Systems for Websites, September 2019](https://w3techs.com/technologies/overview/operating_system/all)

* [Historical trends in the usage of Linux subcategories, September 2019](https://w3techs.com/technologies/history_details/os-linux)

* [https://thecloudmarket.com/stats](https://thecloudmarket.com/stats)

* [https://www.linuxfoundation.org/publications/2018/06/open-source-jobs-report-2018/](https://www.linuxfoundation.org/publications/2018/06/open-source-jobs-report-2018/)

* [
	Ubuntu Advantage | Linux enterprise support for server, cloud, desktop
	](https://buy.ubuntu.com/)

### Comentarios:

* **ferroblesh** (5)

	
	LTS = Long Term Support

	* **asanchez2091** (1)

		
		Muchas gracias

* **c3tuxpo2018** (4)

	
	Cabe destacar que la segunda distribuci√≥n en uso es DEBIAN y que Suse esta de quinta con un porcentaje bastante peque√±o, hago esta apreciaci√≥n por que la distribucion Madre de Ubuntu es Debian, lo que significaria que Debian Hija y madre tienen casi el 60% de todos los servidores basados en Unix , en resumen aprende Debian Linux y podras defenderte en el 60% de los servidores del Mundo

	* **jheyson7** (1)

		
		Disculpe y para comenzar que distribucion de linux me recomendaria

	* **Alvaro Julian Acosta Rivera** (3)
Podr√≠as iniciar con debian o Ubuntu

	* **androw** (1)

		
		Muchas gracias, se agradece.

* **Alvaro Julian Acosta Rivera** (3)
En lo personal cuando necesito estabilidad en los servidores que debo configurar uso Debian en su versi√≥n estable

* **Adri√°n Andr√©s Sosa** (2)

	
	No quiero ser rebelde pero voy a usar Debian üòÉ

* **Armando_Alamilla** (2)

	
	¬øsi actualmente tengo instalada la versi√≥n normal de ubuntu en mi computadora es sufucuente con esa? ¬øo necesito instalar la versi√≥n de ubuntu server para seguir este curso?

	* **Marco Alejandro Galan Raise** (1)

		
		Siempre que vayas a probar algo es recomendable usar maquinas virtuales ya que al hacer cambios en tu sistema principal lo puedes romper, sin embargo utilizando un maquina virtual si se rompe la restauras o creas una nueva y listo. Chau dolores de cabeza

* **Edward Mauricio Suarez Solano** (2)

	
	**Distribuciones m√°s utilizadas en linux. **
	
	Ubuntu Server: Es la m√°s utilizada para deplegar servicios web.  
	CentOS server: Son usados en sitios empresariales, tales como, bancos, sitios retail‚Ä¶
	
	Se pueden instalar en m√°quinas virtuales, pero lo ideal ser√≠a no limitarnos a esto, y explorar diferentes servicios en la nube.
	
	Algo muy MUY MUY Importante, es revisar que tenga LTS = Soporte extendido, ya que con esto nos brinda actualizaciones por 5 a√±os, por el contrario, si no lo tiene tan solo nos dan actualizaciones por 9 meses.
	
	RedHat, es un sistema que se utiliza m√°s que todo en la parte empresarial y que hay que pagar por √©l.
	
	El 37.6% de los sitios usan ubuntu y CentOS es la tercera con17%
	
	En AWS la mayor√≠a de las m√°quinas corren sobre ubuntu.

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (2)

	
	RESUMEN DE LA CLASE
	
	**Distribuciones m√°s utilizadas de Linux**
	
	  * Ubuntu server: Se usa frecuentemente para el despliegue de aplicaciones web
	  * Centos server: Proviene de Redhat. Es m√°s utilizado para aplicaciones empresariales
	
	
	
	**Importante** : Se deben instalar las versiones LTS (Long Term Support), ya que ofrecen soporte de al menos 5 a√±os

* **Juan Esteban Galvis** (2)
Se podr√° hacer este curso con Linux en una m√°quina virtual??

	* **walterniro** (2)

		
		Sin problemas.

* **Daniel Portugal Revilla** (1)

	
	pueden instalar Windows Subsystem for Linux. cpmpatible con varias distros Linux
	
	[https://docs.microsoft.com/en-us/windows/wsl/install-win10](url)
	
	para evitar instalar maquinas virtuales en caso tengan pocos recursos y se integra con windows
	
	![](https://docs.microsoft.com/es-es/windows/wsl/media/store.png)

* **Paul Manrique** (1)

	
	Voy a instalar las 2 versiones en una VM y asi ver las diferencias.

* **Jos√© Agustin Rios** (1)

	
	Voy a usar CentOS en una maquina virtual. afecta en algo?  
	_btw, uso Arch en mi computadora personal_

* **Kevin Naranjo** (1)

	
	que bueno saberlo

* **Sebastian Camilo Herrera Lopez** (1)

	
	Muy buena informacion.

* **Fernando_Rivera** (1)

	
	Bueno entonces usare Ubuntu por ser la mas popular

* **Victor Galvez** (1)

	
	Usare Centos

* **Erick Lopez** (1)

	
	Muy buena informacion aportada

* **jorge-gianareas** (1)

	
	Recuerda que puedes probar estas distribuciones con una m√°quina virtual o el proveedor de nube que prefieras (Google, Amazon, Digital Ocean, entre otros)

	* **Carlos Jos√© Gonz√°lez Juan** (2)

		
		Una curiosidad. ¬øPor qu√© copias y pegas lo que pone el profesor en la p√°gina? Es curiosidad sin malicia.

* **jorge-gianareas** (1)

	
	Recuerda que puedes usar cualquier versi√≥n para hacer pruebas y estudiar, pero al trabajar con servidores debemos instalar las versiones LTS, ya que incluyen soporte de largo plazo (actualizaciones de software por al menos 5 a√±os).

* **jorge-gianareas** (1)

	
	Vamos a usar dos distribuciones de Linux: Ubuntu Server en su versi√≥n 18.04 y CentOS Server versi√≥n 7.

* **pascualdas** (1)

	
	<https://w3techs.com/technologies/overview/operating_system>
	
	[](https://w3techs.com/technologies/overview/operating_system)

* **Sebastian Marin** (1)

	
	Ya tengo algun conocimiento sobre Linux. Este curso me motiva bastante

* **Bryam Herrera** (1)
Recuerden que tambi√©n puede instalar los subsistemas de Linux para Windows, yo he utilizado deb√≠an y Ubuntu y la verdad no me ha funcionado mal y tambi√©n es una forma de acostumbrarse a la consola antes de instalar una m√°quina virtual. El subsistema est√°n disponibles en la tienda de Windows.

* **dbzdavidbaez** (1)

	
	Muy buena informacion

* **yorisnavas** (1)

	
	Excelente la informacion

* **asanchez2091** (1)

	
	Los archivos dejados para este video est√°n muy buenos

* **Luis Rodrigo Alvarez Herrera** (1)

	
	No servira una Debian 10.1?

	* **edisoncastro14** (3)

		
		El curso se trabaj√≥ sobre ubuntu server 18.04 y Centos 7, pero puedes realizarlo en debian, seguro muchos de los conceptos se mantendr√°n

	* **Alvaro Julian Acosta Rivera** (1)
Si sirve, aunque recuerda que deb√≠an suele usar versiones un poco antiguas por la estabilidad. Yo uso Debian 9 para todos mis servidores

* **Alexander  Silvera** (1)

	
	Una consulta yo tengo windows y con windows he averiguado que puedo instalar ubuntu y tambi√©n centos y kali-linux. Esas distribuciones me sirven para el curso??

	* **Kevin Javier Morales (Platzi)** (3)

		
		Te puede servir para algunos comandos, pero yo te recomendar√≠a que lo hagas como en el curso o comprar un vps en Digital Ocean donde son super ec√≥nomicos y as√≠ te sirve para involucrarte m√°s en el mundo de servidores.

	* **Alexander  Silvera** (1)

		
		Muchas gracias, tengo otra problema con relaci√≥n al curso de Django. Yo tengo un c√≥digo en un repositorio en github y quiero agregarle la creaci√≥n de usuarios a mi proyecto, pero me est√°n surgiendo muchos problemas al querer realizar esto. Tu podr√≠as ayudarme con esto?? Gracias iKenshu.

* **Rolando Ram√≥n Delgado Aquino** (1)
cu√°l es la p√°gina que muestra las estadisticas de servidores?

	* **Juan David Castro (Platzi)** (1)

		
		Son varias. Las encuentras en la secci√≥n de archivos y enlaces:
		
		  * <https://thecloudmarket.com/stats>
		  * <https://w3techs.com/technologies/history_details/os-linux>
		  * <https://w3techs.com/technologies/overview/operating_system>
		  * <https://www.markshuttleworth.com/archives/1072>
		
		

* **asanchez2091** (1)
A que se debe que ubuntu sea tan utilizado como servidor y no debian???‚Äô

	* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

		
		Aunque Ubuntu est√© basado en Debian, esta √∫ltima distribuci√≥n no tiene una subdistribuci√≥n exclusivamente dise√±ada para servidores, adem√°s de ser m√°s complicada de instalar y no traer features predeterminados que Ubuntu si provee

## 0030. Instalaci√≥n de Ubuntu Server

### Descripci√≥n:


### Links:

* [
      Oracle VM VirtualBox
    ](https://www.virtualbox.org/)

* [Download Ubuntu Server | Download | Ubuntu](https://ubuntu.com/download/server)

* [Ubuntu release cycle | Ubuntu](https://ubuntu.com/about/release-cycle)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (10)

	
	RESUMEN DE LA CLASE
	
	**Instalaci√≥n de Ubuntu Server**
	
	  1. Descargar Virtual Box: <https://www.virtualbox.org/>
	  2. Descargar Ubuntu Server: <https://ubuntu.com/download/server>
	  3. Crear una nueva m√°quina virtual
	  4. En la configuraci√≥n de nuestra m√°quina, en la secci√≥n Red cambiar de NAT a Adaptador puente. En avanzadas, colocar en el Modo promiscuo ‚ÄúPermitir todo‚Äù
	  5. En la secci√≥n Storage seleccionamos el cd que dice ‚ÄúVac√≠o‚Äù, y en el apartado de atributos a la derecha seleccionamos el icono del cd para buscar nuestra imagen ISO de Ubuntu ya descargada anteriormente. Aceptamos los cambios.
	  6. Iniciamos la m√°quina virtual
	  7. Si estamos trabajando en un servidor f√≠sico, deber√≠amos seleccionar ‚ÄúComprobar memoria‚Äù
	  8. Instalamos el sistema operativo
	
	

	* **Edward Mauricio Suarez Solano** (1)

		
		Gracias por el aporte.

* **Bernardino Villagra Baez** (5)

	
	sha256sum [nombre del archivo]

* **Ronald Sierra** (3)

	
	Super lo del Sha siempre lo he visto pero nunca puse mucha atenci√≥n o busque como comprobarlo.

	* **Bernardino Villagra Baez** (2)

		
		Muy interesante realmente. Es la primera vez que lo veo.

	* **ferroblesh** (1)

		
		Anteriormente se utilizaba el md5sum

* **Cristian Andr√©s C√≥rdova Valencia** (2)

	
	Si alguno esta en MacOS y se le cierra la maquina virtual. Lanzando un error inesperado. Y dejando la maquina ‚ÄúAbortada‚Äù.  
	Se soluciona actualizando el Virtual Box y encendiendo la maquina en modo desacoplado.
	
	Saludos.

* **maria-del-carmen-rodriguez** (2)

	
	Muy bueno!

* **Alexander-Ponce-Castillo** (2)

	
	en windows es diferente , pero casi tiene los mismos pasos de configuracion , ningun problema.

* **isdaimonos** (2)

	
	cuando doy a la opci√≥n de almacenamiento y elijo controlador IDE: es ubuntu , lo selecciono y no puedo darle la opci√≥n aceptar ,porque ?

	* **jeydvc** (1)

		
		A mi tambi√©n me pasa lo mismo, me dice que hay que deshabiliatar en el sistema:aceleraci√≥n, lo deshabilito y sigue sin dejarme dar aceptar.

* **asanchez2091** (2)

	
	vamos haber si lo instalan con o sin interfaz grafica xD

* **Jose Maldonado** (2)

	
	por defecto virtual box utiliza bios, es recomendable indicarle que use uefi, entre las multiples ventajas estaria, arranque mas rapido.

* **Brenda Gutierrez Bautista** (2)
Linux Ubuntu es estable??? lo pregunto por qu√© antes lo utilice y ten√≠a muchos problemas de configuraci√≥n. Actualmente utiliz√≥ Linux Mint...

	* **Manuel Ojeda** (1)

		
		Ubuntu est√° en su mejor momento, es bastante estable y no presenta un problema alguno. Super recomendado.

* **Rolando Ram√≥n Delgado Aquino** (1)

	
	No tengo apadtador puente

* **Paul Manrique** (1)

	
	Lista la instalaci√≥n‚Ä¶!!!..Vamos que se puede.

* **Hector Efren Mora Acosta** (1)

	
	Hola,  
	Instalado‚Ä¶![ubuntu.PNG](https://static.platzi.com/media/user_upload/ubuntu-31a67e82-886c-4331-9264-612e60982dda.jpg)

* **jecarmona** (1)

	
	Hola
	
	La instalaci√≥n me salio bien pero como puedo habilitar la pantalla completa? la maximizo pero igual la terminal queda del mismo tama√±o.

	* **Emerson Lino Yurivilca Ricaldi** (2)

		
		Prueba con la opci√≥n **View > Scaled Mode**

	* **Daniel Portugal Revilla** (1)

		
		tienes que instalar un complemento extra de virtualbox  
		Instalar VirtualBox Guest Additions en Ubuntu
		
		[](https://www.youtube.com/watch?v=WKZiFRim87c)

* **Alejandro Briones** (1)

	
	No me permite cargar el disco porque no me deja dar aceptar, ayuda por favor.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Instalado y listo para aprender .

* **Lucas Czumadewski** (1)

	
	Team de platzi, me suelta esto al iniciar la maquina viertual. saben que podr√≠a ser el error ?
	
	The virtual machine ‚Äòplatzi-server‚Äô has terminated unexpectedly during startup with exit code 1 (0x1). More details may be available in ‚ÄòC:\Users\lucas\VirtualBox VMs\platzi-server\Logs\VBoxHardening.log‚Äô.

* **Victor Galvez** (1)

	
	Excelente explicacion. üòÉ

* **Francisco Ezequiel Ferreyra** (1)

	
	Excelente. Vamos a seguir aprendiendo.

* **Adri√°n Andr√©s Sosa** (1)

	
	Excelente!

* **becker utia Utia Lopez** (1)

	
	Buenas, alguno me puede recomendar un alternativa a virtual box ?

	* **tonin-espinosa** (1)

		
		puedes probar con VMware

	* **androw** (2)

		
		VMware tengo entendido que es de pago,  
		por lo que la mejor alternativa gratuita seria Virtual Box

* **Jorge Alberto Rodriguez Flores** (1)

	
	Para todos aquellos que no les aparecen las opciones de SO de 64 bits‚Ä¶tienen que activar algo que se llama ‚Äúintel virtual technology‚Äù desde la bios, una vez activado ya les aparecer√°n las opciones de SO de 64 bits, claro siempre y cuando su procesador sea de 64 bits.

* **Andres Roberto Coello Goyes** (1)

	
	crear una instancia de aws es mas facil‚Ä¶

	* **Favio N√°quira** (1)

		
		En este caso, se est√° mostrando desde cero. Recuerda que en Platzi se trata de manera inclusiva todo para que no hayan dudas üòÉ

* **Gtiseira** (1)

	
	Seria interesante conocer mas en detalle la parte de configuraci√≥n.

	* **Alexander-Ponce-Castillo** (1)

		
		te recomiedo este curso , <<https://platzi.com/clases/1748-terminal/24396-manejo-de-archivos-de-texto-y-utilidades-interacti/> , espero te ayude!! üòÑ

* **edwintrumpet** (1)

	
	Si les da problema al detectar la red es porque deben usar la red wlp2s0 en lugar de la enp2s0.  
	Creo que es porque el profe se est√° conectando a la red por medio de cable y yo me estoy conectando por medio de wifi.

* **AxelEspinosa45** (1)

	
	Genial, ya todo listo

* **Sebastian Marin** (1)

	
	super intro

* **Francisco Martin Nacimiento** (1)

	
	Es valido ocupar la imagen de ubuntu en docker para este curso?

* **Jos√© Tuzinkievicz** (1)

	
	Para apagar la m√°quina virtual de Ubuntu:  
	**shutdown -h now**

	* **geinerjv** (2)

		
		poweroff tambien

	* **Cristian Andr√©s C√≥rdova Valencia** (2)

		
		init 0 tambi√©n

* **dbzdavidbaez** (1)

	
	Instalada y fucnional

* **aduquec** (1)

	
	Muy interesante aunque un poco complejo para empezar üòÉ

* **c3tuxpo2018** (1)

	
	Recomendaci√≥n de particparticionamiento
	
	  * Raiz /
	
	  * Home /home
	
	  * var /var
	
	  * swap memoria area de intercambio que en la epoca antigua era del doble de la ram, hoy una de 4 gigas es mas que suficiente
	
	
	

* **Andres Roberto Coello Goyes** (1)

	
	virtual Box no me ofrece la opcion de 64 bist aun que mi pc si lo sea‚Ä¶ solo puedo colocar una de 32 bist üò¶

* **Julian Seohanes Meneses** (1)

	
	Buenas. Tengo este error al tratar de iniciar ubuntu:
	
	‚Äúthis kernel requires an x86-64 cpu but only detected an i686 cpu‚Äù
	
	Procesador: Intel¬Æ Pentium¬Æ CPU P6200 @2.13GHz 2.13 GHz  
	Memoria instalada (RAM): 4.00GB  
	Tipo de sistema: Sistema operativo windows 7 Home Premium 64bits

	* **Luis Jeanpier Monserrate** (1)

		
		Tambi√©n me ocurre este error, si alguien sabe a que se debe ser√≠a de much√≠sima ayuda

	* **Luis Jeanpier Monserrate** (2)

		
		jajaja ya encontre la falla, era que hay que configurar en la BIOS, en las configuraciones avanzadas del CPU, la habilitaci√≥n de ‚Äúintel virtualization technology‚Äù.

	* **Andres Roberto Coello Goyes** (1)

		
		Entrastes a la Bios?

	* **Julian Seohanes Meneses** (1)

		
		No tengo la opci√≥n de activar en la bios. Parece ser que el port√°til no me sirve para eso

* **asanchez2091** (1)

	
	 **RECORDAR QUE POR DEFINICI√ìN UN SERVIDOR NO TIENE INTERFAZ GR√ÅFICA**

* **Edward Mauricio Suarez Solano** (1)

	
	Excelente explicaci√≥n.

* **ernesto** (1)

	
	Es posible seguir el curso utilizando un contenedor en docker de ubuntu o centos?

	* **Juan David Castro (Platzi)** (3)

		
		¬°Claro!
		
		üëâ [Ubuntu 18.04 en un Contenedor con Docker](https://dockertips.com/ubuntu_1804)
		
		Incluso puedes usar Docker desde Ubuntu para trabajar como si estuvieras en otra m√°quina Ubuntu. üòÇ
		
		üëâ [C√≥mo instalar y usar Docker en Ubuntu 18.04](https://www.digitalocean.com/community/tutorials/como-instalar-y-usar-docker-en-ubuntu-18-04-1-es)

	* **Rafael Pardo Rodriguez** (1)

		
		Si, pero no exactamente, puedes usar ubuntu y docker, pero no es la version LTS de ubuntu.

	* **Rafael Pardo Rodriguez** (2)

		
		Mentiras, meinto üòÉ, meperd0 nas?

	* **Erick Tornero** (1)

		
		Hola, he visto que en docker no esta disponible la versi√≥n de Ubuntu Server. Es posible continuar con el curso, con la versi√≥n disponible en Docker Hub?

* **DUFP** (1)
Alguien sabe por que no puede dale en el boton de ‚ÄúACEPTAR‚Äù?, como arreglo esa ‚Äúconfiguracion invalida detectada‚Äù?

	* **DUFP** (1)

		
		![Captura2.PNG](https://static.platzi.com/media/user_upload/Captura2-5b0026cb-0ec1-431c-a43c-dbe0f90b5e25.jpg)  
		me dirigi a sistema y a aceleracion y le puse ninguno pero no se resulve nada

* **Rolando Ram√≥n Delgado Aquino** (1)
adaptador puente

* **mauricio-vazqui** (1)
cuando yo quiero validar si la instalaci√≥n se hizo correctamente, al escribir sha etc etc‚Ä¶ me sale en la consola sha256sum: Command not f...

	* **Emerson Lino Yurivilca Ricaldi** (1)

		
		Prueba con el comando  
		`shasum tu_archivo`

* **Alejandro Briones** (1)
Al momento de cargar el disco me aparece ‚ÄúConfiguraci√≥n inv√°lida detectada‚Äù :c

	* **Emerson Lino Yurivilca Ricaldi** (1)

		
		Toma una captura de pantalla para ayudarte.

* **Francisco Ezequiel Ferreyra** (1)
Como hacer en Windows un sha256sum?

	* **kasteion** (2)

		
		Que interesante, no lo hab√≠a hecho antes. En la terminal de Windows ejecuta el comando:
		``` 
		    certutil -hashfile <nombre-del-archivo> sha256
		    
		```
		
		Ejemplo:
		
		![SHA256.PNG](https://static.platzi.com/media/user_upload/SHA256-90af23f6-1d50-4f66-bd89-b6c62e7291ae.jpg)

* **√Ångel Leonel** (1)
Que es LTS?

	* **Luis Arturo Lira Cerda** (2)

		
		Significa Long Term Support, es decir, esta versi√≥n estar√° recibiendo actualizaciones para darle mantenimiento, arreglar errores m√≠nimos, brindar nuevas funcionalidades, etc.En el caso de Ubuntu, son cerca de 5 a√±os que esa versi√≥n del SO estar√° recibiendo actualizaciones.

* **Emerson Aldana Aldana** (1)
C√≥mo s√© si mi computadora es de linux o de Windows?

	* **Erik Ochoa (Platzi)** (1)

		
		Por el tipo de pregunta creo que este curso tal vez no sea el apropiado para empezar. Te recomiendo te pases por el [Curso de Fundamentos de Ingenier√≠a de Software](https://platzi.com/clases/ingenieria/).
		
		Es f√°cil identificar las diferencias entre una y otra. Para windows si usas una versi√≥n reciente debe verse algo as√≠:
		
		![windows10.png](https://static.platzi.com/media/user_upload/windows10-551f1f81-398e-4780-b672-c2e81054da5b.jpg)
		
		En linux existen muchas distribuciones con diferentes aspectos, pero Ubunto es de las m√°s populares:
		
		![Ubuntu.png](https://static.platzi.com/media/user_upload/Ubuntu-3939d386-50c7-4344-aff1-4b50578eed11.jpg)
		
		Mu√©vete por el men√∫ del sistema, sobretodo en el panel de control o preferencias, ah√≠ seguro vas a encontrar el nombre exacto del sistema operativo que est√°s ejecutando.

* **Emerson Aldana Aldana** (1)
C√≥mo s√© si mi computadora es de linux o de Windows?

	* **Erik Ochoa (Platzi)** (1)

		
		Ac√° te he dado una respuesta <https://platzi.com/comment/923961/> :smile

* **Sandra Chan Balan** (0)
¬øPor que me sale este error al momento de querer iniciar mi maquina virtual? Kernel driver not installed (rc=-1908) ¬øComo puedo soluciona...

	* **Erik Ochoa (Platzi)** (1)

		
		He encontrado dos opciones que te pueden servir:
		
		  1. [Instalar virtualbox-dkms](https://www.archecode.org/es/blog/solucion-a-kernel-driver-not-installed-rc-1908-virtualbox/).
		  2. [Cargar el m√≥dulo vboxdrv](https://blog.desdelinux.net/solucion-a-kernel-driver-not-installed-rc-1908-en-virtualbox-arch/).
		
		

## 0040. Instrucciones para instalar CentOS

### Descripci√≥n:


### Links:

* [CentOS Project](https://centos.org)

* [CentOS Mirror](http://isoredirect.centos.org/centos/7/isos/x86_64/)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (9)

	
	RESUMEN DE LA CLASE
	
	**Instalaci√≥n de CentOS**
	
	  1. Descargar Virtual Box: <https://www.virtualbox.org/>
	  2. Descargar CentOS: <http://isoredirect.centos.org/centos/7/isos/x86_64/CentOS-7-x86_64-DVD-1908.iso>
	  3. Crear una nueva m√°quina virtual
	  4. En la configuraci√≥n de nuestra m√°quina, en la secci√≥n Red cambiar de NAT a Adaptador puente. En avanzadas, colocar en el Modo promiscuo ‚ÄúPermitir todo‚Äù
	  5. En la secci√≥n Storage seleccionamos el cd que dice ‚ÄúVac√≠o‚Äù, y en el apartado de atributos a la derecha seleccionamos el icono del cd para buscar nuestra imagen ISO de CentOS ya descargada anteriormente. Aceptamos los cambios
	  6. Iniciamos la m√°quina virtual
	  7. Instalamos el sistema operativo
	  8. En la configuraci√≥n, en el apartado de NETWORK & HOST NAME, activar la interfaz con el bot√≥n ‚Äúon‚Äù. Cambiamos el host name a ‚Äúplatzi-server‚Äù y damos click en aplicar
	  9. En el apartado de INSTALLATION DESTINATION seleccionamos el disco de Virtual Box
	  10. Configuramos la hora y damos click en done
	  11. Hacemos click en ROOT PASSWORD y creamos una contrase√±a para el usuario root
	  12. Creamos un usuario nuevo dando click en USER CREATION y finalizamos la instalaci√≥n
	
	

* **Ronald Sierra** (7)

	
	muy importante el particionamiento o ver una parte de LVM por lo menos en Ubuntu o una referencia al curso anterior (2017) por que no lo veo en la lista de v√≠deos, es uno de los puntos que muchos nos queda complicado entender.

	* **Kevin Javier Morales (Platzi)** (6)

		
		Dejo un enlace a una de las clases del m√≥dulo donde se hablan de particiones en el curso anterior por si alguien est√° interesado: [aqu√≠](https://platzi.com/clases/1123-linux-2017/7042-administrar-discos-y-particiones-en-linux/)

	* **edisoncastro14** (1)

		
		Gracias por el link @kevin.

	* **c3tuxpo2018** (2)
Como aporte personal comento que el esquema de particion que uso en configuraciones de servidores de produccion es. Una particii Raiz / Una particion Home /home Una particion var /var Y una particion adicional para aplicaciones especiales en opt. /opt/carpetaespecial Sin olvidar la particion swap que es la particion para memoria de intercambio, que en la epoca en la que la ram era escasa su tama√±o se definia como el doble de la ram Gracias por leer

* **c3tuxpo2018** (5)

	
	Un buen ejemplo de contrase√±a segura, segun recomendaci√≥n de Eduard Snowden es una frase de f√°cil recordaci√≥n pero dif√≠cil de adivinar como por ejemplo  
	3lperr0demic454.Sultan

	* **Marino Checo** (2)

		
		jaajajja el perrodemicasa.Sultan‚Ä¶ jajaj tremenda‚Ä¶ heee üòÉ

	* **Carlos Jos√© Gonz√°lez Juan** (1)

		
		Genial

* **bixhiic** (2)

	
	no puedo usar el disco porque tengo 8Gb y requiere mas de eso y no se donde configurarlo!! ayuda!!

	* **Marco Alejandro Galan Raise** (2)

		
		Crea una nueva maquina virtual y cuando tengas que configurar el espacio del disco ponele unos 30GB por lo general con eso ya va a funcionar bien y no tendras problemas.

	* **gavilanrolando** (2)

		
		Lo mismo me paso, avance pero al final me dice que 8G es muy chico.

	* **bixhiic** (1)

		
		lo que pasa es que instale el 8 y la configuracion esta para centOS 7

	* **Francisco Ezequiel Ferreyra** (1)

		
		Crea un disco de 10GB en tal caso. Con eso alcanza.

* **c3tuxpo2018** (2)

	
	Un detalle a tener en cuenta
	
	  * Centos es la distribuci√≥n de la comunidad de software libre basada en el c√≥digo abierto de Red Hat Enterprise Linux, gracias a la licencia Gnu/gpl convirti√©ndose en una distribuci√≥n de Linux de Clase empresarial.
	
	

* **Bianca Mercado** (2)
Hola, me he instalado CentOS en una lap viejita, tuve un par de dificultades por la tarjeta de video, pero gracias a StackOverflow ya est...

	* **Alveiro Luis Hoyos Lozano** (2)

		
		Hola.  
		A mi tambien me ha pasado lo mismo en ubuntu desktop.  
		No se como solucionarlo.  
		Una alternativa seria instalar chrome.

* **Paul Manrique** (1)

	
	Lista la instalaci√≥n‚Ä¶!!!..Recuerden utilizar 10 Gb de instalaci√≥n.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Descargado y listo para usar.

* **darth-revan** (1)

	
	Docker

* **xavier-sebastian-vaca-ordonez** (1)

	
	Particiones que debes crear de forma manual  
	Una particion de intercambio (Swap)  
	Una Particion root (EL punto de montaje sera /)  
	Una particion /home para que puedas actualizar tu distribucion sin alterar tus archivos. En la partici√≥n home van los usuarios que usan el sistema
	
	En este tutorial nos indica como crear las particiones para ubuntu  
	<https://www.youtube.com/watch?v=EUK2Qg83QVs>

* **Ricardo Exequiel De Angelis** (1)

	
	Descargue la version 8 pero este trae viene con interfaz grafica ,asi que por las dudas descargo el 7 .

* **Juan Esteban Galvis** (1)

	
	Es necesario instalar Ubuntu Server y tambien CentOS? o solo uno de los dos?

	* **Jos√© Tuzinkievicz** (2)

		
		Por lo que veo el temario del curso, se hacen pr√°cticas con los dos S.O.

	* **Carlos Jos√© Gonz√°lez Juan** (3)

		
		Hacen falta los dos, pues se estudia tanto uno como el otro. Hay diferencias en el manejo de cada uno.

* **dbzdavidbaez** (1)

	
	Instalado y fucional

* **Jos√© B. M√©ndez Pad√≠n** (1)

	
	¬øPara qu√© sirve el modo promiscuo: permitir todo en la m√°quina virtual?

	* **kannder83** (1)

		
		Es para que no se realice ningun tipo de filtrado en los datos de esta interfaz virutal. Es para dejar cruzar el trafico sin problema.

* **bixhiic** (1)
Me manda un alert diciendome que no tengo espacio disponible para instalar centos ... que cancele y a√±ada mas discos o reclame espacio

	* **Francisco Ezequiel Ferreyra** (1)

		
		Cuanto espacio le asignaste?

* **asanchez2091** (1)
Que tiene centos que pesa tanto??? 6.6GB

	* **Andr√©s Yoshimar Aguilar Salgado** (3)

		
		la versi√≥n DVD te permite elegir el escritorio -entorno gr√°fico-  
		tambi√©n ya tiene mucho software disponible que se puede seleccionar durante la instalaci√≥n como son servidores web, de correo, de archivos, etc.  
		En resumen, tiene mucho software √∫til cuando el servidor tiene internet limitado.

* **Christian Sabino Or√≥ztico Le√≥n** (0)

	
	Hola, termin√© de instalar centos pero cada que lo reinicio me sale de nuevo el instalador. Any ideas?

	* **Adam Lei-Yi Chen Abolacio** (1)

		
		Seguramente tendr√°s conectada la ISO todav√≠a, desconecta la unidad y ya no deber√≠a salir si la instalaci√≥n se hizo correctamente.

* **GERARDO ARISTIZABAL** (0)

	
	hola, requiero ayuda con el siguiente error: This kernel requires an x86-64 CPU, but only detected an i686 CPU.  
	gracias

	* **Roger Vil√†** (2)

		
		Creo que pueden ser 3 cosas:
		
		  * Que debes activar el Hyper-V en la BIOS de tu maquina fisica para poder utilizar herramientas de virtualizaci√≥n.
		
		  * Que hayas creado una maquina virtual CentOs con arquitectura de x84
		
		  * Que te haya descargado una .iso de arquitectura x64
		
		
		
		
		Espero que te sirva de ayuda üòÉ

* **Jhordan Willy Hern√°ndez Casta√±eda** (0)
Profesor, saludos Per√∫. Puedo instalar o implementar interfaz grafica a mi servidor. Qu√© ventajas o desventajas tendr√≠a? Gracias.

	* **Gabriel De Andrade (Platzi)** (4)

		
		Puedes integrar una dentro del centro de servidores, o a trav√©s de red, por ejemplo sistemas como UnRaid tienen una interfaz gr√°fica a trav√©s de la web, sin embargo esto se hace generalmente en una parte del servidor pues no quieres consumir recursos del mismo corriendo una interfaz gr√°fica. Entonces,  
		Desventajas: recursos e implementaci√≥n.  
		Ventajas: usabilidad(en ciertos casos).  
		  
		Como recomendaci√≥n personal, no, no implementes una interfaz gr√°fica en un servidor de producci√≥n, es mejor aprender a hacer todo por medio de la terminal. Si quieres armar un servidor hogare√±o tipo NAS, si implementa algo que te de una interfaz gr√°fica y sea sencillo de utilizar, aqu√≠ no es tan cr√≠tico el performance üòÑ

## 0050. Gesti√≥n del √°rbol de directorios

### Descripci√≥n:


 **`pwd`** : nos muestra nuestra ubicaci√≥n actual en el √°rbol de directorios ( _Print Working Directory_ ).  
**`ls`** : nos muestra el contenido de las carpetas de nuestro sistema operativo. Podemos especificar alguna ruta o, por defecto, listar el contenido de la carpeta donde estamos trabajando.  
**`cd`** : cambiar nuestra ubicaci√≥n en el √°rbol de directorios ( _Change Directory_ ). Usamos dos puntos ( **`..`** ) para referirnos al directorio padre y solo uno ( **`.`** ) para referirnos a nuestro directorio actual.  
**`touch`** : nos ayuda a crear archivos desde la terminal.  
**`mkdir`** : nos ayuda a crear carpetas desde la terminal.  
**`cp`** : nos permite duplicar archivos y carpetas.  
**`mv`** : cambiar el nombre de nuestros archivos y carpetas.

Recuerda que la terminal de Linux es sensible a la diferencia entre may√∫sculas o min√∫sculas.

### Comentarios:

* **Leonel Altamirano** (9)
Recomiendo tomar el curso de L√≠nea de Comando para entender mejor esta clase

	* **Bernardino Villagra Baez** (1)
Totalmente recomendado

* **Sebasti√°n C√≥rdoba Omen** (7)

	
	ctrl + l = para limpiar la consola
	
	ctrl + r + palabra = busca en el historial los comandos ejecutados que coincidan con la palabra a buscar

	* **asanchez2091** (1)

		
		control + r + letra o palabra es muy √∫til

* **xavier-sebastian-vaca-ordonez** (6)

	
	Los directorios en Linux funcionan diferentes a los directorios en Windows les dejo esta guia rapida
	
	/boot  
	En este directorio es donde va normalmente el kernel, opciones de compilacion del kernel, mapa de arranque etc‚Ä¶
	
	/etc/  
	En este directorio se guarda practicamente toda la configuracion del sistema, desde archivos de configuracion de programas, hasta los archivos necesarios para que el sistema sepa como tiene que arrancar, que demonios correr etc‚Ä¶
	
	/dev  
	Aqui se encuentran los dispositivos de el ordenador y algunos pseudo dispositivos, por ejemplo discos duros, tarjetas de sonido, tarjetas de captura etc; desde los descriptores que se encuentran en este directorio, se puede acceder a ellos como si se tratasen de simples archivos.
	
	/proc  
	Desde aqui podremos tener acceso a informacion en tiempo real de el kernel e incluso cambiarle parametros al vuelo, sacar toda la informacion sobre cada dispositivo conectado al ordenador, desde la revision del chipset de la placa base, hasta el modelo de un escaner usb que tengamos conectado.
	
	/root  
	El directorio home de el administrador del sistema con sus archivos, configuracion etc.
	
	/var  
	En este directorio y subdirectorios suelen ir todo aquello que varia a menudo de tama√±o en el disco duro, como por ejemplo caches de paquetes o internet, logs, paginas web etc.
	
	/tmp  
	Bueno, este no tiene mucho que explicar, aparte de que a diferencia de windows, en linux suele haber un cron que se encarga de eliminar automaticamente los archivos que ya no se necesiten.
	
	/mnt  
	Aqui se suele poner, desde el cdrom, hasta una unidad de red, pasando por todo lo que se os ocurra, por ejemplo un iso montado con loop, hasta la clasica disquetera, esto no es demasiado estandard en algunos aspectos, por ejemplo, muchas distros crean el directorio /mnt, pero luego colocan el floppy y el cdrom en el raiz, yo prefiero tener todo lo montable en este directorio, nfs, floppy, cdrom, dvd, isos etc.
	
	Fuentes: <https://bandaancha.eu/foros/donde-instalan-programas-linux-110879>
	
	Los comandos se guardan en multiples carpetas del Sistema Operativo como por ejemplo en la carpeta /bin se guardan los comandos que se ejecutan en esta clase
	
	/bin: Ejecutables (o binarios) b√°sicos del sistema, cuando, por ejemplo ejecutamos el comando cp en realidad ejecutamos /bin/cp.
	
	arca: Muestra la arquitectura del ordenador.  
	cp: copia un archivo a otro lugar.  
	gzip: comprime/descomprime  
	login: Iniciar sesi√≥n como otro usuario.  
	more: Muestra un archivo poco a poco (como les).  
	rm: Borra archivos  
	sh, bash: Interpretes de comandos.  
	ls: Muestra el contenido de una carpeta.  
	mount: Monta un dispositivo en una carpeta.  
	rmdir: Borra una carpeta  
	sleep: ‚ÄúDuerme‚Äù el sistema durante los segundos que le indiques.  
	touch: Cambia la hora de ultimo acceso y modificaci√≥n de un archivo, si no existe lo crea.  
	cat: Muestra el contenido de un archivo.
	
	Fuente: <http://www.rinconsolidario.org/linux/cursoLinux/comoUsarLinux/directorios/directorios.html>

* **jecarmona** (4)

	
	**Gesti√≥n del √°rbol de directorios**
	
	Lo primero que pens√© cuando instal√© mi Linux fue ‚Äò¬ød√≥nde est√°n mis documentos?‚Äô‚Ä¶ quer√≠a saber como se ordenaban las carpetas y como siempre utilice Windows extra√±e mucho la cl√°sica estructura de carpetas conocidas por todos. Me di cuenta de que en Linux entender c√≥mo se estructuran las carpetas es vital para poder sentirse c√≥modo y sacar el mayor provecho de este sistema operativo. En ese tiempo lo pens√©, pero volv√≠ a Windows porque me frustr√©. Pero ahora ya mas grande tengo una necesidad casi enfermiza de entender bien la estructura de carpetas del ping√ºino. Estos apuntes hablan de ello.
	
	![linux-folders.jpg](https://static.platzi.com/media/user_upload/linux-folders-cfa40aa1-1529-4dc5-9cb2-cf693e0c0026.jpg)
	
	Vamos a mirar un poco esta linda estructura.
	
	**/** : El slash representa la carpeta principal. Seg√∫n lo entiendo es el padre de todos los dem√°s directorios y en palabras simples es la ra√≠z o root.
	
	**/bin** : Directorio de archivos binarios, en esta carpeta est√°n los programas que se utilizan en la terminal como por ejemplo el comando ls, el grep, el cd, etc.
	
	**/sbin** : Esta carpeta tambi√©n aloja archivos binarios, pero la ‚Äòs‚Äô indica que son del sistema. En este folder podemos encontrar la ejecuci√≥n de las tareas del sistema como reboot, mount, fsck, etc.
	
	**/boot** : Aqu√≠ est√° la maquinaria de arranque de Linux, o las im√°genes del kernel o n√∫cleo.
	
	**/dev** : Aqu√≠ van todos los dispositivos de almacenamiento en forma de archivos (en Unix todo es un archivo). Cuando hablo de dispositivos de almacenamiento hablo de un disco duro, un pendrive, un cd, etc. Aqu√≠ esta la informaci√≥n de todos estos vol√∫menes. Todos los dispositivos montados en la maquina Linux empezaran con /dev, por ejemplo, si se ejecuta el comando sudo fdisk -l se vera la estructura de particiones del sistema y como dije reci√©n, empiezan con dev/.
	
	**/media** : En el punto anterior hable de la ruta /dev que almacena los dispositivos montados al sistema. Esta carpeta almacena los puntos de montaje de tales dispositivos.
	
	**/etc** : Aqu√≠ van los archivos de configuraci√≥n de los componentes del sistema operativo y tambi√©n de los distintos programas que se van instalando en la m√°quina.
	
	**/home** : Me recuerda a la carpeta users en Windows. Aqu√≠ van almacenadas las carpetas de los distintos usuarios que est√°n configurados en el sistema. Por ejemplo /home/Jorge.
	
	**/lib** : Aqu√≠ van las librer√≠as esenciales para que los binarios del sistema se puedan ejecutar sin problemas. Si tienes un sistema operativo de 64 bit, tendr√°s una carpeta de nombre /lib64.
	
	**/opt** : Encargado de alojar las carpetas de los programas instalados en Linux que son de otros propietarios. Mas f√°cil aun, si instalas por ejemplo un Chrome, aqu√≠ se guardar√°n sus carpetas.
	
	**/proc** : Este directorio es algo especial, ya que contiene informaci√≥n de los procesos y aplicaciones que se est√°n ejecutando en un determinado momento en el sistema, aunque en la practica no se guarda nada en √©l, ya que solamente almacena archivos virtuales y el contenido de esta carpeta es nulo.  
	Aqu√≠ se almacenan todos los detalles del sistema Linux, como por ejemplo el kernel, procesos y par√°metros de configuraci√≥n. Si se analiza esta carpeta realmente se puede aprender como es que los comandos Linux trabajan. Para poder examinar por completo este directorio tienes que estar logueado como root. Ojo que dentro de esta carpeta se encuentra el folder /sys en cual corresponde al kernel de Linux. Se pueden sobre escribir algunos archivos, pero podr√≠as matar tu sistema si haces algo mal.
	
	**/root** : Es la carpeta de usuario exclusiva para el administrador root. No confundir con la ra√≠z /.
	
	**/srv** : Contiene los ficheros de los servidores que pudiesen estar instalados como por ejemplo web, ftp, etc.
	
	**/tmp** : Archivos temporales de todo tipo.
	
	**/var** : directorio que almacena informaci√≥n variable como logs, cache, etc.
	
	**/usr** : User System Resources, almacena archivos de solo lectura, como los paquetes que instalamos mediante los gestores. Dentro de ella hay una r√©plica del √°rbol de directorios.
	
	No conozco todas las distros as√≠ que supongo que estos esquemas podr√≠an variar.

	* **Emerson Lino Yurivilca Ricaldi** (1)

		
		Muy buen aporte, gracias üòÉ

* **Andres Roberto Coello Goyes** (4)

	```
	    ls usr/bin = binarios ejecutables del sistema.
	    ls usr/bin | wc -l = muestra el numero de binarios ejecutables.
	    pwd = te muestra la ruta actual.
	    control + l = limpia la consola de linux.
	    cd nombre-carpeta = ingresa a una carpeta.
	    cd .. = sale de una carpeta.
	    ls -lh = mustra el tipo de archivo, fecha, y el peso en B,G,k.
	    ls -lha = muestra los archivos ocultos.
	    cd + tab = auto completa las carpetas o archivos que existan.
	    cd ~ = me redirije a mi ruta principal.
	    mkdir = crea una nueva carpeta.
	    touch = sirve para crear un archivo.
	    mv actual futuro = cambia el nombre del archivo o carpeta.
	    rm archivo.md = elimina un archivo sin preguntar.
	    rm -rf carpeta = elimina una carpeta sin preguntar.
	    man comando = muestra el manual de tal comando.
	    mv archivo.txt carpteta/ = mueve el archivo a tal carpeta.
	    mv archivo.txt ~/desktop/carpeta = mueve el archivo a rutas anteriores.
	    cp archivo ../ruta = copia el archivo y lo pega enla ruta especificada.
	    pushd ~/desktop = accede a la ruta sin necesidad de hacer un cd.
	    popd = regresa a la ruta anterior en necesidad de hacer cd. referencia de pushd.
	    open nombre_archivo = habre el archivo
	    more archivo.txt = muestra las primeras lineas del archivo.
	    cat > archivo.txt = sirve para pegar o agregar informacion. termina con control+c.
	    tail archivo.txt = muestra las ultimas 10 lineas.
	    vim archivo.ext = habre un editor de texto, presione "i" para escribir, presione "esc" y ":wq" para guardar y ":q!" para salir.
	    more > archivo.txt = muestra una parte del archivo.
	    echo $PATH = mustra todas las rutas de los programa que tienen permisos.
	    alias ver='ls' = crea un sobrenombre del comando.
	    control + r = busca comandos ejecutados anteriormente.
	    top = muestra todo el proceso que correr el ordenador.
	    grep palabra file.extencion = busca palabras claves en archivos.
	    grep -r . = muestra los archivos y los contenidos de esos archivos.
	    grep -r carpeta -e palabra = busca la palabra dentro dela carpeta asignada.
	    grep -n -r carpeta -e palabra = busca y muestra el numero de lineas del archivo.
	    ls *extencion txt,jpg,mp3 = lista los archivos que contenga la extencion escrita.
	    find . -typed | wc -l = muestra el numero de directorio que existan.
	    curl direccion de internet = muestra el archivo con el que esta escrito la pagina.
	    wget direccion de internet = util para descargar archivos.
	    gig direccion de internet = util para saber la ip de ese sitio.
	    tree = muestra el arbol de directorios.
	    gzip file.extension = comprime el archivo.
	    gzip -dfile.extension = descomprime el archivo.
	    zip nombre.zip *extencion = comprime los archivos con esas extenciones enzip.
	    tar cfz nombre.tar.gz *extencion = comprime los archivos con esa extencion.
	    tar xfz varios.tar.gz = descomprime  el archivo tar.
	    tar cf name.extension carpeta/* = empaqueta todo los archivos de la carpeta.
	    tar tf name.tar = ve el contenido del empaquetado.
	    tar xf name.tar = desempaqueta el tar.
	    cat archivo.txt = imprime el contenido del archivo.
	    ls | wc -l = muestra en general la cantidad de contenido que existe.
	    whoami = muestra con que usuarios estas logueado.
	    locate name.extension = busca el archivo y muestra su ruta.
	    sudo updatedb = actualiza la base de datos.
	    ssh-keygen -t rsa -b 4096 = sirve para crear llaves ssh de privadas y publicas. 
	    ssh 45.55.62.127@root = se conecta a un servidor remoto mediante ip.
	    ping direccion_id = muestra las respuesta activa del servidor.
	    echo "title" | mail -s "contenido" direccion de correo = envia un email.
	    nl archivo.txt = enumera las lineas de un archivo.
	    wc -l archivo.txt = muestra el numero de lineas que tenga.
	    wc -w archivo.txt = muestra el numero de palabras.
	    wc -m archivo.txt = muestra el numero de letras o caracteres.
	    sed 's/mi palabra/sustitucion/g' archivo.txt = sustituye la palabra asignada por la palabra especificada. "g" significa global.
	    sed -i 's/palabra/sustitucion/g' archivo.txt = sustituye la palabra asignada y guarda el archivo con los cambios.
	    sed -i.orig 's/palabra/sustitucion/g' archivo.txt = sustituye la palabra asignada y guarda el archivo con los cambios en una copia aparte.
	    sleep 5 && cat archivo.txt = simula la ejecucion de algo por 5 segundos luego ejecuta el seguiente comando.
	    df -h = muestra el sistema de fichero como nombre, tama√±o, ruta.
	    df -h --total = mustra el sistema de fichero con calculos totales.
	    
	    					USUARIOS Y GRUPOS
	    sudo su - = sirve para cambiar de mi usuario a root es decir a superUsuario administrador.
	    sudo su usuario = sirve para cambiar de usuarios.
	    adduser usuario = sirve para crear un usuario. (solo funciona en root).
	    control + d = para cerrar session.
	    deluser usuario = elimina un usuario.
	    passwd mejorandola = sirve para cambiar la contrase√±a.
	    
	    dit/link/file
	    rwx: puede ejecutar script.
	    rw-: owner = cuales son los permisos.
	    r--: group = grupo que pertenece.
	    r--: anyone = que permisos tiene.
	    ---: ni leerlo, ni escribir, ni ejecutar.
	    
	    dueno - grupo - otros
	    rwx   - r-x   - --x
	    
	    chmod = cambia los permisos;
	    chmod o-r file.extension = quita el permiso de lectura de otros;
	    chmod g+x file.extension = coloca el permiso de ejecucion de grupos; 
	    
	    r = 4
	    w = 2
	    x = 1
	    
	    r--: leer 
	    rw-: leer y escribir 
	    r-x: leer y ejecutar
	    --x: ejecutar
	    -wx: escribir y ejecutar
	    rwx: permiso de todo
	    
	    r=4, x=1, w=2
	    
	```

	* **Victor Galvez** (2)

		
		Te falto el rmdir para borrar directorio vacios en blanco.

	* **Sebastian Camilo Herrera Lopez** (2)

		
		muchas gracias.

* **c3tuxpo2018** (4)
Un dato muy importante, el comando rm para borrar en Linux, no pregunta su esta seguro, solo ejecuta el borrado, a lo Terminator, asi que por favor tengan cuidado

	* **franktonyfrias** (1)

		
		gran dato, muchas gracias.

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

	
	RESUMEN DE LA CLASE
	
	**Gesti√≥n del √°rbol de directorios**
	
	Comandos
	
	**pwd** : Print Working Directory, me muestra el directorio en el que estoy ubicado. El s√≠mbolo **~** significa que estamos en el home  
	**ls** : List, muestra los archivos y carpetas en el directorio actual  
	**cd** : Change Directory, cambia de directorio  
	**cp** : Copy, copia archivos y directorios  
	**touch** : Crea un archivo si no existe, en caso contrario le cambia la fecha de modificaci√≥n  
	**mkdir** : Make Directory: Crea carpetas  
	**mv** : Move: Mueve archivos y directorios, pero sirve tambi√©n para renombrar los mismos  
	**rm** : Remove: Borra archivos. Para borrar directorios con contenido dentro se debe a√±adir el modificador **-r**
	
	**Importante** : La terminal es sensible a may√∫sculas y min√∫sculas

	* **c3tuxpo2018** (1)
Importante, el comando rm de borrado en Linux no pregunta si esta seguro de √±o que va hacer, simplemente lo ejecuta, a lo Terminator, asi que por favor mucho cuidado con ese comando

	* **c3tuxpo2018** (1)
Importante, el comando rm de borrado en Linux no pregunta si esta seguro de lo que va hacer, simplemente lo ejecuta, a lo Terminator, asi que por favor mucho cuidado con ese comando

* **phvillegas** (4)

	
	Ok, primer comentario ü§î

	* **asanchez2091** (1)

		
		y fue hace 16 d√≠as bueno este curso es nuevo

* **gavilanrolando** (2)

	
	Despues de 20 minutos mi pc virtual se sigue instalando, es normal esto? me parece que voy a tener que eliminar y hacerlo de nuevo , en el video mostraste que lo hace en pocos segundos, o algo estoy haciendo mal.

	* **jjuanleyva** (1)

		
		Creo que el profesor pone esa seccion del video en camara rapida, me dio la impresion.
		
		¬øNo te sale algun proceso de carga o algo que te diga si se sigue instalando? A mi la instalacion de CentOS tambien se me demoro bastante

* **ismael2522** (2)

	
	Con el comando `man` se puede acceder al manual de cada comando, para as√≠ tener una referencia de cada comando.  
	Ejemplo: `man ls`

* **jorge-gianareas** (2)

	
	pwd: nos muestra nuestra ubicaci√≥n actual en el √°rbol de directorios (Print Working Directory).  
	ls: nos muestra el contenido de las carpetas de nuestro sistema operativo. Podemos especificar alguna ruta o, por defecto, listar el contenido de la carpeta donde estamos trabajando.  
	cd: cambiar nuestra ubicaci√≥n en el √°rbol de directorios (Change Directory). Usamos dos puntos (‚Ä¶) para referirnos al directorio padre y solo uno (.) para referirnos a nuestro directorio actual.  
	touch: nos ayuda a crear archivos desde la terminal.  
	mkdir: nos ayuda a crear carpetas desde la terminal.  
	cp: nos permite duplicar archivos y carpetas.  
	mv: cambiar el nombre de nuestros archivos y carpetas.

* **Juan Esteban Galvis** (2)

	
	Todo esto lo aprendimos en el curso de Terminal y Linea de Comandos. Super recomendado compa√±eros.

	* **geinerjv** (2)

		
		Ese curso me ha servido demasiado en mi trabajo

* **Jared Nava** (2)

	
	Entre esas preguntas que no se deben hacer en cursos‚Ä¶  
	¬øDesarrollar una interfaz es una p√©rdida de tiempo para estos sistemas?
	
	No tengo problemas con los comandos, supongo que una UI consume importantes recursos.

	* **damanrique** (1)

		
		es mas rapido y mas eficiente realizar las tareas desde la terminal, la interfaz solo te sirve para dar clicks, luego te vas a acostumbrar y no te hara falta la interfaz

	* **c3tuxpo2018** (2)
Ademas de que te sientes como Neo en Matrix jejjeje

	* **asanchez2091** (1)

		
		Linux posee interfaz gr√°fica en todas sus distribuciones pero en servidores no las necesitas nunca he visto un server con interfaz gr√°fica instalada

	* **toguxd** (3)

		
		Porque quisieras da√±ar con una interfaz gr√°fica la belleza de Bash?

* **Sebasti√°n C√≥rdoba Omen** (2)

	
	<https://platzi.com/clases/terminal/>

* **Paul Manrique** (1)

	
	Genial‚Ä¶Hace tiempo que no usaba comandos de linux. Por si acaso aqu√≠ le dejo una ruta para posibles usos del LS:  
	<https://www.servidoresadmin.com/comando-linux-ls/>  
	Saludos a todos‚Ä¶y vamos con todo‚Ä¶!!!

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Muy buena explicaci√≥n!

* **EdwardPL** (1)

	
	me encanto esta clase muy buiena exolicacion!

* **Sebastian Camilo Herrera Lopez** (1)

	
	Muy interesante aprender estos comandos.

* **oscarald** (1)

	
	¬øCuando usamos el comando touch para modificar la fecha del archivo, borra el contenido del mismo?

	* **Diego Alexander Forero Higuera (Platzi)** (1)

		
		No, acabo de realizar la prueba y el archivo quedo igual, solo modifica la fecha del archivo.

	* **Daniel Portugal Revilla** (1)

		
		para ser precisos, la fecha solo se cambia cada vez que se actualiza un documento, el comando touch simula este comportamiento sin realizar ning√∫n cambio, solo le da un toque, touch

* **jorge-gianareas** (1)

	
	Recuerda que la terminal de Linux es sensible a la diferencia entre may√∫sculas o min√∫sculas.

* **AxelEspinosa45** (1)

	
	genial

* **Sebastian Marin** (1)

	
	super esta clase.

* **JCaicedo** (1)

	
	Excelente estas base que comparten algo de similitud a la consola de win10 ‚Äúcmd‚Äù

* **dbzdavidbaez** (1)

	
	Buena explicacion

* **Jos√© B. M√©ndez Pad√≠n** (1)

	
	Para borrar y que nos pregunte si estamos seguros de lo que estamos haciendo el comando es:
	``` 
	    rm -i {datos_a_borrar}```
	    
	```

* **Daniel Giovanny Ochoa Torres** (1)

	
	vale aclarar que cuando se quiere una crear una carpeta y esta esta en otra subcarpeta. debe especificarce bien esa ruta

* **Daniel Giovanny Ochoa Torres** (1)

	
	basico y rapido

* **aduquec** (1)

	
	Me toco descargarlo nuevamente no me funcionaba mi usiario y contrase√±a y no me permit√≠a crearlo nuevamente en virtualbox as√≠ que me toco desde cero.

	* **Jos√© B. M√©ndez Pad√≠n** (1)

		
		Eso es bueno para practicar y que los conocimientos queden mejor.

* **asanchez2091** (1)

	
	excelente veo que este video tiene mucho en com√∫n con el curso de terminal y linea de comandos [terminal y linea de comandos](https://platzi.com/clases/terminal/)

* **asanchez2091** (1)

	
	Excelente ya entrando en materia

* **jheyson7** (1)

	
	una consulta para conectarme de ubuntu desktop a otro ubuntu desktop via ssh debo utilizar la ip publica ? y como lo obtengo ?

	* **Kevin Javier Morales (Platzi)** (1)

		
		La mayor√≠a de proveedores de servidores te dan la ip p√∫blica al momento de crearlo. Tambi√©n necesitas decirle cu√°l ser√° la llave ssh por la cual te vas a conectar para que pueda reconocer la conexi√≥n

	* **asanchez2091** (1)

		
		si los dos equipos est√°n en la red local te sirve la ip que tengan

	* **toguxd** (2)

		
		Si est√°n dentro de la misma red puedes usar la ip privada.  
		Para saber la ip que tienes digitas ifconfig.
		
		y para conectarte con:  
		ssh usuario@ip Ejemplo: ssh [jheyson7@127.0.0.1](mailto:jheyson7@127.0.0.1)
		
		Saludos

	* **Jonnathan Ramiro Juma Jara** (1)

		
		ifconfig te da la ip y puedes usar un cliente ssh como mobaxterm que te brinda muchas herramientas como acceso directo al ftp

* **John Henry Salazar Jaen** (1)
En un entorno profesional, habitualmente se utilizan servidores locales o servicios como Google Cloud, Azure, IBM Cloud, AWS?

	* **Gabriel De Andrade (Platzi)** (2)

		
		Cada vez m√°s las empresas optan por usar servicios en la nube, pues como empresa no afrontas el gasto inicial de comprar hardware ni el gasto de su mantenimiento. Sin embargo, es importante tener en cuenta que todos estos servicios manejan Linux por debajo y es s√∫per importante entender este sistema operativo antes de manejar cualquier tipo de soluci√≥n de servidores üòÑ

## 0060. Diferencias entre LESS, CAT, HEAD y TAIL para lectura de archivos

### Descripci√≥n:


 **`cat`** : nos permite leer archivos en su totalidad.  
**`less`** : nos ayuda a leer el contenido de nuestros archivos por p√°ginas. Nos movemos con las flechas del teclado o la tecla de espacio. Salimos de la lectura del archivo con la letra **`q`**. Buscamos palabras espec√≠ficas escribiendo **`/palabra`**.  
**`tail`** : nos muestra las √∫ltimas 10 l√≠neas de nuestros archivos.  
**`head`** : nos muestra las primeras 10 l√≠neas de nuestros archivos.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (8)

	
	RESUMEN DE LA CLASE
	
	**Diferencias entre LESS, CAT, HEAD y TAIL para lectura de archivos**
	
	**cat** : Muestra un archivo sin paginar  
	**less** : Muestra un archivo paginado. Pulsando ‚Äú/‚Äù y escribiendo una palabra, puedo buscar las coincidencias de la misma en el archivo. Con la tecla ‚Äún‚Äù me muevo entre coincidencias hacia adelante, y con shift + ‚Äún‚Äù me muevo entre coincidencias hacia atras. Con espacio cambio de p√°gina. Salgo con "q"  
	**tail** : Muestra las √∫ltimas 10 l√≠neas de un archivo espec√≠fico. Con la opci√≥n ‚Äú-n‚Äù puedo modificar la cantidad de l√≠neas que veo. Con la opci√≥n -f puedo poner los cambios en escucha  
	**head** : Muestra las primeras 10 lineas de un archivo espec√≠fico. Con la opci√≥n ‚Äú-n‚Äù puedo modificar la cantidad de l√≠neas que veo.  
	**man** : Muestra ayuda sobre comandos.
	
	Aporte: **more** : Sirve para leer archivos como less, observando que porcentaje del mismo ya se ha mostrado. Para avanzar en la lectura se utiliza la tecla enter

* **Jorvi** (7)

	
	Hey, ¬°Como les va!  
	Todo los eventos relacionados con la autentificaci√≥n en:
	
	  * Debian y Ubuntu, se registran en /var/log/auth.log
	  * RedHat y CentOS, se registran en /var/log/secure
	
	
	
	Para mayor informaci√≥n pueden ir al siguiente link, es muy interesante:  
	**12 Critical Linux Log Files You Must be Monitoring**  
	Link: <https://www.eurovps.com/blog/important-linux-log-files-you-must-be-monitoring/>

* **xavier-sebastian-vaca-ordonez** (6)

	
	[Mas de 400 comandos en GNU/LINUX que deberias conocer](https://blog.desdelinux.net/mas-de-400-comandos-para-gnulinux-que-deberias-conocer/)  
	solo para valientes

	* **Carlos Jos√© Gonz√°lez Juan** (1)

		
		Esto si es un aporte. Muchisimas gracias. Me puedo pasar el d√≠a jugando con los comandos. jejejejjeej

* **damanrique** (5)

	
	tail -f sera un comando muy util en la vida de cualquier programador, para ver logs de ejecucion y detectar posibles errores

	* **asanchez2091** (1)

		
		si lo use mucho cuando depuraba un app de odoo

* **Bianca Mercado** (5)

	
	En CentOS me arroja que no existe el auth.log en ese path , as√≠ que le estuve rascando a /tmp  
	Me gusta la opci√≥n tail -f va a ser √∫til para el monitoreo de los logs;  
	![9-17-2019 9-26-19 PM.png](https://static.platzi.com/media/user_upload/9-17-2019%209-26-19%20PM-2c2bbc7c-6526-4242-b07c-6270765b3c15.jpg)

	* **pabloxco** (3)

		
		Si la memoria no me falla, en CentOS se encuentra en `/var/log/secure`

	* **Luis Rodrigo Alvarez Herrera** (4)

		
		En CentOs esta en esta ruta
		``` 
		    /var/log/audit
		    
		```
		
		Y el archivo se llama audit.log

	* **edisoncastro14** (2)

		
		Puedes revisar /var/log/secure

* **jiduartem** (3)

	
	Intent√© acceder por consola desde mi pc al servidor y logr√© hacerlo mediante el comando ssh
	``` 
	    ssh username@host
	    
	```

* **Victor Galvez** (2)

	
	Interesante el comando tail- f no sabia que se usaba para eso tambi√©n gracias por la informaci√≥n.

* **juancapote** (2)

	
	excelente yo uno mucho tail -f nombre de archivo | grep y la palabra clave me ayuda mucho a revisar log en tiempo real.

* **morwen1** (2)

	
	yo uso mucho cat pero siempre acomp√±ado de grep

	* **Favio N√°quira** (2)

		
		este es un gran comentario.  
		**grep** es una gran utilidad, ya que nos permite filtrar nuestros resultados, por ejemplo, yo quiero encontrar todos los procesos del sistema operativo que sean de python:
		``` 
		    ps aux | greppython
		    
		```

* **maria-del-carmen-rodriguez** (2)

	
	no pense amar tanto tail

* **Jorge Alberto Rodriguez Flores** (2)

	
	Para todos aquellos que son nuevos en esto de los servidores como yo, tienen que establecer una conexion con el servidor desde la terminal de pc local. Aqu√≠ dejo un link del tutorial de como hacer la conexion usando SSH. Espero les sirva de algo, Saludos.  
	<https://vitux.com/how-to-remotely-manage-a-ubuntu-server-with-ssh/>

* **Luis Miguel Rodriguez** (2)

	
	pueden acceder a el server de ubuntu mediante el comando ssh en la consola
	``` 
	    ssh <host> -l <user>
	    
	```

* **Paul Manrique** (1)

	
	Excelente‚Ä¶la practica hace al maestro, as√≠ que vamos!!!.

* **robchoez** (1)

	
	No se puedo probar los comandos, porque el archivo en CENTOS no existe.

* **Andres Manrique Palma** (1)

	
	Para ver archivos en tiempo real, tambi√©n funciona: less +F nombreDelArchivo.log

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Excelentes comandos para hacer seguimiento a los archivos.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Interesante la funcion de estos comandos de lectura de archivos.

* **jorge-gianareas** (1)

	
	tail: nos muestra las √∫ltimas 10 l√≠neas de nuestros archivos.  
	head: nos muestra las primeras 10 l√≠neas de nuestros archivos.

* **jorge-gianareas** (1)

	
	cat: nos permite leer archivos en su totalidad.  
	less: nos ayuda a leer el contenido de nuestros archivos por p√°ginas. Nos movemos con las flechas del teclado o la tecla de espacio. Salimos de la lectura del archivo con la letra q. Buscamos palabras espec√≠ficas escribiendo /palabra.

* **Sebastian Marin** (1)

	
	Muy buenos comandos aprendi varias cosas nuevas.

* **dbzdavidbaez** (1)

	
	Comandos super imporntantes y basicos.
	
	Tail te funciona para monitoreo en linea un archivo de salida
	``` 
	    tail -f archivo
	    
	```

* **Alejandro Jimenez** (1)

	
	El comando man me va a salvar la vida m√°s de una vez, lo presiento.

* **Daniel Giovanny Ochoa Torres** (1)

	
	No sabia la existencia de Less,

* **c3tuxpo2018** (1)

	
	a qui mi less /var/log/auth.log  
	![Captura de pantalla de 2019-10-14 21-31-35.png](https://static.platzi.com/media/user_upload/Captura%20de%20pantalla%20de%202019-10-14%2021-31-35-8f052e65-2c9b-40c8-9d84-162b11cdf2a6.jpg)

* **asanchez2091** (1)

	
	Wau excelente video clase aprend√≠ que tail puede concatenarse y leer varias archivos a la vez. Que cool

* **Jaziel David Flores Rodr√≠guez** (1)
Profe,creo que mi maquina virtual no est√° conectada a internet, m√°s bien no lo est√° ¬øhice una mala configuraci√≥n o la puedo conectar desd...

	* **CalexiS** (4)

		
		Viejo; eso lo explica el profe en las primeras clases --> tienes que ir a configuraci√≥n y te metes a red:
		
		**conectado a:** adaptador puente  
		_opciones avanzadas_  
		**Modo promiscuo:** Permitir todo

* **Carlos_Jacob** (0)

	
	Hola equipo, alguien por all√≠ tiene un link donde pueda conseguir una **infograf√≠as **de los **comandos **del **Ubuntu ****server **para tenerlos a mano.  
	gracias.

	* **John Henry Salazar Jaen** (1)

		
		Hola! puedes revisar los comandos aqu√≠ y saber para que sirve cada uno.
		
		> [https://www.guia-ubuntu.com/index.php/Comandos](url)
		
		Espero te sirva, saludos.

* **Francisco Benitez** (0)

	
	auth.log no existe en CentOs?

* **Francisco Benitez** (0)
el archivo /var/log/auth.log no existe en CentOs?

	* **Erik Ochoa (Platzi)** (2)

		
		Pare CentOS lo encuentras en `/var/log/secure`

## 0070. Interacci√≥n con archivos y permisos

### Descripci√≥n:


Con el comando **`ls -l`** podemos observar la lista de archivos de nuestro directorio actual con informaci√≥n un poco m√°s detallada. El primer campo nos indica los diferentes permisos para cada archivo o directorio. Por ejemplo: **`-rwxrw-r--`**.

El primer car√°cter nos indica si tenemos un archivo ( **`-`** ), enlace simb√≥lico ( **`l`** ) o directorio ( **`d`** ).

Los siguientes caracteres se dividen en grupos de 3: lectura ( **`r`** ), escritura ( **`w`** ) y ejecuci√≥n ( **`x`** ). El primer grupo son los permisos del usuario que cre√≥ ese archivo, el segundo para el grupo al que pertenece este usuario y el tercero para cualquier otro usuario de tu sistema operativo.

Los grupos nos ayudan a darle los mismos permisos a diferentes usuarios sin necesidad de asignarlos a cada uno individualmente. Todos los usuarios que pertenezcan al grupo tendr√°n los mismos permisos.

Si en vez de estas letras encuentras un guion significa que ese usuario o grupo de usuarios no tiene permiso para esa acci√≥n en particular.

Por ejemplo: **`-rwxrw-r--`** nos indica que trabajamos con un archivo. Todos los usuarios del sistema tienen permisos de lectura. El usuario creador y su grupo tienen permiso de escritura. Y solo el usuario creador puede ejecutar el archivo.

Tambi√©n podemos encontrar estos permisos como 3 n√∫meros del 1 al 7. Estos n√∫meros son la suma de los 3 caracteres de permisos para cada usuario o grupo.

  * **`-`** = 0
  * **`x`** = 1
  * **`w`** = 2
  * **`r`** = 4



Por lo tanto, los permisos de nuestro archivo de ejemplo ser√≠an: **`7`** (1+2+4) **`6`** (0+2+4) **`4`** (0+0+4).

Para cambiar los permisos de un archivo o directorio podemos usar el comando **`chmod`** \+ a qui√©n queremos a√±adir o quitar los permisos:

  * El usuario propietario: **`u`**.
  * El grupo, **`g`**.
  * El resto de usuarios, **`o`**.
  * Para todos, **`a`**.



Por ejemplo, para a√±adir permisos de ejecuci√≥n a nuestro usuario propietario usamos:
``` 
    chmod u+x nombre-del-archivo
    
```

Tambi√©n podemos cambiar al usuario propietario del archivo con el comando **`chown`**.
``` 
    sudo chown nuevo-usuario:grupo-usuarios nombre-del-archivo
    
```

### Links:

* [chmod - Wikipedia, la enciclopedia libre](https://es.wikipedia.org/wiki/Chmod)

### Comentarios:

* **Marcos Aguirre Mi√±arro** (19)

	
	despues de hacer varios cursos de platzi tengo la sensacion de que ser√≠a mas prouctivo poner un test de conocimiento por cada unidad del curso y no solo uno al final de todo el curso. Quizas si poner uno final que lo englobe todo‚Ä¶pero a√±adir un test por unidades que puedan ser consultados y practicados antes del test final‚Ä¶a√±ado este comentario a modo de sugerencia. Buen curso!

* **davidegc** (15)

	```
	    Permisos estan compuestos por 10 caracteres
	    - rw- rw- r-- 
	    
	    1er caracter corresponde al tipo de archivo
	    '-' = archivo
	    'd' = directorio
	    'l' = enlace simb√≥lico
	    
	    Asignaci√≥n de permisos en grupos de 3
	    'u' = usuarios (corresponde caracter del 2al4)
	    'g' = grupos (corresponde caracter del 5al7)
	    'o' = otros (corresponde caracter del 8al10)
	    'a' = todos
	    
	    Tipo de permisos
	    'r' = lectura
	    'w' = escritura
	    'x' = ejecuci√≥n
	    '-' = sin permiso
	    
	    '+'a√±ade permisos
	    '-'quita permisos
	    
	    Formato octal
	    '0' = (0+0+0) = Sin permisos = ---
	    '1' = (0+0+1) = Ejecuci√≥n = --X
	    '2' = (0+2+0) = Escritura = -w-
	    '4' = (4+0+0) = Lectura = r--
	    '7' = (4+2+1= = Eje, Esc, Lec = rwx
	    
	    chmod | cambiar permisos (chmod u-r archivo.txt), forma rapida asignar permisos a todos 'chmod +x'
	    chown | (Change Owner), cambia la propiedad d
	    
	    
	```

	* **ronaldLayalaG** (2)

		
		Gracias por el resumen David.

	* **franktonyfrias** (1)

		
		¬°grande David!

	* **Javier Avil√©s** (1)

		
		Buen resumen!

* **sebastian aldana** (10)
![](https://www.redeszone.net/app/uploads-redeszone.net/2017/06/Permisos-basicos-CHMOD.png)

* **maria-del-carmen-rodriguez** (6)
![Que-es-el-valor-umask-en-linux-730x430.jpg](https://static.platzi.com/media/user_upload/Que-es-el-valor-umask-en-linux-730x430-b1d20bfb-0468-4a18-bc79-c02277aab9c9.jpg)

* **sebastian aldana** (6)
![](https://i2.wp.com/cd1.eju.tv/wp-content/uploads/2014/05/Permisos-notacion-simbolica.jpg)

* **oscarvale01** (4)

	
	Recomiendo mucho leer primero la descripci√≥n que esta debajo del v√≠deo, analizar como puedas entenderlo y luego ver el v√≠deo, de esa forma tendr√°s una mejor retenci√≥n.

* **c3tuxpo2018** (4)

	
	UGO
	
	  * Usuario
	  * Grupos
	  * Otros  
	Permisos
	  * 1 = X = ejecuci√≥n
	  * 2 = W= escritura
	  * 4 = r = lectura
	
	

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

	
	RESUMEN DE LA CLASE  
	|  
	**Interacci√≥n con archivos y permisos**  
	|  
	Permisos  
	|  
	Cuando ejecutamos `ls- l` podemos ver los permisos de un archivo de esta manera: `-rwxrw-r--.`.  
	|  
	El primer caracter puede ser:  
	"-" = archivo  
	"d" = directorio  
	"l" = Enlace simb√≥lico  
	|  
	A partir de aqu√≠ tenemos los permisos en grupos de 3: el primer grupo para el usuario creador del archivo, el segundo para el grupo al que pertenece el usuario y el tercero para otros usuarios del sistema. Si encontramos un ‚Äú-‚Äù en el lugar del permiso significa que tal permiso no existe.  
	|  
	Comandos  
	|  
	|  
	**chmod** : Change Mode, cambia los permisos de un archivo.  
	|  
	Puede usarse con letras:  
	|
	``` 
	    chmod u+r archivo
	    chmod g-w archivo
	    chmod a+x archivo
	    
	    // u = usuario
	    // g = grupo
	    // o = otros
	    // a = todos
	    
	    // r = read
	    // w = write
	    // x = execute
	    
	    // + = a√±ade un permiso
	    // - = quita un permiso
	    
	```
	
	|  
	O puede usarse con n√∫meros  
	|
	``` 
	    chmod467 archivo
	    chmod666 archivo
	    chmod777 archivo
	    
	    // 1 = execute
	    // 2 = write
	    // 3 = writeand execute
	    // 4 = read
	    // 5 = readand execute
	    // 6 = readandwrite
	    // 7 = read, writeand execute
	    
	    // posici√≥n 1: usuario
	    // posici√≥n 2: grupo
	    // posici√≥n 3: otros
	    
	```
	
	|  
	|  
	**chown** : Change Owner, cambia la propiedad de un archivo  
	|
	``` 
	    chownusuario:grupoarchivo
	    
	```
	
	|  
	|  
	**sudo** : Nos permite ejecutar comandos como administrador

* **Luis Rodrigo Alvarez Herrera** (4)

	
	Pueden ver los grupos usando el comando
	``` 
	    groups  "tu_usuario"
	    
	    Sin el usuario te muestra los grupos
	    
	```

* **Deivis Marquez Barrios** (2)

	
	Permisos en linux  
	u g o
	
	u usuario propio  
	g grupo del usuario  
	o otros todos los demas
	
	r w x
	
	r read leer  
	w write escribir  
	x execute ejecutar
	
	Permisos bit
	
	0 ninguno  
	1 ejecutar  
	2 exscribir  
	4 leer
	
	Ejemplo
	
	## u g o  
	r 4 4 0
	
	## x 1 1 0
	
	## w 2 0 0
	
	7 5 0
	
	![](http://s.culturacion.com/wp-content/uploads/2010/12/008-permisos-357x300-copy.jpg)

* **dbzdavidbaez** (2)

	
	Entendiendo los permisos  
	r=Lectura  
	w=escritura  
	x=ejecuci√≥n  
	Tres primeros para el usuarios  
	Tres siguientes para el grupo  
	Tres siguientes para otros usuarios  
	chmod ugoa (permisos u=usuario g=grupo o= otros a=para todos)  
	Formato octal  
	\- = 0  
	x = 1  
	w = 2  
	r = 4  
	chown (Cambiar propietario)
	``` 
	    ls -l
	    chmod u+x --se le agrega permiso de ejecucion al usuario
	    chmod g-w --se le quita permiso de escritura al grupo
	    chmod +wx --se le agrega permiso de ejecucion a todos
	    sudo chown root:root archivo.txt --cambio de propietario
	    sudo chown root:archivo.txt --cambio de propietario
	    
	```

* **Paul Manrique** (1)

	
	Este es uno de los temas mas complejos, a la hora de otorgar privilegios a las personas, sobre los archivos.  
	Analizando un poco este tema, aqu√≠ est√°n las posibles combinaciones:  
	**X W R**  
	1 2 4 = **7** (partiendo con full privilegios)
	
	1 0 0 = **1** = _**X‚Äì**_  
	0 2 0 = **2** = _**-W-**_  
	1 2 0 = **3** = _**XW-**_  
	0 0 4 = **4** = _**‚ÄìR**_  
	1 0 4 = **5** = _**X-R**_  
	0 2 4 = **6** = _**-WR**_

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Muy bueno los permisos a los archivos.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Excelente los permisos: usuario, grupo, otros usuarios y todos.

* **Andres Roberto Coello Goyes** (1)

	```
	    [ec2-user@ip-172-31-37-115 ~]$ ls -l
	    total 8
	    drwxrwx--- 10 root     root     4096 Feb 2305:55 api-next-carreta
	    drwxrwxr-x  5 ec2-user ec2-user 4096 Feb 2017:21 aws-platzi-python
	    [ec2-user@ip-172-31-37-115 ~]$ cd api-next-carreta
	    bash:cd: api-next-carreta: Permission denied
	    [ec2-user@ip-172-31-37-115 ~]$
	    
	    
	```

* **jorge-gianareas** (1)

	
	Tambi√©n podemos cambiar al usuario propietario del archivo con el comando chown.
	
	sudo chown nuevo-usuario:grupo-usuarios nombre-del-archivo

* **jorge-gianareas** (1)

	
	Por ejemplo, para a√±adir permisos de ejecuci√≥n a nuestro usuario propietario usamos:
	
	chmod u+x nombre-del-archivo

* **jorge-gianareas** (1)

	
	  * = 0  
	x = 1  
	w = 2  
	r = 4  
	Por lo tanto, los permisos de nuestro archivo de ejemplo ser√≠an: 7 (1+2+4) 6 (0+2+4) 4 (0+0+4).
	
	
	
	Para cambiar los permisos de un archivo o directorio podemos usar el comando chmod + a qui√©n queremos a√±adir o quitar los permisos:
	
	El usuario propietario: u.  
	El grupo, g.  
	El resto de usuarios, o.  
	Para todos, a.

* **jorge-gianareas** (1)

	
	Los grupos nos ayudan a darle los mismos permisos a diferentes usuarios sin necesidad de asignarlos a cada uno individualmente. Todos los usuarios que pertenezcan al grupo tendr√°n los mismos permisos.
	
	Si en vez de estas letras encuentras un guion significa que ese usuario o grupo de usuarios no tiene permiso para esa acci√≥n en particular.
	
	Por ejemplo: -rwxrw-r-- nos indica que trabajamos con un archivo. Todos los usuarios del sistema tienen permisos de lectura. El usuario creador y su grupo tienen permiso de escritura. Y solo el usuario creador puede ejecutar el archivo.
	
	Tambi√©n podemos encontrar estos permisos como 3 n√∫meros del 1 al 7. Estos n√∫meros son la suma de los 3 caracteres de permisos para cada usuario o grupo.

* **jorge-gianareas** (1)

	
	El primer car√°cter nos indica si tenemos un archivo (-), enlace simb√≥lico (l) o directorio (d).
	
	Los siguientes caracteres se dividen en grupos de 3: lectura ¬Æ, escritura (w) y ejecuci√≥n (x). El primer grupo son los permisos del usuario que cre√≥ ese archivo, el segundo para el grupo al que pertenece este usuario y el tercero para cualquier otro usuario de tu sistema operativo

* **jorge-gianareas** (1)

	
	Con el comando ls -l podemos observar la lista de archivos de nuestro directorio actual con informaci√≥n un poco m√°s detallada. El primer campo nos indica los diferentes permisos para cada archivo o directorio. Por ejemplo: -rwxrw-r‚Äì.

* **Emmanuel Sosa Reyes** (1)

	
	No sab√≠a ese truco de acortar lo del sistema octal. Muy bueno.

* **Sebastian Marin** (1)

	
	Muy buena clase, los permisos son muy importantes para fortalecer nuestro sistema y darle mayor seguridad.

* **Jos√© Tuzinkievicz** (1)

	
	Qu√© pasa si un archivo tiene permisos de usuario m√°s restrictivos que su grupo? Se tienen en cuenta los permisos del usuario o los del grupo?

* **Daniel Giovanny Ochoa Torres** (1)

	
	excelente, no sabia que se podia permisos solo indicando al que quiero modificar‚Ä¶ solo conocia con los numeros

* **diegohernanvillalobos** (1)

	
	Pinta bien eh!

* **JairoRa** (1)
Cuanto es el tiempo exacto en que se guarda la contrase√±a de root en memoria?

	* **Erik Ochoa (Platzi)** (1)

		
		Seg√∫n leo en [este link](https://askubuntu.com/questions/190311/sudo-credential-caching-on-by-default) son 5 minutos.

* **rubeneh88** (1)
Que tal compa√±eros, e realizado la instalaci√≥n tal cual sale en el v√≠deo y varias veces pero tengo el inconveniente que a la hora que nec...

	* **Erik Ochoa (Platzi)** (1)

		
		Toma en cuenta que en la primer imagen est√° pidiendo por el password del usuario _rubeneh_ no del usuario _root_ a diferencia de la segundo imagen. Espero eso te ayude con tu problema.

* **Denis Cordero** (1)
Alguien sabe que significa la @ -rwxrwxrwx@ 1 root staff 65793 Jul 18 11:01 denis.jpeg

	* **Eduardo Rodriguez Yapur** (2)

		
		En esta clase del Curso de Terminal y Lineas de Comandos se explica muy bien esa parte: <https://platzi.com/clases/1276-terminal/11196-usuarios-y-permisos/>

## 0080. Conociendo las terminales en linux

### Descripci√≥n:


Las distribuciones de Linux para servidores no incluyen interfaz gr√°fica, ya que consumen muchos recursos. Esto significa que siempre vamos a trabajar desde la terminal.

Tendremos disponibles 6 terminales virtuales a las que podemos entrar o salir con las teclas **`Ctrl + Alt + Fx`**. Tambi√©n podemos usar el comando **`chvt`**. La s√©ptima terminal es la interfaz gr√°fica, as√≠ que en este caso no disponemos de ella.

Cada usuario activo en nuestro sistema operativo crea una nueva conexi√≥n. Podemos ver todas estas conexiones con los comandos **`who`** y **`w`** (este √∫ltimo nos da un poco m√°s de informaci√≥n).

Para ver todos los procesos que corren en el sistema podemos usar el comando **`ps`**. Para filtrar los procesos y ver √∫nicamente las conexiones de los usuarios usamos **`ps -ft tty`**.

Este comando nos muestra el identificador de cada proceso. Para terminarlo podemos usar el comando **`kill -9 PID`**.

### Comentarios:

* **sebastian aldana** (7)
![](https://i.blogs.es/c66c38/terminal/450_1000.png)

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (5)

	
	RESUMEN DE LA CLASE  
	|  
	**Conociendo las terminales en linux**  
	|  
	Terminales f√≠sicas: Est√°n enumeradas del 1 al 6, siendo la s√©ptima la que est√° potencialmente destinada a la interfaz gr√°fica  
	|  
	**Comandos**  
	|  
	**chvt** : Cambia de terminal  
	**tty** : Muestra la terminal actual  
	**who** : Muestra los usuarios conectados a nuestro sistema  
	**w** : Hace lo mismo que el comando **who** pero muestra m√°s informaci√≥n  
	**ps** : Muestra los procesos corriendo. Con los modificadores **-ft** y **tty** podemos filtrar para ver las conexiones de los usuarios  
	**kill** : Mata un proceso. Con el modificador **-9** fuerzo el cierre del mismo

* **Luis Rodrigo Alvarez Herrera** (4)

	
	Mi resumen.
	
	**tty** : podemos ver en la terminal en la que estamos  
	**chvt #** : podemos cambiar entre terminales virtuales colocando el numero en #  
	**w** : lista las conexiones existentes en las diferentes terminales virtuales ademas de dar informacion de recursos usados  
	**who** : es una variante de w, pero con menos datos  
	**ps** : lista los procesos activos, si se usa la opcion -ft tty1 visualiza los procesos en la terminal 1  
	**kill ‚ÄúPID‚Äù** : mata el Id de proceso seleccionado

* **Alejandro Jimenez** (3)

	
	tty en las terminales significa ‚Äú **t** ele **ty** pewriter‚Äù, en sus inicios las terminales se conectaban con m√°quinas de escribir remotas y se qued√≥ es nombre para las virtuales.

	* **xavier-sebastian-vaca-ordonez** (1)

		
		Muy parecido al concepto de [terminal tonta](https://es.wikipedia.org/wiki/Terminal_tonta)

* **davidegc** (3)

	
	Para identificar los procesos y las consolas que tenia activas utilice el comando
	``` 
	    ps -fa
	    
	    
	```

* **Emerson Lino Yurivilca Ricaldi** (2)

	
	Muy interesante el trabajo y administraci√≥n de consolas mediante tty.

* **dbzdavidbaez** (2)

	
	Entendido  
	Del 1 al 6 son consolas  
	la 7 es para interfaz grafica
	``` 
	    crtl + alt +Fx
	    chvt n -- Cambiar de consola 
	    tty -- Para saber enque consola estoy
	    w --Verificar que consolas hay abiertas y sus usuarios
	    who --Revisar quien esta conectado
	    ssh localhost --Conectarse por ssh
	    ps --Procesos del sistema
	    ps -ft tty1 --Proceso filtrados tty1
	    kill n --Mata proceso n y pide confirmacion
	    kill -9 n --Mata proceso n y no pide confirmacion por el -9
	    
	```

* **ramirobga** (2)

	
	este capitulo es muy importante‚Ä¶ y siento que no me quedo claro lo que trato de explicar el instructor‚Ä¶ creo que se puede mejorar mucho esta explicacion y utilizacion.

	* **Kevin Javier Morales (Platzi)** (1)

		
		Qu√© fue lo que no entendiste?
		
		Tambi√©n recuerda que puedes ver el video las veces que sean necesarias para entender los temas vistos en la clase üòÉ

	* **ramirobga** (1)

		
		aclare el concepto buscando informacion en youtube.

* **asanchez2091** (2)

	
	Excelente video me esta sirviendo como repaso del curso de terminal y linea de comandos

* **hectormauriciogarzoncastillo** (2)

	
	Buenas Noches,  
	Eso quiere decir que solo se podran conectar 6 usuarios al tiempo, cada uno desde una terminal?

	* **c3tuxpo2018** (4)
Linux es multiusuario, las consolas a las que se acceden con las teclas ctrl alt f1 hasta el f6 son para uso local, no hay relacion con el numero de usuarios conectados a un servidor, son solo el numero de consolas disponibles de manera local desde el servidor, osea frente al servidor, ahora bien el servidor puede recibir cualquier cantidad de usuarios conectados al servidor de manera remota via shh o telnet o ftp etv, espero haberte colaborado con tu pregunta.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Muy interesante la clase, no sabia de las pantallas tty que se podian trabajar en la consola.

* **Daniel Mej√≠a Benjumea** (1)

	
	Cuando uso w ps -ft me aparecen algunos procesos de root, esto es por que utilic√© el comando chvt con sudo? gracias!

* **bixhiic** (1)

	
	cuando utilice el comando chvt 3 me pidio usuario y contrase√±a y no puedo salir de alli ni volver‚Ä¶ la contrase√±a no me la acepta no se que hacer‚Ä¶ alguien sabe?

	* **juancapote** (1)

		
		probaste con el ctrl + alt +Fx cierto? con eso deber√≠as poder cambiarte independiente si te esta o no solicitando credenciales la terminal donde estas

* **Kevin Jefferson Lopez De la O** (1)

	
	Mi sistema operativo es Linux Mint, me conecte con una terminal con el comando: sudo chvt -#, pero de repente la laptop abri√≥ una nueva terminal, y solo estaba esa terminal(o sea la pantalla se puso toda negra y solo estaba la terminal) toda la interfaz gr√°fica se perdi√≥. Pero veo que al profesor no le sucedi√≥ lo mismo, no sabia como salir de esa terminal, as√≠ que ingrese el comando sudo shutdown -h now, para pagar la laptop, eso fue lo √∫nico que se me ocurri√≥ en ese instante. /Alguien sabe como hubiera regresado a la terminal en la que estaba sin a ver apagado la laptop?

	* **maria-del-carmen-rodriguez** (2)

		
		regresa a la terminal 1 con chvt 1

* **Alexander-Ponce-Castillo** (1)

	
	interesante y realidad que la mayoria de los servidores no tendran interfaz , solo consola una penita ala vez :c

* **jorge-gianareas** (1)

	
	Para ver todos los procesos que corren en el sistema podemos usar el comando ps. Para filtrar los procesos y ver √∫nicamente las conexiones de los usuarios usamos ps -ft tty.
	
	Este comando nos muestra el identificador de cada proceso. Para terminarlo podemos usar el comando kill -9 PID.

* **jorge-gianareas** (1)

	
	Cada usuario activo en nuestro sistema operativo crea una nueva conexi√≥n. Podemos ver todas estas conexiones con los comandos who y w (este √∫ltimo nos da un poco m√°s de informaci√≥n).

* **jorge-gianareas** (1)

	
	Las distribuciones de Linux para servidores no incluyen interfaz gr√°fica, ya que consumen muchos recursos. Esto significa que siempre vamos a trabajar desde la terminal.
	
	Tendremos disponibles 6 terminales virtuales a las que podemos entrar o salir con las teclas Ctrl + Alt + Fx. Tambi√©n podemos usar el comando chvt. La s√©ptima terminal es la interfaz gr√°fica, as√≠ que en este caso no disponemos de ella.

* **Sebastian Marin** (1)

	
	Muy importante. La verdad no sabia nada sobre el comando tty.  
	gracias

* **Jaziel David Flores Rodr√≠guez** (1)

	
	Al querer conectarme por ssh a mi propia maquina virtual me dice que:  
	ssh: to connect host localhost port 22: Conection refused

	* **Emmanuel Sosa Reyes** (3)

		
		Probablemente tu servidor no tenga instalado el servicio de ‚Äúopen-ssh-server‚Äù. Puedes instalarlo tecleando en tu consola: apt-get install open-ssh-server.

* **pablo-polanco** (1)

	
	Hola quiero saber algo puedo hacer una conexion remota que muestre solo una tty grafica.  
	Me explico quiero ejecutar una apliacion que mostrara una informacion y deseo solo ejecutarla en servidor y configurar los cliente que puedan acceder remoto y solo vean esa app que esta corriendo en un tty

	* **Julio Andres Lesmes Gomez** (2)

		
		Hola Pablo,  
		mira existe [X11](https://es.wikipedia.org/wiki/Sistema_de_ventanas_X) es un protocolo que permite le ejecuci√≥n de una aplicaci√≥n con interfaz gr√°fica de forma remota usando la terminal.
		
		**Configuraci√≥n en el servidor**  
		Deber√°s usar **SSH** para la conexi√≥n remota y configurar su archivo de configuraci√≥n.  
		Es buena practica generar un backup de los archivos de configuraci√≥n que van a ser modificados.  
		`cp /etc/ssh/ssh_config /etc/ssh/ssh_config.old`  
		con `nano /etc/ssh/ssh_config` se edita el archivo, se debe buscar los siguientes valor para remplazarlos.
		``` 
		    X11Forwardingno
		    #X11DisplayOffset 10
		    #X11UseLocalhost no
		    
		```
		
		para que queden as√≠:
		``` 
		    X11Forwardingyes
		    X11DisplayOffset 10
		    X11UseLocalhost  yes
		    
		```
		
		ahora para que los cambio queden guardados se debe reiniciar el servicio que ejecuta a SSH:
		``` 
		    systemctl restart sshd
		    
		```
		
		[aqu√≠ ](https://gist.github.com/AndresLesmesg/9a8e883bb660c1aca69b9bab3b7286d3) dejo un peque√±o script b√°sico para configurar X11 en un servidor de pruebas con ubuntu.  
		**Cliente Linux**  
		desde el cliente en una terminal para acceder deberas usar  
		`ssh -X usuario_servidor@direccion_ip`  
		ejemplo:
		``` 
		    ssh -X platzi@192.168.0.20
		    
		```

* **Daniel Hurtado** (1)

	
	No termino de comprender la raz√≥n de existir de las diferentes terminales, si tienen diferencias o no

	* **Kevin Javier Morales (Platzi)** (2)

		
		No hay mucha diferencia, no es m√°s que opciones para tener diferentes procesos o usuarios corriendo en una misma m√°quina usando cada una de esas terminales.
		
		Pueden ser muy √∫til cuando la interfaz gr√°fica de linux se cuelga por alguna raz√≥n y necesitas reiniciar.

* **DUFP** (1)
saben por que no me permite usar el comando ‚Äússh localhost‚Äù? estoy en una EC2 de aws.

* **Carlos_Jacob** (1)
quer√≠a saber si alguien tiene por all√≠ una infograf√≠a sobre comandos de ubuntu server? gracias

	* **Malalo** (1)

		
		Te puede servir la siguiente pagina:  
		[](https://blog.desdelinux.net/mas-de-400-comandos-para-gnulinux-que-deberias-conocer/)  
		Saludos! (Y)

* **Kevin Jefferson Lopez De la O** (1)
Mi sistema operativo es Linux Mint, me conecte con una terminal con el comando: sudo chvt -#, pero de repente la laptop abri√≥ una nueva t...

	* **osantiago770** (1)

		
		Regresando a la terminal anterior, para eso tenias dos opciones
		
		  1. Ingresabas en la terminal nueva y ejecutabas el comando chvt 8
		  2. Utilizar las teclas de acceso r√°pido: op2 - Ctrl+Alt+F8
		
		

## 0090. Manejo y monitoreo de procesos y recursos del sistema

### Descripci√≥n:


Para ver todos los procesos que corren en el sistema podemos usar el comando **`ps`**. Recuerda que puedes ver la documentaci√≥n de este comando con el comando **`man ps`**.

El comando **`grep`** nos ayuda a filtrar el resultado de un comando o archivo dependiendo de las palabras de cada l√≠nea. Para esto tambi√©n vamos a usar el **pipe** ( **`|`** ), un s√≠mbolo que nos ayuda a enviar el resultado de un comando a un segundo comando.

Por ejemplo, el comando **`ps aux | grep platzi`** imprime los procesos activos del sistema y, con ayuda del pipe, env√≠a la lista al comando grep para filtrar el resultado, mostrando √∫nicamente las l√≠neas con la palabra platzi.

### Links:

* [
  Pipe en Introducci√≥n a Terminal y L√≠nea de Comandos
](https://platzi.com/clases/1276-terminal/11193-pipe/)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (8)

	
	RESUMEN DE LA CLASE  
	|  
	**Manejo y monitoreo de procesos y recursos del sistema**  
	|  
	|  
	Comandos  
	|  
	**ps** : Muestra los procesos corriendo. Modificadores:
	
	  1. aux: Muestra todos los procesos
	
	
	
	**jobs** : Al igual que el comando anterior, muestra los procesos. A diferencia de ps, es un comando interno de la terminal  
	**fg** : Abre un proceso que estaba pausado  
	**nohup** : Genera un archivo llamado ‚Äúnohup.out‚Äù que muestra toda la informaci√≥n que produjo un proceso  
	**grep** : Nos ayuda a filtrar el resultado de un comando o el contenido de un archivo dependiendo de las palabras (o incluso expresi√≥n regular) que le indiquemos  
	|  
	|  
	S√≠mbolos especiales  
	|  
	"|" Pipe: Envia el standard output de un comando al standard input de otro.  
	"&" Ampersand: Envia un proceso al background  
	"./": Ejecuta un archivo

* **Emerson Cede√±o Salazar** (4)

	
	relacionado con este tema en particular considero muy √∫til la clase de [Procesos](https://platzi.com/clases/1276-terminal/11190-procesos-desde-la-terminal/) del curso de terminal de comandos üëåüèº

* **Gustavo Arana** (3)

	
	Cuando entres a la consola vi, para iniciar a editar y/o insertar texto presionas ‚Äúi‚Äù, para salir y grabar cuando termines ‚Äúctrl+c‚Äù, para guardar ‚Äú:wq‚Äù

* **dbzdavidbaez** (3)

	
	Entendido
	``` 
	    ps
	    ps aux --procesos corriendo enel SO
	    ps aux | grep dbz -- filtrar por dbz
	    vi dbz-- crear documento dbz
	    jobs --procesos que se estan ejecutando
	    fg --traer el proceso suspendido
	    ./script.sh -- ejecutar script
	    ./script.sh & -- ejecutar script y genera proceso especifico para el script
	    nohup ./script.sh -- genera una salida del resultado del script 
	    
	```

* **damanrique** (3)

	
	recomendable utilizar htop, muestra informacion mas sencilla y el consumo de cada recurso de la maquina
	
	instalaci√≥n: sudo apt-get install htop  
	ejecucion: htop

* **xavier-sebastian-vaca-ordonez** (2)

	
	La informacion de lo que significa cada parametro al ejecutar el comando ps aux
	
	USER: usuario con el que se ejecuta el proceso  
	PID: ID del proceso  
	%CPU: porcentaje de tiempo que el proceso estuvo en ejecuci√≥n desde que se inici√≥  
	%MEM: porcentaje de memoria f√≠sica utilizada  
	VSZ: memoria virtual del proceso medida en KiB  
	RSS: ‚Äúresident set size‚Äù, es la cantidad de memoria f√≠sica no swappeada que la tarea a utilizado (en KiB)  
	TT: terminal que controla el proceso (tty)  
	STAT: c√≥digo de estado del proceso (informaci√≥n detallada m√°s adelante)  
	STARTED: fecha de inicio del proceso  
	TIME: tiempo de CPU acumulado  
	COMMAND: comando con todos sus argumentos

* **Luis Rodrigo Alvarez Herrera** (2)

	
	Mi resumen:  
	PS vemos los procesos del sistema, con el par√°metro aux vemos mas procesos  
	| ‚ÄúPipe‚Äù permite mandar la salida del anterior comando al siguiente  
	grep : Permite identificar una cadena  
	man comando: permite ver el manual del comando  
	./ permite ejecutar un script siempre y cuando este tenga permisos de ejecuci√≥n  
	nohup: permite mandar la salia del script a un .out y seguir usando la consola

* **willeonardo19** (2)
Hola, tengo una duda, al utilizar el comando ps aux, no puedo volver a la parte superior para ver los encabezados de las columnas del res...

	* **julio_cesar** (4)

		
		Hola, el problema que tienes se debe que la lista de procesos que est√°n en ejecuci√≥n es mayor al numero de lineas disponible en la pantalla.
		
		una soluci√≥n para poder ver el encabezado es colocar una pausa  
		ej: ps aux | more
		
		ahora si quieres revisar con detalle los procesos que estan en ejecuci√≥n, te recomiendo lo siguiente, ejecutar el comando y la salida del comando enviar a un archivo y despu√©s revisar el archivo con detalle.
		
		Ej: ps aux > procesos.txt
		
		para ver el archivo puedes usar cat, more
		
		cat procesos.txt o more procesos.txt
		
		Saludos

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Muy interesante la ejecuci√≥n en segundo plano y el poder guardar la informaci√≥n mediante nohup.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Bastante interesante y muy utiles estos comandos.

* **osantiago770** (1)

	
	Si la actividad que se quiere realizar es muy breve, no es necesario cerrar la sesi√≥n de vi, solo te cambias a modo comando y escribes:  
	:!{comando} y este se ejecutara en tu terminal

* **jorge-gianareas** (1)

	
	Por ejemplo, el comando ps aux | grep platzi imprime los procesos activos del sistema y, con ayuda del pipe, env√≠a la lista al comando grep para filtrar el resultado, mostrando √∫nicamente las l√≠neas con la palabra platzi.

* **jorge-gianareas** (1)

	
	El comando grep nos ayuda a filtrar el resultado de un comando o archivo dependiendo de las palabras de cada l√≠nea. Para esto tambi√©n vamos a usar el pipe (|), un s√≠mbolo que nos ayuda a enviar el resultado de un comando a un segundo comando.

* **jorge-gianareas** (1)

	
	Para ver todos los procesos que corren en el sistema podemos usar el comando ps. Recuerda que puedes ver la documentaci√≥n de este comando con el comando man ps.

* **FlapJack** (1)

	
	Esta clase me ha sido muy √∫til ya que trabajo con RedHat y la opci√≥n de tener procesos en background y luego tr√°elos es genial. Muchas gracias.

* **aleonrodriguez592** (1)

	
	Hola, al momento de escribir ("#/bin/bash - echo ‚Äúhola‚Äù) el VI no me permite guardar, me doy cuenta que en la parte baja de la pantalla donde indica ‚Äúinsertar‚Äù este desaparece y escribe :wq pero la terminal NO me permite guardar para pasar a la linea de comandos como puedo hacerlo? muchas gracias por responder

	* **Omar Dario Yepes Cardona** (1)

		
		Hola, a mi tambien me pasaba lo mismo y encontre que es por la configuracion del teclado, al realizar la instalacion del servidor probe varias opciones de teclados pero ninguna se ajustaba, finalmente me conecte via ssh a este equipo y de esta manera puedo ingresar los comandos y guardar el script.

	* **jeydvc** (1)

		
		Hola, cuando creas un archivo con VI tienes que presionar la tecla ‚ÄúI‚Äù y ah√≠ te aparece abajo el ‚ÄúINSERT‚Äù, y luego para guardar presionas la tecla Esc y para guardar y salir tienes que digitar ‚Äú:qw‚Äù y ah√≠ te guarda.
		
		Espero te sirva de ayuda.

* **stevenoner** (1)

	
	Mis apuntes:
	
	#ps  
	Verifico los procesos
	
	#jobs  
	Verifico procesos detenidos
	
	#Ctrl + Z  
	Pongo en pausa una tarea
	
	#fg  
	Ingreso a la √∫ltima tarea realizada.
	
	#&  
	Oculta la salida del script  
	#Ejemplo:  
	sh [script.sh](http://script.sh) &

* **Sebasti√°n C√≥rdoba Omen** (1)

	
	ctrl +z , jobs y fg son muy √∫tiles, antes era muy tedioso tener que salir buscar un archivo regresar para volverlo a editar.

* **asanchez2091** (1)

	
	excelente video esta muy bien explicado felicidades Jhon Edison Castro Sanchez

* **davidegc** (1)

	
	La parte de los proceso ser√≠a como el Administrador de tareas en windows?

	* **Kevin Javier Morales (Platzi)** (1)

		
		S√≠, puedes verlo de esa manera, aunque sin la facilidad que te da windows para cerrar o matar procesos.

	* **hanspereira** (2)

		
		Si quieres algo mas similar al Administrador de tareas de windows puedes usar el comando htop  
		Aunque en algunos sistemas tendr√°s que instalarlo con:
		``` 
		    sudo apt-get install htop
		    
		```
		
		Te permite monitorizar los procesos en tiempo real, filtrar su consumo por diferentes recursos (RAM, CPU, tiempo de ejecuci√≥n, etc‚Ä¶), usar el rat√≥n para seleccionar elementos e incluso personalizar su interfaz.
		
		Tienes un mont√≥n de documentaci√≥n en Internet al respecto.

* **Kevin Jefferson Lopez De la O** (1)
Es necesario utilizar el editor vi ? Utilice el editor nano, ya que es mas sencillo de utilizar, pero no funciono :c tie...

	* **Gabriel De Andrade (Platzi)** (1)

		
		Si, porque con VI es que se puede hacer el Stop del proceso, es una de sus caracter√≠sticas, nano termina el proceso y ya üòõ

* **Sara Valenzuela** (0)
Hola! cuando creo el script no puedo escribir, me sale lo mismo: ‚ÄúNo hay ninguna cadena bajo el cursor‚Äù

	* **jeydvc** (3)

		
		Hola, cuando creas un archivo con VI tienes que presionar la tecla ‚ÄúI‚Äù y ah√≠ te aparece abajo el ‚ÄúINSERT‚Äù, y luego para guardar presionas la tecla Esc y para guardar y salir tienes que digitar ‚Äú:qw‚Äù y ah√≠ te guarda.
		
		Espero te sirva de ayuda.

## 0100. Monitoreo de recursos del sistema

### Descripci√≥n:


El comando **`top`** nos permite interactuar con una interfaz gr√°fica que nos muestra informaci√≥n espec√≠fica del sistema operativo: cantidad de usuarios, tareas corriendo o ‚Äúdurmiendo‚Äù, identificadores de los procesos, entre otras.

Para ver la informaci√≥n de la CPU podemos usar el comando **`cat /proc/cpuinfo | grep"processor"`**. Recuerda que Linux hace diferencia entra may√∫sculas y min√∫sculas, pero puedes usar el comando **`grep -i`** para filtrar sin estas diferencias.

Para ver la informaci√≥n de la memoria podemos usar el comando `free` o, para que la informaci√≥n sea m√°s f√°cil de leer, `free -h`. Y para ver el uso del disco duro est√° el comando **`du`** o **`du -hsc`**.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (7)

	
	RESUMEN DE LA CLASE  
	|  
	**Monitoreo de recursos del sistema**  
	|  
	**Comandos**  
	|  
	|  
	**top** : Muestra la siguiente informaci√≥n del sistema:
	
	  * **load average (carga promedio)** : Provee una representaci√≥n en n√∫meros del 1 al n√∫mero de procesadores que tenga nuestro servidor del uso de los mismos.
	  * Uso de la memoria
	  * Cantidad de usuarios
	  * Uso del CPU
	  * Procesos
	  * Etc
	
	
	
	**free** : Me muestra informaci√≥n sobre la memoria de mi sistema. Con el modificador **-h** la informaci√≥n es m√°s legible para un humano  
	**du** : Muestra informaci√≥n sobre el disco duro. Con el modificador **-hsc** y un directorio especificado muestra el tama√±o de ese directorio  
	**htop** : Funciona como top pero funciona de forma m√°s intuitiva  
	|  
	**Comandos √∫tiles**  
	|  
	`cat /proc/cpuinfo | grep "processor"`: Muestra informaci√≥n sobre el CPU  
	`sudo ps auxf | sort -nr -k 3 | head -5`: Muestra los 5 procesos que m√°s uso hacen del CPU  
	`sudo ps auxf | sort -nr -k 4 | head -5`: Muestra los 5 procesos que m√°s uso hacen de la memoria RAM

* **damanrique** (5)

	
	recomendable utilizar htop, muestra informacion mas sencilla y el consumo de cada recurso de la maquina
	
	instalaci√≥n: sudo apt-get install htop  
	ejecucion: htop

	* **Juan Rafael De Leon Osorio** (1)
Yo uso htop y es mucho mejor üòäüòä

* **dbzdavidbaez** (3)

	
	Entendido y muy √∫til
	``` 
	    top
	    cat /proc/cpuinfo | grep -i ""Processor""
	    cat /proc/cpuinfo | grep ""processor""
	    free --memoria
	    free  -h -- memoria en un mejor formato
	    du --disco duro
	    du -hsc /carpeta
	    sudo ps auxf | sort -nr - k 3 | head -5 --revisar los 5 proceso que consumem mas cpu
	    sudo ps auxf | sort -nr - k 4 | head -5 --revisar los 5 proceso que consumem mas RAM
	    htop
	    
	```

* **Emerson Lino Yurivilca Ricaldi** (2)

	
	Muy √∫til la informaci√≥n del Load Average, el valor varia por n√∫mero de procesador.  
	Y las variables se miden:  
	Primer valor: **cada minuto**.  
	Segundo valor: **cada 5 minutos**.  
	Tercer valor: **cada 15 minutos**.

* **Danilo Pazos** (2)

	
	Excelente htop, lo uso a diario

* **Kevin Jefferson Lopez De la O** (2)

	
	Excelente!!! üòÑ

* **xavier-sebastian-vaca-ordonez** (2)

	
	sort  
	Ordenar l√≠neas de los archivos de entrada a partir de criterios de ordenaci√≥n. Los espacios en blanco son tomados por defecto como separadores de campo.
	
	Su sintaxis es de la forma:  
	sort [opciones] [archivo]
	
	Alguno de sus opciones son:
	
	-b Ignora espacios en blanco precedentes.
	
	-d Ordena ignorando todos los caracteres salvo caracteres letras, n√∫meros y espacios.
	
	-f considera iguales las may√∫sculas y min√∫sculas.
	
	-n ordena por valor num√©rico.
	
	-r invertir√° el orden.
	
	-k n1,[n2] Especifica un campo como clave de ordenaci√≥n, comienza en n1 y acaba en n2; los n√∫meros de campo empiezan en 1. En versiones antiguas exist√≠a la opci√≥n +1, la cual indicaba a sort que deb√≠a ordenarse tomando la segunda columna de datos, us√°ndose +2 para la tercera y as√≠ sucesivamente, (los n√∫meros de campo empezaban en 0).
	
	-o salida.txt Escribir el resultado en salida.txt.
	
	<https://francisconi.org/linux/comandos/sort>

	* **ely** (1)

		
		Buen Aporte

* **stevenoner** (2)

	
	Les recomendar√≠a el comando sar para verificaci√≥n de memoria, cpu, red.
	
	<h1>sar -r 1 10</h1>
	
	Verifica el detalle de la memoria
	
	<h1>sar -n ALL</h1>
	
	Verifica el detalle del tr√°fico de red
	
	<h1>sar -u</h1>
	
	Verifica el detalle del CPU.

	* **dbzdavidbaez** (1)

		
		Muy interesante
		``` 
		    sudo apt install sysstat
		    systemctl enable sysstat
		    systemctl start sysstat
		    
		    sar 25
		    
		```

* **asanchez2091** (2)

	
	Muy buena esta clase aqu√≠ coloco mi resumen:
	
	**Considero muy importante tener bien claro: El comando top nos permite interactuar con una interfaz gr√°fica que nos muestra informaci√≥n especifica del sistema operativo: cantidad de usuarios tareas corriendo o durmiendo, identificando de los procesos entre otros.**
	
	cual ejecutamos el comando top se resalto mucho en esta clase:
	
	  * **load average:** se refiere a la cpu.  
	pero antes debemos revisar tambi√©n:  
	cat /proc/cpuinfo/ | greo -i "Processor"  
	Esto nos permitira conocer los procesos que tenemos corriendo
	
	
	
	otros aspectos a destacar de **load average:** 2,00 si tienes 4 procesadores y aqui se muestra 2 quiere decir que te estas comiendo el 50% de los recursos del server.
	
	Ahora es muy importante conocer de **load avergare: 0,00 0,00 0,00**  
	las variables mostradas en cero tambi√©n son mediciones que se hacen cada 5, 10 y 15 minutos respectivamente.

* **Dante Castillo Z.** (1)

	
	con esos dos comandos uno puede saber que procesos consumen mas recursos y que procesos consumen mas memoria.
	
	Procesos que mas consumen.CPU  
	sudo ps auxf | soft -nr -k 3 | head -5
	
	Procesos que mas consumen memoria   
	sudo ps auxf | soft -nr -k 4 | head -5

* **EdwardPL** (1)

	
	Muchas gracias , muy util la explicacion

* **Sebastian Camilo Herrera Lopez** (1)

	
	Excelente explicacion, hay un mundo de combinaciones en los comandos.

* **IngAntonyF** (1)

	
	excelentes explicaciones,

* **Jairo Andres Grajales Salinas** (1)

	
	Muy bien

* **Carlos Bustos** (1)

	
	El comando  
	$ du -sch .[!.]* * |sort -h
	
	incluye archivos y directorios ocultos (.archivo - .directorio)

* **jorge-gianareas** (1)

	
	Para ver la informaci√≥n de la memoria podemos usar el comando free o, para que la informaci√≥n sea m√°s f√°cil de leer, free -h. Y para ver el uso del disco duro est√° el comando du o du -hsc.

* **jorge-gianareas** (1)

	
	Para ver la informaci√≥n de la CPU podemos usar el comando cat /proc/cpuinfo | grep ‚Äúprocessor‚Äù. Recuerda que Linux hace diferencia entra may√∫sculas y min√∫sculas, pero puedes usar el comando grep -i para filtrar sin estas diferencias.

* **jorge-gianareas** (1)

	
	El comando top nos permite interactuar con una interfaz gr√°fica que nos muestra informaci√≥n espec√≠fica del sistema operativo: cantidad de usuarios, tareas corriendo o ‚Äúdurmiendo‚Äù, identificadores de los procesos, entre otras.

* **Jhordan Willy Hern√°ndez Casta√±eda** (1)

	
	Excelente

* **yorisnavas** (1)

	
	excelente, video no sabia como monitorear los procesos en linux.

* **c3tuxpo2018** (1)

	
	Keysensitive es el termino para el atributo del sistema operativo Gnu/Linux que le permite distinguir las MAY√öSCULAS de las min√∫sculas, esta propiedad se debe tener muy en cuenta, pues como vimos en la clase basta que una letra este en may√∫scula para que el sistema la considere diferente Processor processor

	* **Luis √Ångel Cuandon Salazar** (1)

		
		case sensitive no?

* **hanspereira** (1)

	
	Me ha sido de mucha ayuda el tema del Load Average, llevo meses viendo el t√©rmino y simplemente usaba los indicadores gr√°ficos de htop, pero no sab√≠a como interpretar estos datos que te salen en un mont√≥n de sitios.

	* **upeguborja** (1)

		
		Incluso es un poco m√°s intrincado de lo que se explica. En realidad si hay 1 proceso en una maquina con 1 CPU durante suficiente tiempo el load ser√° 1, porque solo se puede ejecutar 1 proceso por core como lo explican aqu√≠ <https://peteris.rocks/blog/htop/> adem√°s de explicar de donde saca htop y otros procesos las metricas (del procfs) entre otros.

* **Andres Garc√≠a B.** (1)
como instalo el ‚ÄúMAN‚Äù?

	* **JairoRa** (2)

		
		Ya viene con el sistema operativo, recuerda que es en min√∫scula.

* **ismael2522** (1)
Hola. ¬øEn que parte del modulo esta la creaci√≥n de usuarios? Saludos.

	* **Carlos Jos√© Gonz√°lez Juan** (1)

		
		Video 17

# Instalaci√≥n y manejo de software en Linux

## 0110. An√°lisis de los par√°metros de red

### Descripci√≥n:


Una IP es un identificador √∫nico para los equipos que est√°n conectados a una red.

Las **IPs Privadas** se utilizan para identificar los dispositivos dentro de una red local. Por ejemplo: los dispositivos conectados en tu casa u oficina.

Las **IPs P√∫blicas** son la que se asignan a cualquier dispositivo conectado a Internet. Por ejemplo: los servidores que alojan tus sitios web, el router que te da acceso a internet, entre otros.

Si tu dispositivo tiene una IP p√∫blica significa que puede conectarse a otro que tambi√©n tenga una. Por esto mismo, no puede haber dos dispositivos con la misma IP p√∫blica.

Para encontrar la direcci√≥n IP de nuestros dispositivos podemos usar los comandos **`ifconfig`** en Linux y Mac o **`ipconfig`** en Windows. Tambi√©n podemos usar el comando **`ip a`**.

Para ver el nombre/identificador de nuestro equipo en todas las redes podemos usar el comando **`hostname`**. Tambi√©n podemos ver qu√© dispositivo nos permite acceso a Internet con el comando **`route -n`**.

Para identificar las IPs de diferentes dominios podemos usar el comando **`nslookup nombredominio.ext`**. Tambi√©n podemos usar el comando **`curl`** para realizar consultas a alg√∫n servidor.

### Links:

* [Curso de Redes de Internet](https://platzi.com/clases/redes/)

* [Postman | The Collaboration Platform for API Development](https://www.getpostman.com/)

* [
  Herramientas de desarrollo Backend: JSON Viewer y Postman en Curso de Prework: Buenas Pr√°cticas y Entorno de Desarrollo
](https://platzi.com/clases/1650-prework/21963-herramientas-de-desarrollo-backend-json-viewer-y-p/)

### Comentarios:

* **Jorvi** (7)

	
	**Parametros de Red  
	**
	
	Comandos para ver informaci√≥n de la interfaz de redes: ‚Äúifconfig‚Äù o ‚Äúip a‚Äù
	
	**Dato adicional:**  
	Loopback: La direcci√≥n ‚ÄúLoopback‚Äù nos ayuda a identificar los errores internos de nuestro proceso de red dentro del dispositivo. Al hacerle un ping a esta direcci√≥n deber√≠a responder, si no se diera, lo m√°s probable es que exista un problema interno.
	``` 
	    ip -4 a --> muestra las IPv4
	    ip -6 a --> muestra las IPv6
	    
	```
	
	-hostname --> nombre del equipo para ser identificado en la red
	
	  * route -n --> para ver la puerta predeterminada o dispositivo que permite la conexi√≥n  
	a internet.
	
	  * netstat -rn --> Para visualizar la tabla de rutas, equivalente a ‚Äúroute -n‚Äù
	
	
	
	
	**  
	NOTA:** Para algunos que tienen la versi√≥n de Centos m√≠nima y no les funciona los comandos  
	ifconfig, route o netstat, es por que no estan instalados los archivos ‚Äútool‚Äù, para  
	instalarlos ejecutar el comando: ‚Äúsudo yum install net-tools‚Äù
	
	-nslookup [google.com](http://google.com) \--> Para visualizar las ips del dominio.
	
	**Comandos para descargar**
	
	-curl --> Para conectarnos a un servidor web y descargar archivos  
	-wget --> Similar a curl, cumple la misma.

	* **Jair Sebastian Lozano Moron** (1)

		
		Gracias por la ayuda sobre las net-tools en centos!

* **juan-sebastian-otero** (5)

	
	Si quieres configurar en las tarjetas de red ip fijas o por dhcp, en ubuntu 18 debes usar la utilidad netplan:  
	Verificar el nombre de mis tarjetas de red:
	``` 
	    ip a
	    
	```
	
	Verificar si ya existe un archivo .yaml de configuraci√≥n
	``` 
	    ll /etc/netplan/ 
	    
	```
	
	Si no existe lo generamos
	``` 
	    sudo netplan generate
	    
	```
	
	Lo editamos
	``` 
	    vi /etc/netplan/<Mi arhivo.yaml> 
	    
	```
	
	Agregamos la informaci√≥n de la tarjeta que quiero cambiar despu√©s de ethernets, en este caso una por dhcp y otra est√°tica:
	``` 
	    # This file describes the network interfaces available on your system
	    # For more information, see netplan(5).
	    network:
	      version:2
	      renderer: networkd
	      ethernets:
	        enp0s3:
	          dhcp4:yes
	        enp0s8:
	          dhcp4:no
	          dhcp6:no
	          addresses: [192.168.56.110/24, ]
	          gateway4:192.168.56.1
	          nameservers:
	                  addresses: [8.8.8.8, 8.8.4.4]
	    
	```
	
	Aplico los cambios
	``` 
	    sudo netplan apply
	    
	```
	
	Verifico los cambios
	``` 
	    ip a
	    
	```

	* **Omar Flores Grimontt** (1)

		
		Con esta configuraci√≥n no tendr√≠as que cambiar nada desde la interfaz de administrador del router? O lo tomar√≠a autom√°ticamente?

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (5)

	
	RESUMEN DE LA CLASE  
	|  
	**An√°lisis de los par√°metros de red**  
	|  
	Existen dos tipos de direcciones IP: Privadas y P√∫blicas  
	|  
	|  
	Comandos  
	|  
	**ifconfig** : Interface Configuration, muestra las tarjetas de red que tenemos y su direccionamiento espec√≠fico  
	**ip a** : IP Address Show, muestra las direcciones IP  
	**hostname** : Como se identifica este equipo en la red  
	**route -n** : Muestra cual es el dispositivo que me permite conectarme a internet  
	**nslookup** : Muestra la direcci√≥n IP de un dominio determinado  
	**curl** : Realiza consultas a un servidor  
	**wget** : Permite descargar contenido de un servidor  
	|  
	|  
	Comandos √∫tiles  
	|  
	**ip -4 a** : Muestra las direcciones IPv4  
	**ip -6 a** : Muestra las direcciones IPv6

* **jorge-gianareas** (2)

	
	Una IP es un identificador √∫nico para los equipos que est√°n conectados a una red.

* **asanchez2091** (2)

	
	curl lo que hace b√°sicamente es emular un navegador pero solo los request

* **Luis Rodrigo Alvarez Herrera** (2)

	
	Mi Resumen:
	
	Top: muestra los procesos del sistema, consumo, memoria, promedio de uso, carga del sistema  
	free: muestra de forma mas detallada el uso de la memoria, con el parametro -h se le dice que sea human readable es decir lo coloca en GB o MB seguna sea el caso  
	Htop: este lo prefiero mas por encima de top es mas detallado y hasta con colores  
	du: genera un total del peso de una ruta, es como sabver cuanto pesa la carpera o archivos  
	df: vemos como esta montado el sistema y cuanto ocupa cada montaje
	
	Comando compuesto:
	
	sudo ps auxf | sort -nr -k 3 | head -5 : Por partes
	
	ps auxf : vemos los procesos del sistema, con sudo lo ahcemos con permisos de administrador  
	sort -nr -k 3 : Ordenar los resultados  
	head -5: Solo dame 5 resultados  
	Cada Pipe ‚Äú|‚Äù manda la salida de cada comando al siguiente

* **Mario Emiliano Gordon Pico** (2)
Me gusta mucho el.curso esta super interesante hasta ahora

* **Sebastian Camilo Herrera Lopez** (1)

	
	Comandos basicos pero muy utiles.

* **jorge-gianareas** (1)

	
	Si tu dispositivo tiene una IP p√∫blica significa que puede conectarse a otro que tambi√©n tenga una. Por esto mismo, no puede haber dos dispositivos con la misma IP p√∫blica.
	
	Para encontrar la direcci√≥n IP de nuestros dispositivos podemos usar los comandos ifconfig en Linux y Mac o ipconfig en Windows. Tambi√©n podemos usar el comando ip a.
	
	Para ver el nombre/identificador de nuestro equipo en todas las redes podemos usar el comando hostname. Tambi√©n podemos ver qu√© dispositivo nos permite acceso a Internet con el comando route -n.
	
	Para identificar las IPs de diferentes dominios podemos usar el comando nslookup nombredominio.ext. Tambi√©n podemos usar el comando curl para realizar consultas a alg√∫n servidor.

* **jorge-gianareas** (1)

	
	Las IPs Privadas se utilizan para identificar los dispositivos dentro de una red local. Por ejemplo: los dispositivos conectados en tu casa u oficina.
	
	Las IPs P√∫blicas son la que se asignan a cualquier dispositivo conectado a Internet. Por ejemplo: los servidores que alojan tus sitios web, el router que te da acceso a internet, entre otros.

* **dbzdavidbaez** (1)

	
	Entendido y poniendo en pr√°ctica
	``` 
	    ifconfig
	    ip a
	    ip -4a
	    ip -6a
	    hostname
	    route -n
	    nslookup google.com
	    curl hostname
	    wget dominio
	    
	```

* **Daniel Giovanny Ochoa Torres** (1)

	
	como puedo bajar una tarjeta de red?? es decir activarla e inactivarla?

	* **Luis Jeanpier Monserrate** (2)

		
		puedes hacerlo con el comando "ifconfig +interfazdered down o up"  
		por ejemplo ‚Äúifconfig enp0s3 down‚Äù y la activas nuevamente con ‚Äúup‚Äù

* **Marino Checo** (1)

	
	Creo que falto el traceroute nos ayuda ver por donde pasa nuestra solicitud a x dominio.

	* **Juan Jos√© Castro** (2)

		
		el comando traceroute es para otra cosa, es para verificar la ruta hacia un host destino
		
		Ejemplo :
		
		root@ubuntu-s-1vcpu-1gb-nyc1-01:~# traceroute [www.google.com](http://www.google.com)  
		traceroute to [www.google.com](http://www.google.com) (172.217.6.196), 30 hops max, 60 byte packets  
		1 159.65.224.254 (159.65.224.254) 2.202 ms 159.65.224.253 (159.65.224.253) 2.123 ms 3.601 ms  
		2 138.197.251.80 (138.197.251.80) 1.619 ms 138.197.251.84 (138.197.251.84) 1.583 ms 138.197.251.68 (138.197.251.68) 0.887 ms  
		3 138.197.244.1 (138.197.244.1) 0.936 ms 138.197.244.3 (138.197.244.3) 1.787 ms 138.197.244.5 (138.197.244.5) 0.868 ms  
		4 162.243.191.243 (162.243.191.243) 1.767 ms 162.243.191.241 (162.243.191.241) 1.500 ms 162.243.191.243 (162.243.191.243) 1.968 ms  
		5 * 108.170.248.1 (108.170.248.1) 2.548 ms *  
		6 108.170.237.207 (108.170.237.207) 1.774 ms 108.170.237.205 (108.170.237.205) 1.212 ms 108.170.237.207 (108.170.237.207) 1.358 ms  
		7 108.170.237.205 (108.170.237.205) 1.154 ms [lga25s54-in-f196.1e100.net](http://lga25s54-in-f196.1e100.net) (172.217.6.196) 1.409 ms 108.170.237.205 (108.170.237.205) 1.160 ms  
		root@ubuntu-s-1vcpu-1gb-nyc1-01:~#
		
		Aclaro que en este caso lo hice especificando un nombre de dominio, pero tambi√©n se puedo hacer con una ip

* **Luis Rodrigo Alvarez Herrera** (1)

	
	Mi resumen:
	
	ifconfig: muestra las tarjetas de red y su informacion  
	hostname: muestra como se llama el equipo  
	hostnamectl: lo mismo que hostname pero da mas detalles
	``` 
	    ![VirtualBox_Ubuntu Server_18_09_2019_23_10_16.png](https://static.platzi.com/media/user_upload/VirtualBox_Ubuntu%20Server_18_09_2019_23_10_16-8604616b-28ac-460f-b3ca-b934b7a1cc57.jpg)
	    
	```
	
	nslookup: Hace una resolucion de los DNS del sitio  
	curl: se coinecta por el puerto 80 para ‚Äúvisualizar‚Äù un sitio  
	wget: Se puede usar para descargar archivos, o bajar todo un sitio

* **global2018** (1)
Hola tengo un pc con ubunto server si maquina virtual y no he logrado que tenga internet que puede ser? Gracias

	* **oscarvale01** (1)

		
		tienes q cambiar la configuraci√≥n del adaptador, yo suelo usar el adaptador Bridge.

## 0120. Administraci√≥n de paquetes acorde a la distribuci√≥n

### Descripci√≥n:


Cada distribuci√≥n de Linux maneja su software de maneras diferentes.

### Red Hat / CentOS / Fedora

Su gestor de paquetes es **`.rpm`** (Red hat Package Manager). La base de datos de este gestor est√° localizada en **`/var/lib/rpm`**.

El comando **`rpm -qa`** nos permite listar todos los rpms instalados en la m√°quina. Con **`rpm -i nombre-del-paquete.rpm`** instalamos los paquetes y con **`rpm -e nombre-del-paquete.rpm`** los removemos el sistema.

Los paquetes se pueden instalar desde un repositorio sin tener que conocer la ruta del archivo o las dependencias con el comando **`yum install nombre-del-paquete`**.

Tambi√©n podemos buscar paquetes m√°s espec√≠ficos con el comando **`yum search posible-nombre-del-paquete`** .

### Debian / Ubuntu

Su administraci√≥n de paquetes es **`.deb`**. Podemos realizar las instalaciones con **`dpkg -i nombre-del-paquete.deb`** o repositorios **`apt`**.

Su base de datos est√° localizada en **`/var/lib/dpkg`**. Con el comando **`dpkg -l`** listamos todos los debs instalados en la m√°quina. Instalamos los paquetes con **`dpkg -i nombre-del-paquete`** y los removemos del sistema con **`dpkg -r nombre-del-paquete`**.

Si ya tenemos software configurado podemos usar el comando **`dpkg-reconfigure nombre-paquete`** para volver a ejecutar el asistente de configuraci√≥n (si est√° disponible).

Tambi√©n podemos realizar las instalaciones con el comando **`apt install nombre-paquete`** y b√∫squedas de paquetes con **`apt search posible-nombre-paquete`**.

### Comentarios:

* **Emerson Lino Yurivilca Ricaldi** (5)

	
	  * Red Hat / CentOS / Fedora 
	    * **_.rpm_** Red Hat Package Manager. 
	      * Base de datos RPM, localizada en `var/lib/rpm`
	      * `rpm -qa` Listar todos los rpms instalados en la m√°quina. (query all)
	      * `rpm -i paquete.rpm` Realizar la instalaci√≥n de un paquete. (install)
	      * `rpm -e paquete.rpm` Remover un paquete del sistema. (erase)
	    * **_Repositorios yum_** Permite instalar un paquete desde un repositorio sin tener que conocer la ruta del archivo o las dependencias. 
	      * `yum install paquete`
	  * Debian / Ubuntu 
	    * **_.deb_** Debian package management. 
	      * Base de datos DPKG, localizada en `/var/lib/dpkg`
	      * `dpkg -l` Listar todos los debs instalados en la m√°quina.
	      * `dpkg -i paquete.deb` Realizar la instalaci√≥n de un paquete.
	      * `dpkg -r paquete.deb` Remover un paquete del sistema.
	    * **_dpkg-reconfigure_**
	      * `dpkg-reconfigure paquete` Volver a ejecutar el asistente de configuraci√≥n si est√° disponible.
	    * **_repositorios apt_** otra forma de instalar. 
	      * `apt install paquete`
	
	

* **Omar Flores Grimontt** (5)
![Screenshot from 2019-10-03 05-20-13.png](https://static.platzi.com/media/user_upload/Screenshot%20from%202019-10-03%2005-20-13-ab193a43-34fd-4325-aedb-723c97a76dcf.jpg)
	
	Si utilizas alguna de las distros que menciono arriba puedes instalar aplicaciones con el comando snap, funciona de la misma manera que un manejador de paquetes.
	``` 
	    snap install mi_aplicaci√≥n
	    
	```
	
	En algunas no viene pre instalado por lo que tocar√≠a instalarlo con el manejador de paquetes üòõ.
	
	Aplicaciones como por ejemplo, Spotify, Discord o Postman las puedes instalar a trav√©s de snap.
	
	Snap tambi√©n le permite a los desarrolladores publicar sus aplicaciones para diferentes distros.
	
	M√°s informaci√≥n [ac√°](https://snapcraft.io/)

	* **hanspereira** (2)

		
		Cabe aclarar que los paquetes snap son una nueva opci√≥n muy potente y c√≥moda de instalaci√≥n de paquetes en Linux.
		
		Mencionar que su ‚ÄúMagia‚Äù es que instalan el paquete con todas sus dependencias de forma independiente sin usar los archivos, dependencias y recursos integrados en el sistema operativo. Esto obviamente tambi√©n hace que los paquetes pesen mucho m√°s.
		
		Los paquetes snap son m√°s r√°pidos de instalar, m√°s f√°ciles de crear y mas seguros desde el punto de vista de la ejecuci√≥n. Se actualizan de forma autom√°tica, de forma que la aplicaci√≥n que contienen esos paquetes snap siempre est√° actualizada.

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (5)

	
	RESUMEN DE LA CLASE  
	|  
	**Administraci√≥n de paquetes acorde a la distribuci√≥n**  
	|  
	|  
	Ubuntu server  
	|  
	Repositorios: apt  
	Extensi√≥n de paquetes: .deb  
	|  
	**Comandos** :  
	|  
	**dpkg -l** : Lista todos los deb instalados en la m√°quina  
	**dpkg -i paquete.deb** : Instala un paquete  
	**dpkg -r paquete.deb** : Desinstala un paquete  
	**dpkg-reconfigure paquete** : Permite configurar nuevamente un paquete  
	**apt install paquete** : Instala un paquete desde un repositorio  
	**apt search paquete** : Busca un paquete en un repositorio  
	|  
	|  
	CentOS  
	|  
	Repositorios: yum  
	Extensi√≥n de paquetes: .rpm  
	|  
	**Comandos** :  
	|  
	**rpm -qa** : Lista todos los rpm instalados en la m√°quina  
	**rpm -i paquete.rpm** : Instala un paquete  
	**rpm -e paquete.rpm** : Desinstala un paquete  
	**yum install paquete** : Instala un paquete desde un repositorio  
	**yum search paquete** : Busca un paquete en un repositorio

* **davidegc** (3)

	
	Administraci√≥n de paquetes
	``` 
	    Red Hat / CentOS / Fedora
	    .rpm
	    Repositorios yum
	    
	    Ruta base de datos RPM localizada en /var/lib/rmp
	    
	    rpm -qa | Lista todos los rpms instalados en la m√°quina
	    rpm -i paquete.rpm | Realiza la instalaci√≥n de un paquete
	    rpm -e paquete.rpm | Remueve un paquete del sistema
	    yum install paquete | Permite instalar paquetes desde un repositorio sin conocer las rutas o dependencias
	    yum search paquete | Permite buscar un paquete con yum
	    
	    Debian / Ubuntu
	    .deb
	    dpkg-reconfigure
	    repositorios apt
	    
	    Ruta base de datos DPKG localizada en /var/lib/dpkg
	    dpkg -l | Lista todos los paquetes del sistema operativo
	    dpkg -i paquete.deb | Realiza instalaci√≥n de un paquete
	    dpkg -r paquete.deb | Remueve un paquete del sistema
	    dpkg-reconfigure paquete
	    
	    apt install paquete | Instalar paquete con apt
	    
	    
	```

* **phvillegas** (3)

	
	Instalar htop en Red Hat / CentOS / Fedora
	``` 
	    yum install htop
	    
	```

* **phvillegas** (3)

	
	`yum` Gestor de paquetes para Red Hat / CentOS / Fedora  
	`apt` Gestor de paquetes para Debian / Ubuntu

* **jorge-gianareas** (2)

	
	Debian / Ubuntu  
	Su administraci√≥n de paquetes es .deb. Podemos realizar las instalaciones con dpkg -i nombre-del-paquete.deb o repositorios apt.
	
	Su base de datos est√° localizada en /var/lib/dpkg. Con el comando dpkg -l listamos todos los debs instalados en la m√°quina. Instalamos los paquetes con dpkg -i nombre-del-paquete y los removemos del sistema con dpkg -r nombre-del-paquete.
	
	Si ya tenemos software configurado podemos usar el comando dpkg-reconfigure nombre-paquete para volver a ejecutar el asistente de configuraci√≥n (si est√° disponible).
	
	Tambi√©n podemos realizar las instalaciones con el comando apt install nombre-paquete y b√∫squedas de paquetes con apt search posible-nombre-paquete.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Entendido para todas las distribuciones.

* **jorge-gianareas** (1)

	
	Cada distribuci√≥n de Linux maneja su software de maneras diferentes.
	
	Red Hat / CentOS / Fedora  
	Su gestor de paquetes es .rpm (Red hat Package Manager). La base de datos de este gestor est√° localizada en /var/lib/rpm.
	
	El comando rpm -qa nos permite listar todos los rpms instalados en la m√°quina. Con rpm -i nombre-del-paquete.rpm instalamos los paquetes y con rpm -e nombre-del-paquete.rpm los removemos el sistema.
	
	Los paquetes se pueden instalar desde un repositorio sin tener que conocer la ruta del archivo o las dependencias con el comando yum install nombre-del-paquete.
	
	Tambi√©n podemos buscar paquetes m√°s espec√≠ficos con el comando yum search posible-nombre-del-paquete .

* **dbzdavidbaez** (1)

	
	Entendido

* **Daniel Giovanny Ochoa Torres** (1)

	
	bueno y como desinstalo un paquete, que se monto con yum o con apt??

	* **Gabriel De Andrade (Platzi)** (1)

		
		Puedes usar `apt remove` con apt y `yum remove` con yum.  
		Puedes consultar m√°s comandos en estos enlaces:
		
		  * [apt](https://wiki.debian.org/AptCLI)
		  * [yum](https://access.redhat.com/sites/default/files/attachments/rh_yum_cheatsheet_1214_jcs_print-1.pdf)
		
		

* **ferroblesh** (1)

	
	Para buscar en ubuntu es  
	#apt-cache search htop

* **ismael2522** (1)
Hola a todos. ¬øQuien se encarga de mantener, actualizar, crear los paquetes o repositorios en ambas distribuciones? Saludos.

	* **arnoldo R L fuentes** (1)

		
		cada distribuci√≥n tiene una comunidad que se encarga de eso

## 0130. Manejo de paquetes en sistemas basados en Debian

### Descripci√≥n:


Antes de actualizar el software de nuestro sistema debemos ejecutar el comando **`sudo apt update`** para saber qu√© paquetes pueden actualizarse y desde d√≥nde se realizar√° la descarga. Luego de esto podremos actualizar todas las herramientas del sistema usando el comando **`sudo apt upgrade`**.

Recuerda que todo lo que tenga que ver con actualizaciones o modificaciones del sistema operativo necesitar√° permisos con **`sudo`**. Tambi√©n necesitar√°s conexi√≥n a Internet.

### Links:

* [Canonical Livepatch Service | Ubuntu](https://ubuntu.com/livepatch)

* [Basic snap usage | Ubuntu tutorials](https://tutorials.ubuntu.com/tutorial/basic-snap-usage#5)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (6)

	
	RESUMEN DE LA CLASE  
	|  
	**Manejo de paquetes en sistemas basados en Debian**  
	|  
	**Comandos √∫tiles**  
	|  
	**sudo apt update** : Actualiza la informaci√≥n local sobre los repositorios de Ubuntu  
	**sudo apt upgrade** : Actualiza todos los programas que tenemos instalados en la m√°quina  
	**sudo snap install paquete** : Instala un paquete con el nuevo gestor de paquetes de Canonical, snap  
	**date** : Imprime la fecha actual

* **nelsonalejandrosaz** (3)

	
	Lo que menciono de que antes de actualizar los paquetes es importante verificar que las aplicaciones que funcionan en ese servidor sean compatibles, es super importante porque a veces por un peque√±o cambio de versi√≥n de alg√∫n paquete, puede llegar a detenerse toda la aplicaci√≥n.

* **dbzdavidbaez** (3)

	
	Entendido
	``` 
	    sudo apt update
	    sudo apt upgrade
	    sudo apt dist-upgrade
	    sudo apt search mysql
	    sudo apt search"mysql-server$"
	    sudo apt-cachesearch"mysql-server$"
	    dpkg -l
	    sudo dkpg-reconfigure tzdata
	    date
	    sudo snap search aws-cli
	    sudo snap refresh--list
	    sudo snap info aws-cli
	    sudo snap install canonical-livepatch
	    
	```

	* **Hector Efren Mora Acosta** (1)

		
		sudo dpkg-reconfigure tzdata

* **Jaziel David Flores Rodr√≠guez** (2)

	
	Para saber si en la actualizaci√≥n no se rompi√≥ algun paquete y si es as√≠ arreglarlo, sudo apt dist-upgrade

* **Sebastian Camilo Herrera Lopez** (1)

	
	Buena herramienta snap.

* **androw** (1)

	
	Cuidado cuando actualicen el kernel, puede que tambien tengan que actualizar el grub

	* **juancapote** (1)

		
		por lo que tengo entendido siempre que se actualiza o instala un nuevo kernel tambien se actualiza el grub.  
		Existe un directorio especial (en este momento no recuerdo cual es) donde los cambios que agregues no son afectados por las actualizaciones en grub por lo que si tienes alguna entrada manual en ese directorio siempre aparecera lo mismo con las opciones por defecto

* **jorge-gianareas** (1)

	
	Recuerda que todo lo que tenga que ver con actualizaciones o modificaciones del sistema operativo necesitar√° permisos con sudo. Tambi√©n necesitar√°s conexi√≥n a Internet.

* **jorge-gianareas** (1)

	
	Antes de actualizar el software de nuestro sistema debemos ejecutar el comando sudo apt update para saber qu√© paquetes pueden actualizarse y desde d√≥nde se realizar√° la descarga. Luego de esto podremos actualizar todas las herramientas del sistema usando el comando sudo apt upgrade.

* **JArbey** (1)

	
	Hay alguna diferente entre apt update y apt-get update?

	* **Gabriel De Andrade (Platzi)** (1)

		
		En funcionamiento no, pero `apt` es m√°s nuevo y puede que en algunas distros s√≥lo est√© disponible `apt-get` üòÑ

* **c3tuxpo2018** (1)

	
	No conocia snap, Que buena clase

* **asanchez2091** (1)

	
	Es necesario mencionar que el comando sido tambi√©n debe ser instalado para que pueda funcionar

	* **Jesus Guio** (3)

		
		Eso depende de la distro que utilizas, en la gran amyoria viene por defento, pero en distros como Arch, si debes realizar la instalacion

* **Gerardo Alberto Soto Alvarez del Castillo** (1)

	
	Al recibir una respuesta del servidor, la letra en MAYUSCULA es la que esta predefinida (por default) al momento de no ingresar una cadena de texto y dar ENTER, el servidor (o el programa) tomara esa respuesta

* **Gerardo Alberto Soto Alvarez del Castillo** (1)

	
	En un servidor productivo: Hacer pruebas (en m√°quinas de prueba o m√°quinas virtuales) para ACTUALLIZAR los paquetes del sistema, para comprobar que el sistema siga funcionando, as√≠ como tambi√©n hacer un BACKUP del servidor antes de actualizar el sistema)

* **JairoRa** (1)
Si quiero actualizar todos los paquetes excepto uno, como ser√≠a en este caso?

* **Luis Alberto Lazcano Cruz** (1)
¬øCual ser√≠a la forma de actualizar solo un paquete, en lugar de tener que actualizar todos los paquetes con apt update & apt upgrade?

	* **Hector Franco Torres Manzano** (1)

		
		Me funcion√≥ con:
		``` 
		    sudo apt upgrade [nombre_del_paquete]
		    
		```

## 0140. Administraci√≥n de software con YUM y RPM para CentOS

### Descripci√≥n:


### Links:

* [EPEL - Fedora Project Wiki](https://fedoraproject.org/wiki/EPEL)

### Comentarios:

* **edwintrumpet** (4)

	
	Yo instal√© **htop** as√≠  
	Primero intent√© buscarlo a ver si ya estaba en el respositorio con el comando
	``` 
	    yum search htop
	    
	```
	
	Como no lo encontr√≥ entonces instal√© y habilit√© el repositorio EPEL con los comandos.
	``` 
	    yum -y install epel-release
	    
	```
	``` 
	    yum repolist
	    
	```
	
	Volv√≠ a buscar el paquete en el repositorio
	``` 
	    yum search htop
	    
	```
	
	Esta vez s√≠ lo encontr√≥, pero de todas formas actualic√© y descargu√© actualizaciones del repositorio nuevo.
	``` 
	    yum update
	    
	```
	``` 
	    yum upgrade
	    
	```
	
	Ahora s√≠ instalo **htop**
	``` 
	    yum install htop
	    
	```
	
	Ya est√° instalado, pero podr√≠a mirar si puedo actualizarlo
	``` 
	    yum update htop
	    
	```

	* **Dante Castillo Z.** (1)

		
		en mi caso solo use yum install htop y lo instalo sin problemas‚Ä¶ debe ser por la version 7 que ya viene incluido ese paquete.

* **Gerardo Alberto Soto Alvarez del Castillo** (3)

	
	[user@server ~]$ Sesi√≥n de un usuario  
	[user@server ~]# Sesi√≥n de un Superusuario
	
	Recomendaci√≥n: No utilizar el usuario root (Superusuario) siempre, por lo tanto, hay que crear un usuario con ciertos permisos para el sistena

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (3)

	
	RESUMEN DE LA CLASE  
	|  
	**Administraci√≥n de software con YUM y RPM para CentOS**  
	|  
	|  
	**Comandos √∫tiles**  
	|  
	**rpm -qi paquete** : Muestra la informaci√≥n de un paquete  
	**rpm -qc paquete** : Muestra los archivos asociados a un paquete  
	|  
	|  
	**Atajos √∫tiles**  
	|  
	**Ctrl + a** : Env√≠a el cursor al inicio de la consola  
	|  
	|  
	**Datos interesantes**  
	|
	
	  * Instalar el paquete **net-tools** para tener disponible el comando ifconfig
	
	

* **marco_cm** (2)

	
	ip static
	
	yum -y install epel-release  
	yum -y update  
	yum -y htop

* **c3tuxpo2018** (2)

	
	En Debian si necesitas pasarte a usuario root desde un usuario cualquiera usas el comando " su "
	
	  * usuario@pcprueba$su  
	el sistema te pide el password del root., lo digitas ‚Äúobviamente no lo vas a ver‚Äù das enter y listo quedas como usuario root
	  * root@pcprueba#
	
	

* **asanchez2091** (2)

	
	Si se lo pregunta solo basta que ejecuten en su tty **yum install htop** **RETO CUMPLIDO**

* **Jos√© B. M√©ndez Pad√≠n** (2)
Tambi√©n es posible cambiar al usuario root tecleando su e introduciendo su contrase√±a.

	* **Erik Ochoa (Platzi)** (1)

		
		S√≥lo un aporte extra, `su` viene de **substitute user identity** y se puede usar para hacer login a cualquier usuario. En caso de usarlo sin ning√∫n par√°metro va a cambiar al usuario administrador del sistema default que es **root**.
		
		Pueden existir otros usuarios con permisos root, para hacer login con ellos escribimos:
		
		`su - usuario`
		
		Va a pedir contrase√±a de la misma forma que con root.

* **Hector Efren Mora Acosta** (1)

	
	htop en funcionamiento: ![htop.PNG](https://static.platzi.com/media/user_upload/htop-5f2a352e-2c3f-4155-8e29-ae8523c071b8.jpg)

* **Andres Manrique Palma** (1)
![2020-04-06 01_39_14-Clipboard.png](https://static.platzi.com/media/user_upload/2020-04-06%2001_39_14-Clipboard-00b05244-f0b5-4f60-9bcd-ad98a5bd40a9.jpg)

* **Andres Manrique Palma** (1)

	
	Para ingresar a root, sin necesidad de reiniciar, basta con colocar ‚Äòsu‚Äô (sin comillas) en terminal‚Ä¶

* **bixhiic** (1)

	
	cuando coloco mi contrase√±a de usuario al usar el comando yum  
	me aparece que no estoy entre los ‚Äúsudoers‚Äù y que lo reportara.
	
	que puedo hacer?

	* **Mark-Monty** (1)
Eso es porque t√∫ usuario no tiene permisos de root y no est√° en el archivo de configuraci√≥n de sudoers que se ver√° clases m√°s adelante, sin embargo si tienes el password de root que se gener√≥ en la instalaci√≥n podr√≠as usar el comando: su - De ah√≠ podr√≠as realizar la instalaci√≥n de sudo.x86_64 con yum y si ya lo tienes, ejecuta: adduser <username> sudo Con este comando le dar√°s permisos a tu usuario

* **Francisco Benitez** (1)

	
	<https://raiolanetworks.es/blog/instalar-htop-centos-ubuntu-debian/>

* **Alexander-Ponce-Castillo** (1)

	
	me sale metadato expirado , me ayuda please?

* **dbzdavidbaez** (1)

	
	Entendido
	``` 
	    rpm -qa
	    rpm -qi bash
	    rpm -qc bash
	    sudo yum update
	    sudo yum install net-tools
	    rpm -e curl
	    
	```

* **jeydvc** (1)

	
	Hola, me sale este error:
	
	[root@localhost ~]# yum update  
	Loaded plugins: fastestmirror, langpacks
	
	File contains no section headers.  
	file: file:///etc/yum.repos.d/MariaDB.repo, line: 2  
	‚Äô***==============***\n‚Äô  
	[root@localhost ~]#
	
	Me pueden ayudar por favor como solucionarlo.
	
	Muchas gracias.

	* **Mark-Monty** (2)
Ese mensaje significa que tienes un repositorio local, que apunta a un archivo de MariaDB, puedes hacer 3 cosas, la primera y a mi consideraci√≥n m√°s f√°cil, es borrar ese repositorio con rm /etc/yum.repos/MariaDB y vuelves a correr tu yum. Otra opci√≥n es cambiar el nombre del repositorio con: mv /etc/yum.repos.d/MariaDB.repo etc/yum.repos.d/MariaDB Lo que se haces es deshabilitar de forma indirecta el repositorio ya que le quitaste la extensi√≥n repo. Por √∫ltimo puedes ejecutar los comandos: yum repolist yum-config-manager --disable <nom_repositorio_fallido> El nombre del repositorio fallido lo vas a encontrar con el repolist

* **Jose Antonio Mendoza Ortiz** (1)

	
	es algo dif√≠cil escribir la direcciones web sin cometer aun error de escritura, pero lo consegu√≠.htop [](https://ibb.co/9WYgN0C)

* **Jos√© B. M√©ndez Pad√≠n** (1)

	
	Instalar htop.  
	![install htop.png](https://static.platzi.com/media/user_upload/install%20htop-89dc86f6-b72e-4404-b40d-6d671ba53da8.jpg)

* **asanchez2091** (1)

	
	Excelente clase me gusta mucho los **videos de Jhon Edison Castro S√°nchez**

* **Gerardo Alberto Soto Alvarez del Castillo** (1)

	
	Siempre verificar que los repositorios agregados al sistema manualmente est√©n verificados (por su chechsum md5), de lo contrario, si es muy necesario agregarlos, verificar las URL una por una EN UNA MAQUINA DIFERENTE y verificar que no tengan un Malware.

* **Emerson Cede√±o Salazar** (1)
antes de agregar un repositorio se debe revisar si es validado por el sistema operativo, o que no tenga malware, ¬øc√≥mo se hace esto?

	* **Juan David Castro (Platzi)** (1)

		
		Podemos usar un Firewall o alguna de estas herramientas (de hecho, algunas las vemos m√°s adelante en el curso): <https://linuxhint.com/top_vulnerability_scanning_tools/>.

* **Emerson Cede√±o Salazar** (1)
Para actualizar un paquete en espec√≠fico basta con hacer 'yum update' (en Centos)?, cu√°l ser√≠a el procedimiento si quiero subir PHP a 7.2?

	* **Juan David Castro (Platzi)** (2)

		
		Imaginaba que ser√≠a tan sencillo como este comando:
		``` 
		    sudo yum install php72
		    
		```
		
		Pero al parecer puede ser un poco m√°s complicado üòÖ:
		
		üëâ <https://www.cyberciti.biz/faq/how-to-install-php-7-2-on-centos-7-rhel-7/>

* **Marco Alejandro Galan Raise** (0)

	
	Otra manera de iniciar sesion con otro usaurio sin necesidad de apagar el servidor, es cambiando el tty o bien escribiendo el comando _logout_ , este comando nos llevara hasta la pantalla de logueo del sistema.

## 0150. Nagios Desempaquetado, descompresi√≥n, compilaci√≥n e instalaci√≥n de paquetes

### Descripci√≥n:


No todo el software que necesitamos se encuentra en los repositorios. Debido a esto, algunas veces debemos descargar el software, realizar un proceso de descompresi√≥n y desempaquetado para finalmente instalar la herramienta.

Instalaci√≥n de algunas herramientas para manejar una base de datos MySQL (recuerda que instalaremos y trabaremos con MySQL en una pr√≥xima clase):
``` 
    sudo apt install build-essential libgd-dev openssl libssl-dev unzip apache2 php gcc libdbi-perl libdbd-mysql-perl
    
```

Instalaci√≥n de Nagios:
``` 
    wget https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.4.tar.gz -O nagioscore.tar.gz
    
```

Descomprimir y desempaquetar archivos con **`tar`** :
``` 
    tar xvzf nagioscore.tar.gz
    
```

Este comando crear√° una carpeta **`nagios-4.4.4`**. El nombre de la carpeta puede variar dependiendo de la versi√≥n que descargaste. Entrando a esta carpeta podemos ejecutar diferentes archivos y comandos para configurar el software y realizar la instalaci√≥n.
``` 
    # 1:
    sudo ./configure --with-https-conf=/etc/apache2/sites-enabled
    # 2:
    sudo make all
    # 3:
    sudo make install
    # 4:
    sudo make install-init
    # 5:
    sudo make install-commandmode
    # 6:
    sudo make install-config
    #7:
    sudo make install-webconf
    
```

Por √∫ltimo, para administrar el servicio de nagios podemos usar el comando **`sudo systemctl (status, start, restart, reload, stop, enable, disable, list-dependencies) nagios`**.

### Links:

* [Nagios - The Industry Standard In IT Infrastructure Monitoring](https://www.nagios.org)

* [https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.4.tar.gz](https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.4.tar.gz)

* [https://nagios-plugins.org/download/nagios-plugins-2.2.1.tar.gz](https://nagios-plugins.org/download/nagios-plugins-2.2.1.tar.gz)

### Comentarios:

* **diegohernanvillalobos** (20)

	
	Si les da error en el paso de ejecutar ‚Äúsudo make install‚Äù, primero tienen que hacer lo siguiente:  
	sudo make install-groups-users  
	sudo usermod -a -G nagios www-data

	* **GEORGE** (2)

		
		muy buen aporte.

	* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (2)

		
		Gracias!!

	* **davidegc** (1)

		
		Gracias por la ayuda!

	* **nataliarpoo** (1)
Perfecto üëç

	* **Chrystian Fabian Lozano Ramirez** (2)

		
		Muy bien, pero por qu√©?

	* **Leandro Santiago Batista** (1)

		
		Funciono perfectamente, a que se debera eso

* **fernando-alfaro** (14)

	
	Hola compa√±eros.
	
	Con el unico problema que me he encontrado para este clase, fue el hecho de que el nagios necesita un user y grupo para poder hacer el ¬®make install¬®.  
	El profesor de hecho lo comenta al inicio del video, y que los pasos estan en otro video, lo veo bastante disfuncional ya que uno como estudiante esta siguiendo los pasos que el hace.
	
	De igual forma dejo los comandos con que lo resolvi.
	
	En el mismo directorio de nagios-4.4.4
	
	corri los siguientes comandos  
	groupadd nagios //crea el grupo nagios  
	useradd -g nagios nagios //crea el usuario nagios en el grupo nagios  
	passwd nagios //creas una contrase√±a para el usuario nagios
	
	Pd: No se si esto me afecte en el futuro por otras configuraciones que el profesor vaya a hacer en el futuro.

	* **dbzdavidbaez** (2)

		
		Me toco hacer lo mismo del usuario. Se puede mejorar el video adicionando esta parte de la creaci√≥n del usuario.

	* **Javier Avil√©s** (1)

		
		Me toco hacer lo mismo

	* **Carlos Jos√© Gonz√°lez Juan** (1)

		
		Muchisimas gracias. Me ayudastes mucho.

	* **Farid Xacur Novelo** (1)

		
		Si no les funcionan los comandos de fernando-alfaro , antepongan ‚Äúsudo‚Äù a dichos comandos , buen aporte fernando-alfaro , gracias.

	* **Dante Castillo Z.** (1)

		
		pues eso mismo, se supone que tiene indicar todos los pasos completos y no solo mencionar el tema anterior.

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (12)

	
	RESUMEN DE LA CLASE  
	|  
	**Nagios: Desempaquetado, descompresi√≥n, compilaci√≥n e instalaci√≥n de paquetes**  
	|  
	|
	
	  * Instalar los siguientes paquetes  
	|
	
	
	``` 
	    sudo apt install build-essential libgd-dev openssl libssl-dev unzip apache2 php gcc libdbi-perl libdbd-mysql-perl
	    
	```
	
	|
	
	  * Descargar Nagios (link directo)  
	|
	
	
	``` 
	    wget https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.4.tar.gz -O nagioscore.tar.gz
	    
	```
	
	|
	
	  * Descomprimir y desempaquetar el archivo descargado  
	|
	
	
	``` 
	    tar xvzf nagioscore.tar.gz
	    
	```
	
	|
	
	  * Configurar e instalar (en la carpeta donde se descomprimieron los archivos) a Nagios  
	|
	
	
	``` 
	    sudo ./configure --with-https-conf=/etc/apache2/sites-enabled
	    sudo make all
	    sudo make install
	    
	    #Aporte del usuario @diegohernanvillalobos
	    #Si no les funciona "sudo make install" continuar con los siguientes comandos y ejecutar luego "sudo make install"
	    sudo make install-groups-users
	    sudo usermod -a -G nagios www-data
	    #Hasta aqu√≠
	    
	    sudo make install-init
	    sudo make install-commandmode
	    sudo make install-config
	    sudo make install-webconf
	    
	```
	
	|
	
	  * Activar el servicio de Nagios  
	|
	
	
	``` 
	    sudo systemctl start nagios
	    
	```
	
	|
	
	  * BONUS: instalar plugins de Nagios  
	|
	
	
	``` 
	    wget https://nagios-plugins.org/download/nagios-plugins-2.2.1.tar.gz -O nagios-plugins.tar.gz
	    tar xzvf nagios-plugins.tar.gz
	    cd nagios-plugins-2.2.1
	    sudo ./configure
	    sudo make all
	    sudo make install
	    
	```

	* **willeonardo19** (1)

		
		Gracias, me ayudaste bastante que tuve problemas con el install.  
		Saludos

	* **Andres camilo Ram√≠rez Bedoya** (1)

		
		gracias, que buen aporte!.

	* **marco_cm** (1)

		
		Excelente aporte‚Ä¶ gracias!!!

	* **Jos√© Tuzinkievicz** (1)

		
		Estos son los aportes salvadores, muchas gracias.

* **Wilder Alexander David Hoyos** (7)

	
	Para instalar los plugins se debe comprobar que exites estos paquetes:
	``` 
	    sudo apt-get install -y autoconf gcc libc6 libmcrypt-dev make libssl-dev wget bc gawk dc build-essential snmp libnet-snmp-perl gettext
	    
	```
	
	Se procede a descargar el instalador de los Plugins
	``` 
	    wget --no-check-certificate -O nagios-plugins.tar.gz https://github.com/nagios-plugins/nagios-plugins/archive/release-2.2.1.tar.gz
	    
	```
	
	se descomprime el archivo descargado
	``` 
	    tar xzvf nagios-plugins.tar.gz
	    
	```
	
	Luego de descomprimir se accede a la carpeta donde se encuentran los archivos y se procede a ejecutar los siguiente comandos uno por uno:
	``` 
	    sudo ./tools/setup
	    sudo ./configure
	    sudo make
	    sudo make install
	    
	```

* **Jos√© Luis Ruiz Moreno** (6)

	
	Antes de:  
	`sudo make install`
	
	debemos ejecutar:  
	`sudo make install-groups-users`

* **Luis Rodrigo Alvarez Herrera** (6)

	
	si nagios te pregunta un usuario y contrase√±a usa lo siguiente
	``` 
	    htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin
	    
	    a2enmod cgi
	    
	    systemctl restart apache2
	    
	```
	
	coloca la nueva password para el usuario nagiosadmin

	* **willeonardo19** (1)

		
		Gracias, excelente aporte.

	* **Benjamin Arevalo Oca√±a** (0)

		
		Muchas gracias!

	* **Chrystian Fabian Lozano Ramirez** (1)

		
		gracias que te acompa√±e el se√±or oscuro

* **luisestebanmartinezfuentes** (5)

	
	Bueno hijos de newton, vamos a seguir los siguientes pasos para que quede instalado correctamente nagios.
	
	  1. A la hora de digitar sudo make all haganlo de la siguiente marera: **_sudo make all | less_** Esto con el fin de poder leer todos los make install que tiene que realizar a continuacion.
	
	  2. Despu√©s les aparecera una serie de pasos quee tiene que seguir (los make install):
	
	
	
	
	sudo make test  
	sudo make install  
	sudo make install-init  
	sudo make install-daemoninit  
	sudo make install-groups-users  
	sudo make install-commandmode  
	sudo make install-config  
	sudo make install-exfoliation  
	sudo make install-classicui  
	En el video no aparecen todos estos pasos, asi que por favor realizarlos y despues si continuar como indica el profe.

	* **guss-jordan** (2)

		
		Podrias hacer un resumen de los comando que has compartido? y porque no el tutor no utiliz√≥ estos comandos?

	* **Manuel David Franco G√≥mez** (1)

		
		Gracias, me funcion√≥

	* **Hector Efren Mora Acosta** (1)

		
		Muy util, gracias

* **diegohernanvillalobos** (4)

	
	Ah√≠ qued√≥ corriendo.  
	![Curso Platzi.jpg](https://static.platzi.com/media/user_upload/Curso%20Platzi-a02b5541-3d2b-43e6-afca-299a04dc9687.jpg)

	* **willeonardo19** (1)

		
		Hola, disculpa como lo hiciste?, yo entro a la ip de mi servidor/nagios y no me muestra nada.

	* **Omar Flores Grimontt** (2)

		
		Tienes que reiniciar apache2, sudo systemctl restart apache2. Luego entras y seguro te pide credenciales. Hay otro comentario de un compa√±ero que espeficica como a√±adir un nuevo usuario con credenciales.

	* **Chrystian Fabian Lozano Ramirez** (1)

		
		Cual es el usuario y contrase√±a???

* **Jaziel David Flores Rodr√≠guez** (3)

	
	Banda obtuve el siguiente error, ¬øa qu√© se deber√°?
	
	$sudo make install  
	cd ./base && make install  
	make[1]: Entering directory ‚Äò/home/platzi/nagios-4.4.4/base‚Äô  
	/usr/bin/install -c -m 775 -o nagios -g nagios -d /usr/local/nagios/bin  
	/usr/bin/install: invalid user ‚Äònagios‚Äô  
	Makefile:176: recipe for target ‚Äòinstall‚Äô failed  
	make[1]: *** [install] Error 1  
	make[1]: Leaving directory '/home/platzi/nagios-4.4.4/base‚Äô  
	Makefile:276: recipe for target ‚Äòinstall‚Äô failed  
	make: *** [install] Error 2

	* **fernando-alfaro** (6)

		
		Hola.
		
		Me sucedio lo mismo, el problema es que el nagios necesita usuario y grupo para instalarse.
		
		En el mismo directorio de nagios-4.4.4
		
		corri los siguientes comandos  
		groupadd nagios //crea el grupo nagios  
		useradd -g nagios nagios //crea el usuario nagios en el grupo nagios  
		passwd nagios //creas una contrase√±a para el usuario nagios

* **CalexiS** (3)

	
	Gente. Los que tengan problemas con la instalacion; especificamente con *tar les recomiendo este tutorial:<https://www.digitalocean.com/community/tutorials/how-to-install-nagios-4-and-monitor-your-servers-on-ubuntu-18-04>

* **Hector Javier Moreno** (3)

	
	A m√≠ no me quer√≠a activar el servicio de nagios por lo cual reinicie el servidor con shutdown ‚Äìr y volv√≠ a descargar las actualizaciones con apt-get update y apt-get upgrade y despu√©s reinstale de nuevo todo  
	Entre por el superusuario #  
	apt install build-essential libgd-dev openssl libssl-dev unzip apache2 php gcc libdbi-perl libdbd-mysql-perl  
	./configure --with-https-conf=/etc/apache2/sites-enabled  
	make all  
	make install  
	make install-init  
	make install-commandmode  
	make install-config  
	make install-webconf  
	y inicie el servicio con systemctl start nagios  
	y systemctl status nagios verifique

* **diegohernanvillalobos** (3)

	
	Es buenisimo Nagios, tambi√©n para hacer monitoreo de dispositivos de red como Routers

* **Ramquiel** (2)

	
	si realice la instalaci√≥n con root, puede ser que me de error al ejecutar el make install por que no cree el usuario ‚Äònagios‚Äô?
	
	error:  
	\- What version of Nagios you are using  
	\- What version of the plugins you are using  
	\- Relevant snippets from your config files  
	\- Relevant error messages from the Nagios log file
	
	For more information on obtaining support for Nagios, visit:
	``` 
	       https://support.nagios.com
	    
	```
	
	* * *
	
	Enjoy.
	
	root@debian:~/nagios-4.4.4#  
	root@debian:~/nagios-4.4.4# If the main program and CGIs compiled without any er rors, you  
	-bash: If: command not found  
	root@debian:~/nagios-4.4.4# can continue with testing or installing Nagios as fo llows (type  
	-bash: syntax error near unexpected token `('  
	root@debian:~/nagios-4.4.4#  
	root@debian:~/nagios-4.4.4# make  
	Please supply a command line argument (i.e. ‚Äòmake all‚Äô). Other targets are:  
	nagios cgis contrib modules workers  
	test  
	install install-base  
	install-cgis install-html  
	install-webconf install-config  
	install-init install-daemoninit  
	install-commandmode install-groups-users  
	install-exfoliation install-classicui  
	install-basic install-unstripped  
	fullinstall  
	clean  
	root@debian:~/nagios-4.4.4# fullinstall  
	-bash: fullinstall: command not found  
	root@debian:~/nagios-4.4.4# make fullinstall  
	cd ./base && make install  
	make[1]: Entering directory ‚Äò/root/nagios-4.4.4/base‚Äô  
	/usr/bin/install -c -m 775 -o nagios -g nagios -d /usr/local/nagios/bin  
	/usr/bin/install: invalid user ‚Äònagios‚Äô  
	make[1]: *** [Makefile:176: install] Error 1  
	make[1]: Leaving directory '/root/nagios-4.4.4/base‚Äô  
	make: *** [Makefile:276: install] Error 2  
	root@debian:~/nagios-4.4.4# cd ./base && make install  
	/usr/bin/install -c -m 775 -o nagios -g nagios -d /usr/local/nagios/bin  
	/usr/bin/install: invalid user ‚Äònagios‚Äô  
	make: *** [Makefile:176: install] Error 1  
	root@debian:~/nagios-4.4.4/base# ^C  
	root@debian:~/nagios-4.4.4/base#

	* **Jorge Andres Mu√±oz Becerra** (1)

		
		A mi me pasa lo mismo, no he podido terminar la instalacion!

	* **Jorge Andres Mu√±oz Becerra** (1)

		
		Ya lo solucione!!! sencillamente cree el usuario nagios‚Ä¶ sudo adduser nagios

* **Jos√© Luis Ruiz Moreno** (2)

	
	Si no les funciona  
	`sudo make install-webconf`
	
	Podemos ejecutar el comando que indica que fallo:  
	`sudo /usr/bin/install -c -m 644 sample-config/httpd.conf /etc/apache2/sites-enabled/nagios.conf`
	
	Chequear que nagios.conf esta en el directorio  
	`/etc/apache2/sites-enabled`
	
	`ls -l /etc/apache2/sites-enabled/`
	
	Y ver su contenido:  
	`cat /etc/apache2/sites-enabled/`

* **Alexander-Ponce-Castillo** (2)

	
	no sirve nada !! :l

* **AndersonDS** (2)

	
	valla que se me han presentado varios inconvenientes, sin embargo hay uno el cual no he podido dar soluci√≥n al intentar descomprimir y desempaquetar me despliega lo siguiente:
	
	tar xvzf nagioscore.tar.gz  
	gzip: Stdin: format  
	tar: Child returned status 1  
	tar: Error is not reconvertable: exiting now
	
	alguien sabe como solucionarlo?  
	tambi√©n agradecer√≠a si me pudieran ense√±ar a subir im√°genes a los comentarios o expresar el c√≥digo dentro del chat para futuras preguntas o aportes.

	* **AndersonDS** (1)

		
		Lo pude solucionar tenia el problema con la ruta de descarga en especial con el enrutador ‚Äú-O‚Äù lo hab√≠a confundido con un cero. sin embargo aun me queda la duda del chat. si alguien sabe, se los agradecer√≠a.

	* **eboeros** (1)

		
		Me paso exactamente lo mismo que a ti, la soluci√≥n fue borrar el archivo y volver a ejecutar el wget pero en vez de 0, O

* **Marino Checo** (2)

	
	Saludo, algunos de ustedes le ha funcionado de x manera‚Ä¶ pero creo que esta clase se puede morar, pero tambi√©n es verdad aqu√≠ nos ayudan a tener un mejor concepto de como ha de funcionar todo‚Ä¶ Pero en mi caso me puse a investigar un poco mas y me tope con este contenido, espero que le puede ser √∫til a otros de ustedes‚Ä¶
	
	<https://tecadmin.net/install-nagios-monitoring-server-on-ubuntu/>

* **Juan Carrillo** (2)

	
	Al seguir el proceso de intalaci√≥n para nagios, obtuve este error:  
	![Screenshot from 2019-10-14 10-12-20.png](https://static.platzi.com/media/user_upload/Screenshot%20from%202019-10-14%2010-12-20-bac5e54d-fe6a-43a4-a8ee-bdf8133b9ec1.jpg)  
	cuando ejecut√©:
	``` 
	    sudo make install-webconf
	    
	```
	
	Lo solucion√© siguiendo esta gu√≠a: <https://www.unixmen.com/how-to-install-nagios-core-4-1-1-in-ubuntu-15-10/> , ejecutando este comando
	``` 
	    sudo /usr/bin/install -c -m 644 sample-config/httpd.conf /etc/apache2/sites-enabled/nagios.conf
	    
	```
	
	Asegurense que ac√° les quede andando el nagios asi no tendr√°n problemas cuando hagan la pr√°ctica de la clase 27.

	* **Omar Garrido Garc√≠a** (1)

		
		Hola que tal, ejecute el mismo comando, pero me sigue arrojando el mismo error ‚Äúcannot create regular file /etc/apache2/sites-enabled/nagios.conf‚Äù

* **oscar enrique  ordo√±ez izquierdo** (2)
Esta instalacion es para Debian ?

	* **Gabriel De Andrade (Platzi)** (3)

		
		Si, es para distribuciones basadas en Debian, como Ubuntu o Linux Mint üòÑ

* **Jos√© B. M√©ndez Pad√≠n** (2)
Una duda. ¬øC√≥mo sabemos la ruta para descargar nagios con wget? Estuve buscando en su web pero no lo encontr√©.

	* **Juan David Castro (Platzi)** (2)

		
		Puedes seguir este tutorial: <https://www.howtoforge.com/tutorial/ubuntu-nagios/>. üòâ

* **Pablo Ezequiel Ag√ºero** (1)

	
	no entiendo como poder instalar los Plugins. Descarqu√© los mismos y los descomprim√≠ pero no se como hacer la instalaci√≥n de los mismos :c

* **Cristian G√≥mez** (1)

	
	He tenido inconvenientes con cuentos, tuve que hacerlo desde root porque en el usuario platzi me da error cada vez que ingreso comandos con sudo, dice que no lo reconoce.
	
	![Captura de Pantalla 2020-04-02 a la\(s\) 01.18.56.png](https://static.platzi.com/media/user_upload/Captura%20de%20Pantalla%202020-04-02%20a%20la%28s%29%2001.18.56-1076f2f7-c545-4961-ae70-316461bcbcba.jpg)

	* **Andres Pineda** (2)

		
		Eso es porq en este laboratorio no se ha creado ningun usuario con permisos sudo, por ahora tienes que hacerlo con usuario root, yo pude instalarlo con centos con los mismos pasos.

	* **Andres Manrique Palma** (1)

		
		Estas en root‚Ä¶ no es necesario utilizar sudo

* **Jordan Ronaldo Buitrago Sandoval** (1)

	
	no que problema tan raro no me deja instalar el nagios sudo make install  
	me sale error 2

* **IngAntonyF** (1)

	
	como pego la url

	* **alfredo estrada gonzalez** (1)

		
		depende de tu terminal, normalmente es CTRL+SHIFT+V o SHIFT+INSERT

	* **jjuanleyva** (1)

		
		Tienes que configurar el clipboard como bidireccional en la configuracion de la maquina virtual tambien. Lo encontraras en General> Avanzado> Portapapeles/Clipboard.
		
		Por lo menos si estas usando virutalbox.

* **jorge-gianareas** (1)

	
	Por √∫ltimo, para administrar el servicio de nagios podemos usar el comando sudo systemctl (status, start, restart, reload, stop, enable, disable, list-dependencies) nagios.

* **jorge-gianareas** (1)

	
	tar xvzf nagioscore.tar.gz

* **jorge-gianareas** (1)

	
	wget <https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.4.tar.gz> -O nagioscore.tar.gz

* **jorge-gianareas** (1)

	
	sudo apt install build-essential libgd-dev openssl libssl-dev unzip apache2 php gcc libdbi-perl libdbd-mysql-perl

* **jorge-gianareas** (1)

	
	No todo el software que necesitamos se encuentra en los repositorios. Debido a esto, algunas veces debemos descargar el software, realizar un proceso de descompresi√≥n y desempaquetado para finalmente instalar la herramienta.

* **xavier-sebastian-vaca-ordonez** (1)

	
	sudo ./configure --with-https-conf=/etc/apache2/sites-enabled ‚Äúes cambiar el valor de esa variable cuando se ejecuta el programa que instala nagios‚Äù Si hacen un cat al archivo configure podran encontrar que por defecto tiene este valor --with-httpd-conf=<path_to_conf>

* **dbzdavidbaez** (1)

	
	Entendido. Instalado nagios y sus plugins

* **CalexiS** (1)

	
	Que locha copiar todos esos codigos a mano :c

	* **Jaziel David Flores Rodr√≠guez** (1)

		
		Puedes ingresar por ssh desde tu maquina tu servidor y s√≥lo copiar pegar (para copiar en la terminal es ctr+shift+v)

* **sebastianpinzon15** (1)

	
	Gracias por los aporte, Me encontr√© con los dos problemas que soluciones con comentarios que subieron
	
	  1. No funcionaba el comando ‚Äúmake install‚Äù
	  2. Me ped√≠a usuario para abrir la consola de Nagios Core
	
	

* **Omar Garrido Garc√≠a** (1)

	
	Disculpen como a la mayor√≠a el comando ‚Äúmake-webconf‚Äù no me ha funcionado, intente como lo dicen abajo con otro comando pero eso solo me devuelve el error "cannot create regular file /etc/apache2/sites-enabled/nagios.conf‚Äù si alguien lo a solucionado de otra manera me ayudar√≠a mucho que me eche una mano.

	* **Jos√© Tuzinkievicz** (2)

		
		Si a√∫n no lo resolviste, por [aqu√≠](https://support.nagios.com/forum/viewtopic.php?f=7&t=31238) podr√≠a estar la soluci√≥n.

* **Luis Rodrigo Alvarez Herrera** (1)

	
	Ojo, se debe instalar nagios core

* **Lery Andy Pi√©rola Lazarte** (1)
Por qu√© no puedo usar el scroll del mouse? quiero ver las lineas ejecutadas arriba y no puedo hacer scroll. es as√≠ siempre en un server?

	* **Adri√°n Castillo** (1)

		
		A mi me ocurri√≥ de igual manera pero para que no te suceda eso utiliza putty para conectarte a tu servidor en tu Maquina Virtual.

* **jeydvc** (1)
Hola, Como se que variables digitar cuando le mando el comando sudo ./configure (variables) --with‚Ä¶ Muchas gracias por su ayuda.

	* **edisoncastro14** (1)

		
		Hola, ac√° tienes algunas opciones <https://assets.nagios.com/downloads/nagioscore/docs/nagioscore/3/en/configmain.html>

* **jeydvc** (1)
Hola, cuando le doy el comando de sudo make install me sale este error: ![]( Gracias por su ayuda

	* **xavier-sebastian-vaca-ordonez** (1)

		
		Ahi te dice que el usuario que tienes es invalido: Lo que debes hacer es crearte un usuario ‚Äúnagios en tu pc‚Äù con estos comandos  
		~$ sudo useradd -m -s /bin/bash nagios  
		~$ sudo passwd nagios  
		~$ sudo groupadd nagcmd  
		~$ sudo usermod -a -G nagcmd nagios  
		~$ sudo usermod -a -G nagcmd www-data  
		Encontre la informacion aqui:
		
		<https://www.adictosaltrabajo.com/2011/08/17/nagios-nagiosql-pnp-4nagios/>
		
		En la siguiente clase del curso se ense√±a como crear usuarios

* **Julian Seohanes Meneses** (1)
Al escribir wget https://assets.nagios.com/download...

	* **xavier-sebastian-vaca-ordonez** (1)

		
		Puede ser que el archivo no este temporalmente disponible. Prueba descargando otra versi√≥n

* **asanchez2091** (1)
no puedo correr make install debido a problemas con el usuario nagios

	* **Juan David Castro (Platzi)** (1)

		
		üëã ¬°Hola!  
		üôè ¬øPuedes mostrarnos tu error? üêõüòÖ

* **asanchez2091** (1)
No me funciono el comando ./configure a que se debe??

	* **asanchez2091** (2)

		
		me respondo a mi mismo lo resolv√≠ ingresando a la carpeta de nagios

* **Abrahanco** (0)

	
	Soy el unico siguiendo el curso con Centos? instente la instalacion con RPM y YUM y ambos me dan errores XD tuve que buscar por separado cada cosa para instalarlas, alguien pudo hacerlo directo?

* **Andres Pineda** (0)
Esta configuraci√≥n es igual para Centos, se debe instalar los mismo paquetes?

# Administraci√≥n de usuarios

## 0160. Los usuarios, una tarea vital en el proceso de administraci√≥n del sistema operativo

### Descripci√≥n:


El comando **`id`** nos muestra el identificador √∫nico (uid) de cada usuario en nuestro sistema operativo. El ID 0 est√° reservado para el usuario root.

Con el comando **`whoami`** podemos ver con qu√© usuario estamos trabajando en este momento. Podemos ver todos los usuarios del sistema leyendo el archivo **`/etc/passwd`**.

Las contrase√±as de los usuarios est√°n almacenadas en el archivo **`etc/shadow`** , pero est√°n cifradas. Y solo el usuario root tiene permisos de lectura/escritura.

Para cambiar la contrase√±a de nuestros usuarios usamos el comando **`passwd`**.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (6)

	
	RESUMEN DE LA CLASE  
	|  
	**Los usuarios, una tarea vital en el proceso de administraci√≥n del sistema operativo**  
	|  
	|  
	**Comandos**  
	|  
	**id** : Muestra el identificador √∫nico de mi usuario, del grupo al que pertenezco y los grupos de los cuales formo parte  
	**whoami** : Muestra que usuario soy  
	**passwd** : Cambia la contrase√±a del usuario actual  
	|  
	|  
	**Comandos √∫tiles**  
	|  
	**cat /etc/passwd** : Muestra todos los usuarios del sistema operativo  
	**cat /etc/shadow** : Muestra las contrase√±as del sistema operativo

* **c3tuxpo2018** (3)

	
	Un dato cuando
	
	  * Si eres el usuario y le das el comando passwd para cambiar la contrase√±a el sistema te pedir√° la contrase√±a actual, y despu√©s te permitir√° cambiarla.
	  * Si eres root puedes cambiar la contrase√±a de cualquier usuario y el sistema no te pedir√° la contrase√±a anterior
	
	

* **jorge-gianareas** (2)

	
	Las contrase√±as de los usuarios est√°n almacenadas en el archivo etc/shadow, pero est√°n cifradas. Y solo el usuario root tiene permisos de lectura/escritura.
	
	Para cambiar la contrase√±a de nuestros usuarios usamos el comando passwd.

* **jorge-gianareas** (2)

	
	Con el comando whoami podemos ver con qu√© usuario estamos trabajando en este momento. Podemos ver todos los usuarios del sistema leyendo el archivo /etc/passwd.

* **Mario Emiliano Gordon Pico** (2)
Tengo un centos 7 y al hacer yn request del id me sale como 1009

	* **edisoncastro14** (2)

		
		En las versiones de Centos desde la versi√≥n 7, los usuarios se crean desde el id 1000, para verificar esta configuraci√≥n puedes utilizar el siguiente comando:
		
		`cat /etc/login.defs | grep UID_MIN`

* **Sebastian Camilo Herrera Lopez** (1)

	
	Entendido el tema.

* **Kevin Jefferson Lopez De la O** (1)

	
	 **Resumen**
	
	  * El comando id: Muestra la identificaci√≥n del usuario.  
	OjO en distribuciones basadas Debian la creacion de usuarios(uid) empieza en 1000  
	en CentOs empieza en 500, el id = 0 esta para el root.
	
	  * El comando whoami: Muestra quien es el usuario.  
	El comando: cat rutaArchivo, en este caso cat /etc/passwd, muestra todos los usuarios que se  
	encuentran en el sistema.
	
	  * Las claves de los usuarios est√°n cifradas, y se encuentran en otra ruta  
	comando: sudo cat /etc/shadow
	
	  * Para cambiar la clave de uno de los usuarios  
	comando: sudo passwd nameUser
	
	
	

* **jorge-gianareas** (1)

	
	El comando id nos muestra el identificador √∫nico (uid) de cada usuario en nuestro sistema operativo. El ID 0 est√° reservado para el usuario root.

* **dbzdavidbaez** (1)

	
	Comprendido
	``` 
	    id
	    whoami
	    cat /etc/passwd
	    cat /etc/shadow
	    ls -l /etc/shadow
	    sudo cat /etc/shadow
	    passwd
	    sudo passwd root```
	    
	```

* **yorisnavas** (1)

	
	Bien explicado el contenido

* **asanchez2091** (1)

	
	excelente video clase

* **asanchez2091** (1)
me surgi√≥ una duda el usuario puede puede pertenecer a varios grupos?? xq he visto el grupo root

	* **Juan David Castro (Platzi)** (2)

		
		Correcto. Los usuarios pueden pertenecer a m√°s de un grupo. üòâ
		
		üëâ <https://platzi.com/blog/administracion-usuarios-servidores-linux/>

## 0170. Creando y manejando cuentas de usuario en el sistema operativo

### Descripci√≥n:


Comandos para administrar cuentas de usuarios:

  * **`sudo useradd nombre-usuario`** : crea un usuario sin asignarle inmediatamente alguna contrase√±a ni consultar m√°s informaci√≥n. Debemos terminar de configurar esta cuenta a mano posteriormente.
  * **`sudo adduser nombre-usuario`** : crea un nuevo usuario con contrase√±a y algo m√°s de informaci√≥n. Tambi√©n crear√° una nueva carpeta en la carpeta **`/home/`**.
  * **`userdel nombre-usuario`** : eliminar cuentas de usuarios.
  * **`usermod`** : modificar la informaci√≥n de alguna cuenta.



Nunca modifiques a mano el archivo **`/etc/passwd`**. Para administrar los usuarios debemos usar los comandos que estudiamos en clase.

### Comentarios:

* **Emerson Cede√±o Salazar** (10)

	
	un truco al momento de utilizar el comando `history` es filtrar los resultados con `grep` obteniendo as√≠ informaci√≥n m√°s precisa, en el ejemplo de la clase, se puede utilizar el comando:
	``` 
	    history | grep passwd
	    
	```

	* **ely** (2)

		
		buen aporte

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (5)

	
	RESUMEN DE LA CLASE  
	|  
	**Creando y manejando cuentas de usuario en el sistema operativo**  
	|  
	|  
	**Comandos**  
	|  
	**sudo useradd usuario** : Crea un usuario  
	**sudo adduser usuario** : Crea un usuario y solicita un password, adem√°s de otros datos  
	**sudo userdel usuario** : Borra un usuario  
	**history** : Muestra todos los comandos usados anteriormente  
	**sudo usermod** : Modifica un usuario  
	|  
	|  
	**Comandos √∫tiles**  
	|  
	**cat /usr/sbin/nombre_de_comando** : Muestra el contenido de un comando

* **Kevin Jefferson Lopez De la O** (4)

	
	**Resumen  
	**
	
	  * El archivo que se ubica en la ruta: /etc/passwd _NO SE DEBE MODIFICAR A MANO_ , recordemos que almacena todos los usuarios creados o existentes en el sistema. Siempre se agrega o eliminan usuarios desde la terminal y autom√°ticamente se edita el archivo.
	
	  * El comando sudo useradd newNameUser: crea un usuario y se lo verifica en la carpeta /etc/passwd .Pero este no crea un usuarios especifico, esto se comprueba por que no aparece en la carpeta /home/
	
	  * Para crear un usuario con caracter√≠sticas mas especificas se utiliza el comando: sudo adduser newNameUser
	
	  * Para eliminar a un usuario se utiliza el comando: sudo userdel nameUser . Para comprobar si el usuario fue eliminado se verifica leyendo el archivo con el comando: cat rutaArchivo, en este caso la rutaArchivo(ruta a leer es): /etc/passwd
	
	
	

* **jorge-gianareas** (2)

	
	Nunca modifiques a mano el archivo /etc/passwd. Para administrar los usuarios debemos usar los comandos que estudiamos en clase.

* **jorge-gianareas** (2)

	
	Comandos para administrar cuentas de usuarios:
	
	sudo useradd nombre-usuario: crea un usuario sin asignarle inmediatamente alguna contrase√±a ni consultar m√°s informaci√≥n. Debemos terminar de configurar esta cuenta a mano posteriormente.  
	sudo adduser nombre-usuario: crea un nuevo usuario con contrase√±a y algo m√°s de informaci√≥n. Tambi√©n crear√° una nueva carpeta en la carpeta /home/.  
	userdel nombre-usuario: eliminar cuentas de usuarios.  
	usermod: modificar la informaci√≥n de alguna cuenta.

* **dbzdavidbaez** (2)

	
	Listo, se creo el usuario y se entendi√≥ la clase.
	``` 
	    sudo useradd usuario
	    sudoadduser usuario
	    sudo userdel usuario
	    history
	    cat /usr/sbin/adduser
	    
	```

* **Albert Gonz√°lez Rossell** (2)

	
	history para mostrar comandos utilizados y ‚Äú!X‚Äù donde X sale del listado de history, sirve para volver a ejecutar esa instrucci√≥n que hicimos del listado history

* **Carlos Arturo Bernal Fuquen** (2)
En el curso se indica que para hacer backup se use el comando mv; creo que el comando recomendable seria cp, porque si no dejamos al usua...

* **Emerson Cede√±o Salazar** (2)
si se usa useradd (Linux), la creaci√≥n de su home se har√≠a simplemente creando su carpeta con mkdir, o habr√≠a que hacer algo adicional?

	* **edisoncastro14** (5)

		
		Puedes usar la opci√≥n -m que espec√≠fica que se debe crear un home seguido por la opci√≥n -d, --home-dir HOME_DIR.
		
		Ej: useradd -m -d /home/foo
		
		Todo esto lo puedes ver utilizando el comando man useradd

* **Adam Lei-Yi Chen Abolacio** (1)

	
	Pero que cree un usuario llamado nodejs o que programe la creaci√≥n de usuarios en bd con node.js

* **Jonnathan Ramiro Juma Jara** (1)

	
	las pol√≠ticas de creaci√≥n de usuario deben estar especificadas explicita mente en las empresas

* **asanchez2091** (1)

	
	Ahora el comando **useradd** no te pide la contrase√±a pero si quieres loguearte con ese usuario si lo va hacer seg√∫n le√≠ que debes si o si ejecutar luego **passwd** y colocarle una porque no te va a dejar loguear.

	* **asanchez2091** (1)

		
		a menos que uses el comando **sudo**

* **asanchez2091** (1)

	
	Ayer sin querer me adelante a esta clase muy √∫til ya que hay programas que necesitan la creaci√≥n de usuarios para poder trabajar.

## 0180. Entendiendo la membres√≠a de los grupos

### Descripci√≥n:


Los grupos nos ayudan a darle los mismos permisos a diferentes usuarios al mismo tiempo, sin necesidad de asignar el mismo permiso a cada usuario individualmente. Todos los usuarios que pertenezcan al mismo grupo tendr√°n los mismos permisos.

Para cambiar de usuario sin necesidad de reiniciar el sistema podemos usar el comando **`su - nombre-usuario`**. Tambi√©n podemos cambiar de usuario sin necesidad de saber su contrase√±a usando el comando **`sudo su - nombre-usuario`**.

Para ver a qu√© grupos pertenecen nuestros usuarios usamos el comando **`groups nombre-usuario`**. Para agregar usuarios a un nuevo grupo usamos el comando **`sudo gpasswd -a nombre-usuario nombre-grupo`**. Los eliminamos de la misma forma con **`gpasswd -d`**.

Para esto tambi√©n podemos usar el comando **`sudo usermod -aG nombre-grupo nombre-usuario`**. Recuerda que en este caso el orden en que escribimos el grupo y el ususario se invierte.

Para listar los permisos de nuestros usuarios ejecutamos el comando **`sudo -l`**.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (9)

	
	RESUMEN DE LA CLASE  
	|  
	**Entendiendo la membres√≠a de los grupos**  
	|  
	|  
	**Comandos**  
	|  
	**su - usuario** : Switch User, cambia de usuario  
	**groups usuario** : Muestra a que grupos pertenece cierto usuario  
	**sudo gpasswd -a usuario grupo** : Agrega un usuario a un grupo  
	**sudo gpasswd -d usuario grupo** : Quita a un usuario de un grupo  
	**usermod -aG grupo usuario** : Agrega un usuario a un grupo  
	**sudo -l** : Muestra que permisos tiene el usuario actual

* **Emerson Cede√±o Salazar** (7)

	
	Siguiendo el ejemplo, para hacer que el usuario **nodejs** sea _Administrador_ :
	
	‚Ä¶ en **Ubuntu** :
	``` 
	    sudo gpasswd -a nodejs sudo
	    
	```
	
	‚Ä¶ en **Centos** :
	``` 
	    sudo gpasswd -a nodejs wheel
	    
	```

* **ludagoli** (3)

	```
	    passwd
	    useradd "user"
	    adduser "user"
	    userdel "user
	    su - "user"
	    groups "user"
	    sudo gpasswd -a "user" "group"
	    sudo gpasswd -d "user" "group"
	    usermod -aG "group" "user"
	    usermod -L "user"
	    usermod -U "user"
	    
	```

* **dbzdavidbaez** (2)

	
	Entendido.
	``` 
	    su - usuario 
	    groups nodejs
	    sudo gpasswd -a nodejs sudo
	    sudo gpasswd -d nodejs sudo
	    usermod -aG sudo nodejs
	    sudo -l
	    
	```

* **Jaziel David Flores Rodr√≠guez** (2)

	
	Siempre editaba directamente el archivo sudoers, que tonto jajaja

	* **ludagoli** (1)

		
		jajja x2

* **Luis Rodrigo Alvarez Herrera** (2)

	
	para remover el usuario del grupo usando usermod
	``` 
	    sudo usermod -G [grupo][usuario]
	    
	```
	
	Para este ejemplo si queremos quitar a nodejs del grupo de sudo  
	queda asi
	``` 
	    sudo usermod -G nodejs nodejs
	    
	```

* **jorge-gianareas** (1)

	
	Para esto tambi√©n podemos usar el comando sudo usermod -aG nombre-grupo nombre-usuario. Recuerda que en este caso el orden en que escribimos el grupo y el ususario se invierte.
	
	Para listar los permisos de nuestros usuarios ejecutamos el comando sudo -l.

* **jorge-gianareas** (1)

	
	Para ver a qu√© grupos pertenecen nuestros usuarios usamos el comando groups nombre-usuario. Para agregar usuarios a un nuevo grupo usamos el comando sudo gpasswd -a nombre-usuario nombre-grupo. Los eliminamos de la misma forma con gpasswd -d.

* **jorge-gianareas** (1)

	
	Para cambiar de usuario sin necesidad de reiniciar el sistema podemos usar el comando su - nombre-usuario. Tambi√©n podemos cambiar de usuario sin necesidad de saber su contrase√±a usando el comando sudo su - nombre-usuario.

* **Juan Jos√© Castro** (1)

	
	Edison, c√≥mo est√°s ?
	
	Me parece que vale la pena aclarar que no siempre es el grupo ‚Äúsudo‚Äù (entiendo que ser√≠a el grupo ‚Äúsudo‚Äù solo en linux basados en debian) estoy usando un arch linux y el grupo por default es ‚Äúwheel‚Äù (verificando el file /etc/sudoers)  
	Modificando el /etc/sudoers uno incluso podr√≠a agregar un grupo que tenga permisos de super usuario.

* **Edwin De Jesus Chiyopa Garcia** (1)

	
	cree un usuario con el commando useradd prueba, le puse un password con passwd prueba, al momento de usar el usuario y querer autocompleta un commando con tab, solo me hace el salto de linea pero no autocompleta, a que se debe esto?

* **Emerson Cede√±o Salazar** (1)
cu√°les podr√≠an ser las implicaciones de que fuera del root (en Linux) no hallan usuarios Administradores (sudo)?

	* **edisoncastro14** (3)

		
		Existen ciertos comandos que necesitan tener sudo (super user do) como base, por ejemplo la actualizaci√≥n de √≠ndices y descarga de paquetes, si no tienes un usuario con esos permisos tendr√≠as restricci√≥n para ejecutar algunas tareas propias del sistema operativo. Todo esto se puede modificar con un usuario con permisos usando el comando visudo que modifica el archivo sudoers.

* **Emerson Cede√±o Salazar** (1)
en Centos para consultar qu√© usuarios pertenecen a un grupo se ejecuta ‚Äúlid -g [nombre-del-grupo]‚Äù, cu√°l ser√≠a el equivalente en Ubuntu?

	* **edisoncastro14** (2)

		
		Lo puedes realizar con el comando groups usuario, ejemplo, si quiero ver los grupos del usuario edison ejecuto groups edison

## 0190. Usando PAM para el control de acceso de usuarios

### Descripci√≥n:


 **PAM** es un mecanismo para **administrar a los usuarios** de nuestro sistema operativo. Nos permite autenticar usuarios, controlar la cantidad de procesos que ejecutan cada uno, verificar la fortaleza de sus contrase√±as, ver la hora a la que se conectan por SSH, entre otras.

Con el comando **`pwscore`** podemos probar qu√© tan fuertes son nuestras contrase√±as. Recuerda que para usar este comando en sistemas basados en Ubuntu debemos instalar el paquete **`libpwquality-tools`**.

El comando **`ulimit`** nos ayuda a listar los permisos de nuestros usuarios. Para limitar el n√∫mero de procesos que nuestros usuarios pueden realizar ejecutamos **`ulimit -u max-numero-procesos`**.

### Links:

* [Curso de Programaci√≥n en Bash Shell](https://platzi.com/clases/bash-shell/)

* [http://www.pathname.com/fhs/pub/fhs-2.3.pdf](http://www.pathname.com/fhs/pub/fhs-2.3.pdf)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (7)

	
	RESUMEN DE LA CLASE  
	|  
	**Usando PAM para el control de acceso de usuarios**  
	|  
	|  
	**Comandos**  
	|  
	**pwscore** : Eval√∫a si una contrase√±a es buena o mala del 0 al 100  
	**ulimit** : Muestra los permisos que tiene el usuario actual. Modificadores:
	
	  * **-u numero** : Cambia la cantidad de procesos que mi usuario puede ejecutar
	
	
	
	|  
	|  
	**Comandos √∫tiles**  
	|  
	**sudo vi /etc/security/time.conf** : Modifica el archivo que indica en que horarios pueden conectarse ciertos usuarios

* **dbzdavidbaez** (2)

	
	Entendido, lastima que no se profundizo mucho m√°s, ya que este tema es inmenso y demasiado importante.
	``` 
	    ls /etc/pam.d
	    ls /lib64/security
	    ls /etc/security
	    pwscore
	    ulimit -u 10  --numero de procesos
	    vi script.sh
	    chmod +x script.sh
	    ./script.sh
	    vi /etc/security/time.conf
	    sudo vi /etc/security/time.conf
	    gpasswd -a dbz wheel
	    groups dbz
	    
	```

* **asanchez2091** (2)
dar permisos de root a un usuario no es peligro ??? xq no realizo por ejemplo la modificaci√≥n del archivo /etc/security/time.conf...

	* **Juan David Castro (Platzi)** (2)

		
		Sip. Es un peligro peligros√≠simo. üòÖ
		
		De preferencia debemos darle a los usuarios (y a nuestros propios usuarios) los permisos m√≠nimos necesarios para que puedan operar correctamente y sin peligro de cometer errores en nuestros sistemas.
		
		üëâ <https://platzi.com/blog/administracion-usuarios-servidores-linux/>

* **Dante Castillo Z.** (1)

	
	excelentes comandos que no lo tenia dentro de mi bitacora.

* **gavilanrolando** (1)

	
	excelente

* **Jonnathan Ramiro Juma Jara** (1)

	
	una gran herramienta PAM

* **jorge-gianareas** (1)

	
	El comando ulimit nos ayuda a listar los permisos de nuestros usuarios. Para limitar el n√∫mero de procesos que nuestros usuarios pueden realizar ejecutamos ulimit -u max-numero-procesos.

* **jorge-gianareas** (1)

	
	Con el comando pwscore podemos probar qu√© tan fuertes son nuestras contrase√±as. Recuerda que para usar este comando en sistemas basados en Ubuntu debemos instalar el paquete libpwquality-tools.

* **jorge-gianareas** (1)

	
	PAM es un mecanismo para administrar a los usuarios de nuestro sistema operativo. Nos permite autenticar usuarios, controlar la cantidad de procesos que ejecutan cada uno, verificar la fortaleza de sus contrase√±as, ver la hora a la que se conectan por SSH, entre otras

* **Jaziel David Flores Rodr√≠guez** (1)

	
	Hay un problema creo que ya no se encuentra disponible libpwdquality-tools

	* **dbzdavidbaez** (1)

		
		Esta es la informaci√≥n para la librer√≠a en Ubuntu
		
		[libpwquality-tools](https://launchpad.net/ubuntu/bionic/+package/libpwquality-tools)
		``` 
		    sudo apt intall libpwquality-tools
		    pwscore
		    
		```

* **david-medina111** (1)

	
	buenas, no he podido instalar paquetes en mi version de ubuntu para utilizar el comando pwscope, que me parece muy interesante.  
	Comando ejecutado: sudo apt-get install libpwquality-tools  
	mensaje: E: no se ha podido localizar el paquete libpwquality-tools  
	he probado algunas fuentes y me arroja el mismo mensaje.  
	Desde ya gracias!

* **diegohernanvillalobos** (1)
C√≥mo se vuelve al valor predeterminado de ulimit? por ejemplo, volverlo al valor que estaba antes de ponerlo en 10, porque le hago ulimit...

	* **edisoncastro14** (3)

		
		Ulimit funcionar√° mientras tu sesi√≥n de consola est√© activa, si deseas modificar los par√°metros debes editar este archivo /etc/security/limits.conf

* **Emerson Cede√±o Salazar** (1)
y ‚Ä¶ c√≥mo se ve / consulta (en Linux) la hora a la que un usuario se conect√≥ por SSH?

	* **edisoncastro14** (4)

		
		Puedes hacerlo de varias formas:
		
		En ubuntu, leer el archivo /var/log/auth.log, o buscar directamente sobre este archivo con grep, algo como /var/log/auth.log | grep ‚ÄúAccepted‚Äù, si necesitas solo la fecha cat auth.log | grep ‚ÄúAccepted‚Äù | awk ‚Äò{ print $1, $2, $3 }‚Äô
		
		En Centos: Puedes buscar en /var/log/secure
		
		Puedes ver quien ha realizado logins exitosos usando last y ver los intentos fallidos con sudo lastb.

* **NahunOsevilla** (0)

	
	belleza

# Servicios en el sistema operativo

## 0200. Autenticaci√≥n de clientes y servidores sobre SSH

### Descripci√≥n:


 **SSH** es un protocolo que nos ayuda a conectarnos a nuestros servidores desde nuestras m√°quinas para administrarlos de forma remota. No es muy recomendado usar otros protocolos como Telnet, ya que son inseguros y est√°n deprecados.

Con el comando **`ssh-keygen`** podemos generar llaves p√∫blicas y privadas en nuestros sistemas, de esta forma podremos conectarnos a servidores remotos o, si es el caso, permitir que otras personas se conecten a nuestra m√°quina.

Para conectarnos desde nuestra m√°quina a un servidor remoto debemos:

  1. Ejecutar el comando **`ssh-copy-id -i ubicaci√≥n-llave-p√∫blica nombre-usuario@direcci√≥n-IP-servidor-remoto`** y escribir nuestra contrase√±a para enviar nuestra llave p√∫blica al servidor.
  2. Usar el comando **`ssh nombre-usuario@direcci√≥n-IP-servidor-remoto`** para conectarnos al servidor sin necesidad de escribir contrase√±as.



Tambi√©n podemos usar el comando **`ssh -v ...`** para ver la informaci√≥n o los errores de nuestra conexi√≥n con el servidor. Puedes usar la letra v hasta 4 veces ( **`-vvvv`** ) para leer m√°s informaci√≥n.

Las configuraciones de SSH se encuentran en el archivo **`/etc/ssh/sshd_config`**.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (12)

	
	RESUMEN DE LA CLASE  
	|  
	**Autenticaci√≥n de clientes y servidores sobre SSH**  
	|  
	|  
	**SSH** : Secure Shell, es un protocolo que permite conectar dos computadoras de forma remota sin necesidad de un password, √∫nicamente con la interacci√≥n de una llave p√∫blica y una llave privada (aunque podemos colocar una contrase√±a sobre las llaves)  
	|  
	|  
	**Configuraci√≥n**  
	|
	
	  1. En el servidor, abrir el archivo `/etc/ssh/sshd_config` con alg√∫n editor. Leer el archivo y configurar a gusto.
	  2. En la consola de la m√°quina cliente abrir `ssh-keygen` para generar las llaves
	  3. Elegir ubicaci√≥n para guardar la llave privada
	  4. Ejecutar `ssh-copy-id -i directorio_de_llave/id_rsa.pub nombre_usuario@direccion_ip_del_servidor` para copiar la llave p√∫blica al servidor
	  5. Ejecutar `ssh nombre_usuario@direccion_ip_del_servidor` en la m√°quina cliente para conectarnos exitosamente de forma remota
	
	
	
	|  
	|  
	**Tips**  
	|
	
	  * En lugar de descargar Putty en Windows podemos utilizar el emulador de consola Unix llamado **Cmder** para ejecutar los comandos vistos en clase. Incluso si esto falla, lo que personalmente recomiendo es instalar un subsistema de linux si tenemos Windows 10. Platzi tiene incluso un art√≠culo sobre como hacer eso: <https://platzi.com/clases/1378-python-practico/19200-importante-instalando-ubuntu-bash-en-windows-para-/>
	  * Si la conexi√≥n falla, podemos usar el modificador **-v** (verbose) en el comando `ssh` para poder ver la informaci√≥n que env√≠an las m√°quinas que intentan conectarse. La ‚Äúv‚Äù puede repetirse hasta cuatro veces, quedando el comando, por ejemplo, como: `ssh -vvvv nombre_usuario@direccion_ip_del_servidor`. A mas ‚Äúv‚Äù pongamos, m√°s informaci√≥n se mostrar√°  
	|  
	|  
	**BONUS**  
	|  
	**Reto** : Restringir el acceso al usuario root por ssh, y permitir solo un usuario determinado conectado  
	|  
	**Soluci√≥n** :  
	|
	
	
	  1. Colocar en el archivo `/etc/ssh/sshd_config` del servidor las siguientes l√≠neas:
	
	
	``` 
	    PermitRootLoginno
	    AllowUsers nombre_usuario
	    
	```
	
	  1. Ejecutar el siguiente comando para reiniciar el servicio de ssh:
	
	
	``` 
	    sudo service sshd restart
	    
	```

* **Edwin De Jesus Chiyopa Garcia** (9)

	
	hay que agregar en /etc/ssh/sshd_config  
	PermitRootLogin no  
	AllowUsers <nombre de usuario>  
	o si se quiere agregar un grupo  
	AllowGroups <nombre del grupo>  
	// Tambien se puede denegar el acceso con DenyUsers o DenyGroups

* **Javier Avil√©s** (4)

	
	el link de Marino es de otro curso y est√° genial!  
	<https://platzi.com/clases/1650-prework/21958-crea-llaves-ssh/>

* **Emerson Cede√±o Salazar** (4)

	
	En el caso que hayan guardado la llave en `~/.ssh/` con un nombre diferente al por default, digamos `llave_curso`, el comando a utilizar para conectarse ser√≠a el siguiente:
	``` 
	    ssh -i ~/.ssh/llave_platzi platzi@192.168.10.186
	    
	```
	
	**IMPORTANTE:** _cuando no trabajan con el nombre por default, se√±alar el nombre de la llave, de otra forma buscar√° archivo de nombre id_rsa y dar con esto les tomar√° tiempo y un par de dolores de cabeza_ üòâ

* **Marino Checo** (3)

	
	Bueno‚Ä¶ es verdad que nos deben dar una orientaci√≥n de como hacer algo‚Ä¶ ** **pero que nos digan que ya lo tengo hecho no lo voy hacer‚Ä¶ creo que esta mal** ‚Ä¶ **‚Ä¶ Aqu√≠ en este tema falto muchos otros aspectos por abordar‚Ä¶

	* **Marino Checo** (3)

		
		Aqu√≠ explican detallan un poco mas sobre este tema‚Ä¶
		
		<https://platzi.com/clases/1650-prework/21958-crea-llaves-ssh/>

* **Omar Garrido Garc√≠a** (2)

	
	[https://www.youtube.com/watch?v=2TLqfsPOYCc&t=185s](https://www.youtube.com/watch?v=2TLqfsPOYCc&t=185s)  
	Banda que usa Windows, sigan este tutorial al pie de la letra, tal y como lo marcan, para poder hacer la conexi√≥n remota usando Putty

* **Nicolas David Pastran Zamora** (2)
Cuando el profe listo las llaves ssh, apareci√≥ una con extensi√≥n .pem. Como se usa esta llave y en que casos Usarla ?

* **Christian Daniel V√°zquez** (2)
Consulta, ¬ølas llaves publicas y privadas son siempre obligatorias? si me asigna un usuario en un servidor determinado para poder conecta...

	* **Wonder Jhonny Diaz Gonzalez** (6)

		
		Hola, respondiendo a las preguntas:  
		**¬øLas llaves p√∫blicas y privadas son siempre obligatorias?**  
		Por seguridad, es obligatorio el uso de las llaves p√∫blicas y privadas. Que lo puedas hacer sin las llaves, no significa que se deba hacer as√≠.  
		**¬øDebo realizar siempre este paso en cada terminal que quiera tener acceso?**  
		El paso de generar las llaves se genera una vez y accedes con las misma, no es necesario en cada terminal, ya que la llave se encuentra generada y solo necesitas la llave que descifre.  
		**¬øDebo generar estas claves por cada servidor o se puede reutilizar estas llaves para todos los servidores?**  
		Cada servidor debe tener una llave p√∫blica y privada independiente por seguridad.

* **Carlos_Jacob** (1)

	
	como no pude utilizar el ssh-copy-id porque tengo maquina windows, utilice cat
	``` 
	    cat id_rsa.pub | ssh user@192.168.8.105"mkdir ~/.ssh; cat >> ~/.ssh/authorized_keys"
	    
	```

* **Ramquiel** (1)

	
	ssh-copy-id username@remote_host

* **Jonnathan Ramiro Juma Jara** (1)

	
	las conexiones a los servidores por ejemplo en entornos en los que manejo un master siempre se conectan por claves ssh generadas

* **Salvador Jose Campanella Salas** (1)

	
	Si ven que su consola no es tan bonita y no tiene las funciones como cambiar de comando tan facilmente es debido a que en este video estan usando ZSH: <https://ohmyz.sh/>

* **jorge-gianareas** (1)

	
	Tambi√©n podemos usar el comando ssh -v ‚Ä¶ para ver la informaci√≥n o los errores de nuestra conexi√≥n con el servidor. Puedes usar la letra v hasta 4 veces (-vvvv) para leer m√°s informaci√≥n.
	
	Las configuraciones de SSH se encuentran en el archivo /etc/ssh/sshd_config.

* **jorge-gianareas** (1)

	
	Para conectarnos desde nuestra m√°quina a un servidor remoto debemos:
	
	Ejecutar el comando ssh-copy-id -i ubicaci√≥n-llave-p√∫blica nombre-usuario@direcci√≥n-IP-servidor-remoto y escribir nuestra contrase√±a para enviar nuestra llave p√∫blica al servidor.  
	Usar el comando ssh nombre-usuario@direcci√≥n-IP-servidor-remoto para conectarnos al servidor sin necesidad de escribir contrase√±as.

* **jorge-gianareas** (1)

	
	Con el comando ssh-keygen podemos generar llaves p√∫blicas y privadas en nuestros sistemas, de esta forma podremos conectarnos a servidores remotos o, si es el caso, permitir que otras personas se conecten a nuestra m√°quina.

* **jorge-gianareas** (1)

	
	SSH es un protocolo que nos ayuda a conectarnos a nuestros servidores desde nuestras m√°quinas para administrarlos de forma remota. No es muy recomendado usar otros protocolos como Telnet, ya que son inseguros y est√°n deprecados.

* **dbzdavidbaez** (1)

	
	Entendido y funcional.

* **Emerson Cede√±o Salazar** (1)

	
	Otro tip, para el caso de que manejen numerosas conexiones a servidores linux por ssh, manejar un archivo `config` les har√° la vida un poco m√°s sencilla, ac√° les dejo [la clase](https://platzi.com/clases/1123-linux-2017/7039-manejo-de-sesiones-remotas-con-tmux-y-ssh/?time=189) _(del curso anterior)_ donde tratan el tema!

* **Luis Rodrigo Alvarez Herrera** (1)

	
	En las mismas opciones de config
	
	se puede lograr lo que propone el profe

* **Emerson Cede√±o Salazar** (1)

	
	herramientas a tener a disposici√≥n en caso de trabajar con m√°q. Windows para conexiones por SSH

	* **juan-sebastian-otero** (2)

		
		Para efectos del curso, yo te recomendar√≠a:
		
		  * Putty: Para conectarte por ssh.
		  * Git: Puedes usar Git bash para simular una terminal de linux y poder usar los comandos de ssh-keygen y el -ssh-copy-id. (Puedes ver esta clase para saber como usar gitbash [introduccion-a-la-terminal-y-linea-de-comandos](https://platzi.com/clases/1557-git-github/19937-introduccion-a-la-terminal-y-linea-de-comandos/)
		
		

* **willeonardo19** (1)
Hola, una consulta, estoy trabajando con centos, pero al momento de tratar de reiniciar el ssh con el comando sudo service ssh restart, m...

	* **Juan David Castro (Platzi)** (2)

		
		Parece que as√≠ como el servicio de Apache no es **`apache`** sino **`apache2`** , el servicio de ssh es **`sshd`**.
		
		üëâ <https://www.cyberciti.biz/faq/howto-restart-ssh/>

* **Emerson Cede√±o Salazar** (1)
en casa puedo conectarme por SSH a mi servidor (en Digital Ocean) sin problema; en la oficina ya no puedo conectarme, ¬øqu√© creen puede es...

	* **Manuel Ojeda** (2)

		
		Puede ser cuesti√≥n de la red de tu oficina que est√©n bloqueando los accesos

## 0210. Configurando DNS con bind

### Descripci√≥n:


Antes de empezar a configurar el servicio de DNS, es importante conocer algo de historia, as√≠ como algunas alternativas que tenemos para comprar DNS.

### Contexto hist√≥rico de los DNS

En Junio de 1983 alrededor de 70 sitios estuvieron conectados a la red de ciencias de la computaci√≥n, permitiendo de esta forma la uni√≥n de algunos establecimientos gubernamentales, cient√≠ficos y universitarios para que pudieran compartir datos, por esta raz√≥n los archivos de host no eran suficientes para hacer la replicaci√≥n entre sitios, por este motivo en noviembre de 1983 se public√≥ el [RFC 882](https://www.techopedia.com/definition/27929/request-for-comments-rfc) que define el servicio de nombre de dominios. Paso siguiente en octubre de 1984 se crearon 7 TLDs (Dominios de nivel superior) o tambi√©n conocidos como dominios de prop√≥sito general .arpa, .com, .org, .edu, .gov, .mil y la letra de los pa√≠ses respetando su c√≥digo ISO [1]

### Instalaci√≥n de Bind

Para realizar el proceso de instalaci√≥n de **`bind`** lo primero que realizaremos es verificar que bind se encuentre en los repositorios, para esto utilizaremos otro gestor de paquetes llamado **`aptitude`** , para instalarlo simplemente diremos **`sudo apt install aptitude`**.

Con `aptitude` instalado buscaremos el paquete `bind` utilizando para ellos una expresi√≥n regular.

![1.png](https://static.platzi.com/media/user_upload/1-14be2396-5798-4308-91f4-6bf77d68f68c.jpg)

El proceso de instalaci√≥n se realiza con **`sudo apt install -y bind9`** , la opci√≥n **`-y`** es para confirmar que si queremos instalar el paquete en menci√≥n.

Validamos la instalaci√≥n con **`netstat`** y verificaremos que el puerto 53 est√© en escucha

![2.png](https://static.platzi.com/media/user_upload/2-a2456330-56b3-48e0-b9e1-9b6b9fdea8af.jpg)

Si deseamos ver el programa que est√° ejecutando este servicio agregamos el modificador **`p`** a **`netstat`** , as√≠ como sudo. **`sudo netstat -ltnp`**

![3.png](https://static.platzi.com/media/user_upload/3-6f9e86dc-67da-4a0f-b6ea-aaa8219686e9.jpg)

Para realizar consultas al DNS podemos utilizar varias herramientas, entre ellas **dig** , que me permiten conocer m√°s al respecto del nombre de dominio, para ello usaremos el dominio [platzi.com](http://platzi.com) y lo buscaremos en la m√°quina local, es decir 127.0.0.1

**`dig www.platzi.com @127.0.0.1`**

All√≠ encontraremos una salida, nos interesa la parte de respuesta y la de tiempo de ejecuci√≥n para validar que la respuesta se dio desde localhost.

![4.png](https://static.platzi.com/media/user_upload/4-8f5a5df5-b9c9-4196-86f5-801d6aa490aa.jpg)

Paso siguiente despu√©s de instalarlo es verificar todo lo que viene incluido dentro del paquete como lo son los archivos de configuraci√≥n manuales entre otros, para esto podemos hacer uso de **`dpkg -L bind9`**.

![5.png](https://static.platzi.com/media/user_upload/5-d6ca3e4e-8c8b-4240-b0a0-700ce6f06cbb.jpg)

El archivo de configuraci√≥n principal ser√° **`/etc/bind/named.conf`** , tambi√©n tenemos el archivo **`/etc/bind/rndc.key`** en este se puede configurar la clave que se puede usar para obtener acceso al nombre de dominio.

Podemos ver la versi√≥n de bind de dos formas named -v o una versi√≥n extendida con named -V

Si deseas adquirir tu DNS, tienes varias opciones:

  1. [Namecheap](https://www.namecheap.com/)
  2. [Hover](https://www.hover.com/)
  3. [Route 53](https://aws.amazon.com/es/route53/)



Como cliente tienes varias opciones para configurar tus DNS, lo que influir√° directamente en tu velocidad, seguridad o reputaci√≥n. Para eso te dar√© algunas opciones, el orden no significa nada:

  1. [OpenDns](https://www.opendns.com/)
  2. [Google DNS](https://developers.google.com/speed/public-dns/)
  3. [Neustar UltraDNS](https://www.home.neustar/dns-services)
  4. [Cloudflare ](https://www.cloudflare.com/dns/)
  5. [quad ](https://www.quad9.net/)
  6. [Public DNS](https://public-dns.info/)
  7. [Yandex DNS](https://dns.yandex.com/)



Existe una herramienta que nos permite seleccionar cu√°l ser√° el DNS que debemos utilizar basados en nuestra ubicaci√≥n y nuestras b√∫squedas, se llama [namebench](https://code.google.com/archive/p/namebench/downloads). Para ello s√≥lo basta instalarlo y ejecutarlo en la m√°quina cliente y con esto obtendremos sugerencias al respecto.

<https://tools.ietf.org/html/rfc920>

### Comentarios:

* **Luis Rodrigo Alvarez Herrera** (4)

	
	Para una mayor configuracion de este servicio usa este enlace me ayudo mucho
	
	<https://www.digitalocean.com/community/tutorials/how-to-configure-bind-as-a-private-network-dns-server-on-ubuntu-18-04>

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

	
	RESUMEN DE LA CLASE  
	|  
	**Configurando DNS con bind**  
	|  
	|  
	Pasos a seguir  
	|
	
	  * Instalar bind9:
	
	
	``` 
	    sudo apt install -y bind9
	    
	```
	
	  * Verificar que el puerto 53 est√© en escucha
	
	
	``` 
	    sudo netstat -ltnp
	    
	```
	
	  * Consultar al DNS para comprobar que todo funciona correctamente
	
	
	``` 
	    digwww.platzi.com @127.0.0.1
	    
	```

* **Sergio Sabino** (2)

	
	Excelente forma de explicar la configuracion de DNS con Bind.

* **Jos√© Tuzinkievicz** (2)

	
	En Ubuntu Server 16.04, al correr sudo **netstat -ltnp** el puerto 53 no aparec√≠a porque no se hab√≠a iniciado el bind, para hacerlo corr√≠
	
	**sudo service bind9 start**
	
	Luego funcion√≥.

* **Luis Rodrigo Alvarez Herrera** (2)

	
	usa la combinacvion del comando que sugieren con grep
	``` 
	    netstat -ltpn | grep 53
	    
	```

* **Hector Efren Mora Acosta** (1)

	
	¬¥muchas gracias,

* **Sebastian Camilo Herrera Lopez** (1)

	
	Excelente articulo.

* **fpugliese** (1)

	
	Tengo el siguiente error al ejecutar `sudo apt-get update`:![sudo_update.jpg](https://static.platzi.com/media/user_upload/sudo_update-edb4a458-18c5-4903-94a0-5d8aa599f9f3.jpg)
	
	Seg√∫n lo que le√≠ es un problema de los DNS. Alguien sabe como puedo solucionarlo?

	* **rafster.15** (1)

		
		es un problema de tus repositorios mas que de el DNS fijate en el archivo de configuracion de apt /etc/apt/source.list  
		y setea los repositorios correctos

	* **isra_rivero** (1)

		
		Lo solucione de esta manera  
		$ echo nameserver 8.8.8.8 | sudo tee /etc/resolv.conf

* **Ronald Sierra** (1)

	
	Esto seria lo mismo que un rol dns de windows S?

	* **Marino Checo** (1)

		
		Saludo, hay algunas similitudes‚Ä¶ el domino en windows server o tambi√©n en cualquier distribuci√≥n de Linux que sea de manera local es para tu aplicar pol√≠ticas de administraci√≥n de los usuarios, esto es un dominio local, pero por los links de referencia que dejo el profesor se refiere para tu poder crear un dominio web (www.esta_es_mi_web.com)

## 0220. Arranque, detenci√≥n y recarga de servicios

### Descripci√≥n:


El comando **`systemctl`** nos permite manejar los procesos de nuestro sistema operativo. Nuestros servicios pueden estar **activos** (es decir, encendidos) o **inactivos** (apagados). Tambi√©n podemos configurar si est√°n **habilitados** o **deshabilitados** para correr autom√°ticamente con el arranque del sistema.

  * **`sudo systemctl status nombre-servicio`** : ver el estado de nuestros servicios.
  * **`sudo systemctl (enable, disable) nombre-servicio`** : activar o desactivar el arranque autom√°tico de nuestros servicios.
  * **`sudo systemctl (start, stop, restart) nombre-servicio`** : encender, apagar o reiniciar los servicios.
  * **`sudo systemctl list-units -t service --all`** : ver todos los servicios del sistema.



El comando **`journalctl`** nos permite ver los logs de los procesos de nuestro sistema operativo. Recuerda que todos ellos est√°n almacenados en la carpeta **`/var/log/`**.

  * **`sudo journalctl -fu nombre-servicio`** : ver los logs de nuestros servicios y hacer un seguimiento.
  * **`sudo journalctl --disk-usage`** : ver la cantidad de espacio que ocupan nuestros logs.
  * **`sudo journalctl --list-boots`** : ver los logs desde el √∫ltimo arranque del sistema.
  * **`sudo journalctl -p (critic, info, warning, error)`** : filtrar los logs por el tipo de mensaje.
  * **`sudo journalctl -o json`** : ver los logs en formato JSON.



### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (5)

	
	RESUMEN DE LA CLASE  
	|  
	**Arranque, detenci√≥n y recarga de servicios**  
	|  
	|  
	**Comandos**  
	|
	
	  * **sudo systemctl status servicio** : Estado de un servicio
	  * **sudo systemctl enable servicio** : Habilita un servicio
	  * **sudo systemctl disable servicio** : Deshabilita un servicio
	  * **sudo systemctl start servicio** : Enciende un servicio
	  * **sudo systemctl stop servicio** : Apaga un servicio
	  * **sudo systemctl restart servicio** : Reinicia un servicio
	  * **sudo systemctl list-units -t service --all** : Lista los servicios del sistema
	  * **sudo journalctl -fu servicio** : Muestra el log de un servicio
	  * **sudo journalctl --disk-usage** : Muestra cuanto pesan los logs en el sistema operativo
	  * **sudo journalctl --list-boots** : Muestra los booteos de la computadora
	  * **sudo journalctl -p critic|notice|info|warning|error** : Muestra mensajes de determinada categor√≠a de nuestros logs
	  * **sudo journalctl -o json** : Muestra los logs en formato json
	
	

* **Luis Rodrigo Alvarez Herrera** (3)

	
	Aun sigue funcionando la vieja confiable
	``` 
	    service [nombre servicio][accion]
	    
	    service apache2 restart
	    
	    
	    
	    
	    
	```

* **c3tuxpo2018** (2)

	
	O la otra Vieja confiable /etc/init.d/apache2 restart

* **Carlos Luis Venegas** (1)

	
	Cual es la diferencia entre iniciar con init.d y systemctl

	* **Wilder Alexander David Hoyos** (1)

		
		ac√° puedes encontrar informaci√≥n al respecto.  
		[Diferencia entre systemctl init.d y service](https://askubuntu.com/questions/911525/difference-between-systemctl-init-d-and-service)

* **Jonnathan Ramiro Juma Jara** (1)

	
	sudo systemctl <stop-start-enable-restart-status> <aplicaicon>

	* **juancapote** (1)

		
		tambien esta el reload-or-restart (o al reves xD)

* **jorge-gianareas** (1)

	
	sudo journalctl -fu nombre-servicio: ver los logs de nuestros servicios y hacer un seguimiento.  
	sudo journalctl --disk-usage: ver la cantidad de espacio que ocupan nuestros logs.  
	sudo journalctl --list-boots: ver los logs desde el √∫ltimo arranque del sistema.  
	sudo journalctl -p (critic, info, warning, error): filtrar los logs por el tipo de mensaje.  
	sudo journalctl -o json: ver los logs en formato JSON.

* **jorge-gianareas** (1)

	
	El comando journalctl nos permite ver los logs de los procesos de nuestro sistema operativo. Recuerda que todos ellos est√°n almacenados en la carpeta /var/log/.

* **jorge-gianareas** (1)

	
	sudo systemctl status nombre-servicio: ver el estado de nuestros servicios.  
	sudo systemctl (enable, disable) nombre-servicio: activar o desactivar el arranque autom√°tico de nuestros servicios.  
	sudo systemctl (start, stop, restart) nombre-servicio: encender, apagar o reiniciar los servicios.  
	sudo systemctl list-units -t service --all: ver todos los servicios del sistema.

	* **oscarvale01** (1)

		
		alguien mas nota que el compa√±ero solo copia y pega lo que dice la descripci√≥n debajo de v√≠deo?

* **jorge-gianareas** (1)

	
	l comando systemctl nos permite manejar los procesos de nuestro sistema operativo. Nuestros servicios pueden estar activos (es decir, encendidos) o inactivos (apagados). Tambi√©n podemos configurar si est√°n habilitados o deshabilitados para correr autom√°ticamente con el arranque del sistema.

* **dbzdavidbaez** (1)

	
	Entendido
	``` 
	    sudo systemctl status apache2
	    sudo systemctl enable apache2
	    sudo systemctl start apache2
	    sudo systemctl stop apache2
	    sudo systemctl restart apache2
	    sudo systemctl list-units -t services --all 
	    sudo journalctl -fu apache2
	    sudo journalctl --disk-usage
	    sudo journalctl --list-boots
	    sudo journalctl --p crit
	    sudo jornalctl -o json
	    
	```

* **jeydvc** (1)

	
	Hola, como hago para borrar los log¬¥s???

* **yorisnavas** (1)

	
	Excelente el contenido del v√≠deo.

* **Diego Michael  Zabala Montenegro** (1)

	
	Cuando emito el comando system status apache 2 me dice que:  
	Unit apache2.service count not be found  
	Que puedo hacer?

	* **sotecnar** (1)

		
		Intenta lo siguiente
		``` 
		    sudo systemctl status apache2
		    
		```

	* **Juan Jos√© Castro** (1)

		
		Diego, c√≥mo est√°s ?
		
		Eso se debe a que el ejemplo del video lo hace con el servicio apache el cual no viene instalado por default en la mayoria de los servers y por tal motivo en tu caso no lo encuentra.
		
		Lo que pod√©s hacer es hacer el ejercicio pero con otro servicio que est√© corriendo o instalando apache.

* **jeydvc** (1)
Hola, como hago para borrar los log¬¥s y bajar el tama√±o del disco??? Muchas gracias por su ayuda.

	* **Erik Ochoa (Platzi)** (2)

		
		Normalmente los logs en cualquier sistema linux se pueden encontrar en el directorio `/var/log/` y para borrar logs de ah√≠ puedes usar el comando `rm` o cualquier explorador de archivos con **GUI**.
		
		Ten cuidado al borrar logs porque est√°s perdiendo informaci√≥n que puede ser muy valiosa.

## 0230. NGINX y Apache en Ubuntu server

### Descripci√≥n:


NGINX y Apache son softwares para montar servidores web, puedes realizar la instalaci√≥n de ambos en el sistema operativo, teniendo como base que pueden estar corriendo al mismo tiempo, siempre y cuando no est√©n a la espera de conexiones por el mismo puerto.

Para validar los puertos que tienen un proceso activo usamos:

**`sudo netstat -tulpn`**

Podr√≠amos tener una infraestructura donde NGINX puede servir como proxy y Apache como servidor web.

![1.png](https://static.platzi.com/media/user_upload/1-41459c2e-383e-4bbe-a908-00a39fa0b940.jpg)

Imagen tomada de: <https://guides.wp-bullet.com/how-to-configure-nginx-reverse-proxy-wordpress-cache-apache/>

Si revisamos las estad√≠sticas podemos ver que Apache a√∫n es el l√≠der del mercado en servidores web, seguido por NGINX, es por esta raz√≥n que veremos la instalaci√≥n y configuraci√≥n de ambos.

![2.png](https://static.platzi.com/media/user_upload/2-a0578f19-82a2-42ed-9d45-6f8531b0a147.jpg)

Existen en internet art√≠culos interesantes de comparaci√≥n entre ambos y el caso de uso de cada uno de ellos.  
<https://www.digitalocean.com/community/tutorials/apache-vs-nginx-practical-considerations>  
<https://www.nginx.com/faq/what-is-nginx-how-different-is-it-from-e-g-apache/>

## Proceso de instalaci√≥n.

### Apache

Ejecuta el siguiente comando

**`sudo apt install apache2`**

### NGINX

Ejecuta el siguiente comando

**`sudo apt install nginx nginx-extras`**

Para verificar si los servicios est√° corriendon se debe ejecutar los siguientes comandos:  
**`systemctl status apache2`**  
**`systemctl status nginx`**

Si se sigui√≥ el orden de instalaci√≥n, NGINX no debe estar ejecut√°ndose, pues por defecto intentar√° levantarse en el puerto 80, el cual ya se encuentra ocupado por NGINX, para ello cambiaremos el puerto de Apache al puerto alterno `http 8080`.

**`sudo nano /etc/apache2/ports.conf`**

A continuaci√≥n tenemos que cambiar el puerto al 8080, para esto se debe cambiar la instrucci√≥n Listen 8080 dentro del documento ports.conf.

Despu√©s abrimos nuestro archivo de configuraci√≥n de Apache **`sudo nano /etc/apache2/sites-available/000-default.conf`** y cambiamos el virtualhost a 8080 **`<VirtualHost *:8080>`**

Despu√©s realizamos el proceso de detener apache2 y volverlo a encender, con los siguientes comandos  
**`sudo systemctl restart apache2.`**  
**`systemctl status apache2`**  
**`systemctl status nginx.`**  
Ambos sitios deber√≠an estar activos y en ejecuci√≥n.  
Paso siguiente, dir√≠gete al archivo de configuraci√≥n de NGINX donde te asegurar√°s que exista una directiva en el _location_ llamada `proxy_pass` que contenga lo siguiente:

**`proxy_pass http://127.0.0.1:8080;`**

![3.png](https://static.platzi.com/media/user_upload/3-2007b732-969e-4b38-887a-b10372301beb.jpg)

Si por alguna raz√≥n el servidor Apache no se encuentra en la misma m√°quina, debemos cambiar la direcci√≥n IP y el puerto respectivo.

Apache tiene un comando para activar sitios que es `a2ensite` que recibe como par√°metro el archivo de configuraci√≥n definido en **`/etc/apache2/sites-available`**. NGINX no cuenta con este comando, motivo por el cual se tiene un enlace blando, es decir, cuando creemos un archivo de configuraci√≥n en **`/etc/nginx/sites-available`** debemos ejecutar **`sudo ln -s /etc/nginx/sites-available/configuracion_nginx /etc/nginx/sites-enabled/`**

Apache tambi√©n me permite deshabilitar sitios y agregar m√≥dulos

**`sudo a2dissite 000-default`**

**`sudo a2enmod rewrite headers env dir mime`**

Si queremos activar **`letsecrypt en NGINX`** , debemos agregar una l√≠nea en el **`.htaccess`** en la ruta **`/var/www/html/nombre_host/.htaccess.`** La linea es **`SetEnvIf X-Forwarded-Proto https`**

![4.png](https://static.platzi.com/media/user_upload/4-fac86153-c51f-4198-936e-126308b53884.jpg)

### Conclusi√≥n

Antes de realizar la elecci√≥n de uno de los dos, deber√≠as mirar el tipo de proyecto en el que est√°s trabajando y que se acople mejor a tus necesidades, es un proceso de evaluaci√≥n y prueba en cada uno de los aspectos que esperamos como administradores de sistemas.  
Existen m√∫ltiples diferencias entre ambos proyectos, que tienen impacto real en el rendimiento y tiempo de configuraci√≥n para lograr que el servicio quede funcionando perfectamente. Algunos prefieren NGINX por la sintaxis de configuraci√≥n, otros eligen basado en las estad√≠sticas presentadas y otros por simple experiencia con trabajos anteriores. Yo te recomiendo probar ambos y elegir seg√∫n el proyecto, o quiz√°s puedes usarlos ambos y sacar lo mejor de cada uno.

### Comentarios:

* **ferroblesh** (10)

	
	Existe un error en la lectura:  
	Si se sigui√≥ el orden de instalaci√≥n, NGINX no debe estar ejecut√°ndose, pues por defecto intentar√° levantarse en el puerto 80, el cual ya se encuentra ocupado por NGINX, para ello cambiaremos el puerto de Apache al puerto alterno http 8080.
	
	Deber√≠a ser:  
	Si se sigui√≥ el orden de instalaci√≥n, NGINX no debe estar ejecut√°ndose, pues por defecto intentar√° levantarse en el puerto 80, el cual ya se encuentra ocupado por **Apache** , para ello cambiaremos el puerto de Apache al puerto alterno http 8080.

	* **ismael2522** (1)

		
		As√≠ es.  
		Saludos.!

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (7)

	
	RESUMEN DE LA CLASE  
	|  
	**NGINX y Apache en Ubuntu server**  
	|  
	|  
	**Instalaci√≥n y configuraci√≥n de Apache y Nginx**  
	|
	
	  * Instalar Apache
	
	
	``` 
	    sudo apt install apache2
	    
	```
	
	  * Instalar Nginx
	
	
	``` 
	    sudo apt install nginx nginx-extras
	    
	```
	
	  * Abrir el archivo de configuraci√≥n de apache, y cambiar el puerto a 8080
	
	
	``` 
	    sudo nano /etc/apache2/ports.conf
	    
	```
	
	  * Abrir el siguiente archivo de configuraci√≥n y cambiar el puerto a 8080
	
	
	``` 
	    sudo nano /etc/apache2/sites-available/000-default.conf
	    
	```
	
	  * Reiniciar Apache e Iniciar Nginx. Verificar luego
	
	
	``` 
	    sudo systemctl restart apache2.
	    sudo systemctl status apache2
	    sudo systemctl start nginx
	    sudo systemctl status nginx.
	    
	```
	
	  * A√±adir la linea `proxy_pass http://127.0.0.1:8080` en el location del siguiente archivo
	
	
	``` 
	    sudo nano /etc/nginx/sites-available/default
	    
	```
	
	|  
	|  
	**Comandos**  
	|
	
	  * **sudo netstat -tulpn** : Validar los puertos que tienen un proceso activo
	
	

	* **kannder83** (2)

		
		Muchas gracias, estaba buscando en:  
		/etc/nginx/nginx.conf  
		para agregar la linea proxy_pass.

* **Jair Sebastian Lozano Moron** (4)

	
	La informacion es muy vaga, comienza el curso hablando de probar tanto en ubuntu como en centos, pero luego detalles tan simples como httpd en vez de apache para centOS ayudaria mucho, y ni que hablar ya de otros temas de configuracion e instalacion de distintas maneras en centOS. Y por lo visto en los comentarios, nadie hace este curso en centOS.

* **willeonardo19** (3)

	
	Hola, tengo dudas de como realizar esta parte:
	
	Si queremos activar letsecrypt en NGINX, debemos agregar una l√≠nea en el .htaccess en la ruta
	``` 
	    /var/www/html/nombre_host/.htaccess. La linea es SetEnvIf X-Forwarded-Proto https
	    
	```
	
	porque en esa ubicaci√≥n solo tengo 2 archivos index.  
	Gracias.

* **Luis Carlos Kristen Ospitia** (2)

	
	Hola a todos, tengo un ‚Äúproblema‚Äù y lo pongo entre comilas por que estoy en UBUNTU SERVER 18 LTS y abriendo el archivo de configuracion de NGINX.conf no me aparece el listado de location, ni el array Server, tengo events {} http {} y por ultimo mail {} que aparece con # es decir esta comentado, no se como pasar la configuraci√≤n del prox a NGINX, si alguien me puede ayudar le agradezco

	* **Luis Carlos Kristen Ospitia** (3)

		
		Para quien le interese el archivo esta en /etc/nginx/sites-avalaible/default y lo pueden abrir con $sudo nano /etc/nginx/sites-avalaible/config

	* **Diego Alexander Forero Higuera (Platzi)** (2)

		
		Hola. Puedes compartir una captura de pantalla de tu terminal con el archivo de nginx.conf para poder ver la estructura y ayudarte mejor.

	* **Carlos_Jacob** (1)

		
		lo mismo, cuando dice que vayamos a editar el archivo de configuraic√≥n de nginx yo tambi√©n cre√≠ que era el archivo nginx.conf pero en realidad en el archivo default que esta la carpeta de sites-available  
		gracias por el aporte

* **Jordan Arellano Rosero** (1)

	
	apache forever

* **nelsonalejandrosaz** (1)

	
	Hay que saber identificar las bondades que cada uno posee y cual se adapta mejor a nuestras necesidades seg√∫n el proyecto que estemos realizando.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Muy buen contenido.

* **Sergio Sabino** (1)

	
	Excelente contenido, muy bien explicado la diferencia y como configurarlo en diferentes puertos.

* **JasoSalgado** (1)

	
	No puedo instalar sudo apt install nginx nginx-extras. Me dice: ‚Äúno se pudo resolver <<[us.archive.ubuntu.com](http://us.archive.ubuntu.com)>>‚Äù. Despu√©s de esto, sigo con los pasos y cuando llego a systemctl status ngnix aqu√≠ es d√≥nde me atasco. E intentado resolver el problema anterior, pero no lo he logrado.

	* **oscarvale01** (1)

		
		revisa que en el gestor de paquete tengas disponible nginx, de lo contrario tienes que descargar el paquete, desempaquetarlo y luego intalarlo como e vimos en videos anteriores.

	* **JasoSalgado** (1)

		
		¬°Gracias! Lo pude solucionar en ese mismo momento. Te agradezco mucho.

* **gavilanrolando** (1)

	
	segui los pasos y me quede atascado en sudo nano /etc/apache2/ports.conf no tengo instrucciones de como volver asique reiniciando la maquina . bajon

	* **JasoSalgado** (1)

		
		Una vez que est√©s dentro de la configuraci√≥n del documento haz el siguiente comando:  
		ctrl + x y te va a decir si quieres guardar el archivo escribes ‚ÄúS‚Äù y das aceptar. Listo. Saludos.

* **Luis Carlos Kristen Ospitia** (1)

	
	de este tema me gustaria un video (aunque buscare informacion externa) sobre la configuracion como proxy siguiendo pasos, me ha gustado y creo que es interesante por temas de seguridad.

* **carlosbazanhuaman** (1)

	
	el contenido es muy interesante.

* **dbzdavidbaez** (1)

	
	Muy interesante. Creo que se deber√≠a genera un tutorial m√°s completo.
	
	[Ejemplo](https://www.digitalocean.com/community/tutorials/como-configurar-nginx-como-servidor-web-y-proxy-inverso-para-apache-en-un-servidor-ubuntu-18-04-es)

	* **ismael2522** (1)

		
		Esta muy completo el tutorial que compartes.  
		Saludos.!

* **Juliocastaneda** (1)

	
	Al intentar subir el apache no me deja, alguien sabe que puede ser? en el paso de: sudo systemctl restart apache2.

## 0240. Instalaci√≥n y configuraci√≥n de NGINX

### Descripci√≥n:


### Comentarios:

* **dbzdavidbaez** (4)

	
	Entendido
	``` 
	    sudo apt search nginx
	    sudo apt search"nginx$"
	    sudo apt update && sudo apt install nginx
	    sudo systemctl status apache2
	    sudo systemctl status nginx
	    netstat -tulpn
	    sudo systemctl stop apache2
	    sudo systemctl status apache2
	    netstat -tulpn
	    cd /etc/nginx
	    ls
	    vi ngnix.conf
	    cd sites-available
	    ls
	    vi default
	    cd /var/www/html
	    curl localhost
	    curl -I localhost
	    cd /etx/nginx/sites-enabled/
	    ll
	    
	```

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (3)

	
	RESUMEN DE LA CLASE  
	|  
	Instalaci√≥n y configuraci√≥n de NGINX  
	|  
	|  
	**Proceso**  
	|
	
	  * Instalar Nginx
	
	
	``` 
	    sudo apt install nginx nginx-extras
	    
	```
	
	  * 
	
	
	|  
	|  
	**Tips**
	
	  * Podemos ver el historial de comandos con `history`, y ejecutar uno determinado con `!numero_de_comando`
	
	

* **Juan Ledesma** (2)

	
	No hay ning√∫n curso donde se pueda aprender espec√≠ficamente sobre Apache, redirecciones y todo en general. tengo muchas dudas sobre el manejo de Apache en un servidor dedicado

* **Luis Rodrigo Alvarez Herrera** (2)

	
	nginx se me hace mas poderoso que apache,

	* **kannder83** (1)

		
		Como todo tiene sus ventajas y desventajas. Lo ideal es poder conocer ambos.

* **Alejandra Martinez Ruiz** (1)
hola buena tarde, instal√© nginx en un Centos no me vienen las carpetas de sites-available, ni sites-enabled, en el nginx.conf cambi√© la l...

* **Edwin De Jesus Chiyopa Garcia** (1)
usar nginx como reverse proxy o usar traefik cual es mejor

	* **edisoncastro14** (2)

		
		Ac√° un peque√±o benchmark que te puede dar las bases para realizar tus propias pruebas.
		
		<https://docs.traefik.io/v1.5/benchmarks/>

* **Emerson Cede√±o Salazar** (1)
al afinar la b√∫squeda usando apt search ‚Äúnginx$‚Äù, qu√© est√° usando como cadena de b√∫squeda, expresiones regulares?

	* **Juan David Castro (Platzi)** (2)

		
		En esta discusi√≥n se explica muy bien c√≥mo funciona: [How does ‚Äú$‚Äù work in ‚Äúapt-cache search something$‚Äù](https://unix.stackexchange.com/questions/111255/how-does-work-in-apt-cache-search-something). üòâ

## 0250. ¬øQu√© es NGINX Amplify

### Descripci√≥n:


 **NGINX Amplify** es una herramienta SaaS que permite realizar el monitoreo de NGINX y NGINX Plus. Los factores que permite monitorear son el rendimiento, configuraciones con an√°lisis est√°tico. par√°metros del sistema operativo, as√≠ como PHP-FPM, bases de datos y otros componentes. Nginx Amplify es de f√°cil configuraci√≥n y llevar control de nuestros servidores es agradable por los tableros de administraci√≥n que posee.

Con NGINX Amplify podr√°s **recolectar m√°s de 100 m√©tricas de NGINX** y el sistema operativo. Amplify analiza los archivos de configuraci√≥n propios del servidor, detecta configuraciones incorrectas y da recomendaciones de seguridad, tambi√©n permite crear notificaciones que pueden ser enviadas por correo o a un canal de Slack con un simple clic.

Los tableros de mando de Amplify sirven para verificar la disponibilidad del sitio e identificar situaciones an√≥malas en diferentes periodos de tiempo. Otra caracter√≠stica a destacar es que NGINX Amplify te permite administrar varios sitios, direcciones IP y un nombre para identificarlo.

Si necesitas conocer un poco m√°s de esta herramienta visita el sitio:  
<https://www.nginx.com/products/nginx-amplify/>

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (3)

	
	RESUMEN DE LA CLASE  
	|  
	¬øQu√© es NGINX Amplify?  
	|  
	NGINX Amplify es una herramienta que sirve para monitorear el servidor, par√°metros del sistema operativo, bases de datos, etc

* **Edwin De Jesus Chiyopa Garcia** (2)

	
	Muy interesante

* **Gustavo Herrera** (2)

	
	uff, lo implement√© en los servers en los que trabajo, que gran herramienta, la descubr√≠ aqu√≠ gracias al curso. Platzi se paga solo üòÉ

* **Jordan Arellano Rosero** (1)

	
	Me hubiese gutado que fuera apache

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Muy buenas caracter√≠sticas la de Amplify

* **Sebastian Camilo Herrera Lopez** (1)

	
	Buena informacion.

* **Sergio Sabino** (1)

	
	Muy buena herramienta

* **Jonnathan Ramiro Juma Jara** (1)

	
	excelente aporte

* **Carlos Andres Casta√±eda Osorio** (1)

	
	¬øCual puede ser una herramienta an√°loga en Apache?

* **dbzdavidbaez** (1)

	
	Es muy importante controlar la capacidad de nuestros servicios y este se ve bastante completo.

* **c3tuxpo2018** (1)

	
	Interesante, la verdad Platzi nos guia para mejorar nuestro trabajo, llevo a√±os trabajando administrando servidores de produccion, pero es la primera vez que me planteo monitorear y tener metricas de los sistemas a mi cargo, la verdad me he portado como un bombero apaga incendios, Gracias por mostrarme el camino para mejorar.

	* **Emmanuel Sosa Reyes** (1)

		
		Buen d√≠a compa√±ero, estoy pr√≥ximo a titularme como ingeniero en inform√°tica, busco consejo de gente con experiencia, le agradecer√≠a mucho si pudiese compartir un poco de ella.

* **Rub√©n Jim√©nez Uribe** (1)

	
	Se ve interesante, habra que probarlo.

* **asanchez2091** (1)

	
	hhahha pero hay que pagar =(

## 0260. NGINX Amplify Instalaci√≥n y configuraci√≥n de un servidor para producci√≥n

### Descripci√≥n:


 **NGINX Amplify** es una herramienta que permite monitorear aplicaciones y servicios de NGNIX. Nos ayuda a detectar problemas en nuestros proyectos, trackear las peticiones, conexiones, tiempos de respuesta, tr√°fico, uso de CPU, entre otras.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

	
	RESUMEN DE LA CLASE  
	|  
	NGINX Amplify: Instalaci√≥n y configuraci√≥n de un servidor para producci√≥n  
	|  
	|  
	**Proceso de instalaci√≥n**  
	|
	
	  * Instalar Python 2.7
	
	
	``` 
	    sudo apt install python2.7
	    
	```
	
	  * Movernos a la carpeta de Nginx
	
	
	``` 
	    cd /etc/nginx
	    
	```
	
	  * Modificar el archivo conf.d de la siguiente manera
	
	
	``` 
	    sudo cat > conf.d/stub_status.conf
	    server{
	    	listen127.0.0.1:80;
	    	server_name127.0.0.1;
	    	location /nginx_status {
	    		stub_statuson;
	    		allow127.0.0.1;
	    		deny all;
	    	}
	    }
	    
	```
	
	  * Matar el proceso de Nginx
	
	
	``` 
	    sudo kill -HUP `cat /var/run/nginx.pid`
	    
	```
	
	  * Reiniciar y habilitar Nginx
	
	
	``` 
	    sudo systemctl restart nginx && systemctl enable nginx
	    
	```
	
	  * Logearnos en el sitio web de Nginx Amplify y seguir las instrucciones de instalaci√≥n: <https://amplify.nginx.com>
	  * Iniciar el servicio de Nginx Amplify
	
	
	``` 
	    service amplify-agent start
	    
	```
	
	  * Reiniciar Nginx
	
	
	``` 
	    sudo systemctl restart nginx
	    
	```

* **bixhiic** (2)

	
	cuando pongo la url me sale un error 404

* **Marino Checo** (2)

	
	Ufff. porqu√© python 2.7? si ya para la fecha del curso que fue en Agosto del 2019, ya se sabia que esta versi√≥n esta ya fuera de servicio para el 2020‚Ä¶ üòÉ

	* **Juan David Castro (Platzi)** (1)

		
		Seguro que el equipo de NGINX Amplify ya est√° trabajando en una actualizaci√≥n a una versi√≥n m√°s actual de Python. De otra forma puede incluso ser peligroso usar sus herramientas. Hay que esperar.

* **Juan Jos√© Castro** (2)
Edison, podr√≠as explicarme el concepto de la regexp utilizada en el comando grep en el min 1:46 ? Desde ya, muchas gracias.

	* **Juan David Castro (Platzi)** (1)

		
		Hola. En ese momento de la clase no usamos expresiones regulares. Solo estamos buscando las l√≠neas del archivo **`nginx.conf`** que tengan las ‚Äúpalabras‚Äù **`include`** y **`*.conf`**.
		
		De todas formas creo que esta gu√≠a te puede ayudar:
		
		üëâ <https://www.digitalocean.com/community/tutorials/using-grep-regular-expressions-to-search-for-text-patterns-in-linux>
		
		Y por supuesto, el curso de Expresiones Regulares:
		
		üëâ <https://platzi.com/clases/expresiones-regulares/>

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Es una super herramienta, gracias.

* **Omar Garrido Garc√≠a** (1)

	
	amigos tengo un syntax error: newline unexpectd, copie el apy_key tal cual :c ayuda

* **Javier Avil√©s** (1)

	
	Genial herramienta para monitorizar sitios publicados en el motor NGINX

* **jorge-gianareas** (1)

	
	NGINX Amplify es una herramienta que permite monitorear aplicaciones y servicios de NGNIX. Nos ayuda a detectar problemas en nuestros proyectos, trackear las peticiones, conexiones, tiempos de respuesta, tr√°fico, uso de CPU, entre otras.

* **dbzdavidbaez** (1)

	
	Excelente, una gran herramienta
	``` 
	    sudo apt install python2.7
	    pwd
	    cd ..
	    Grep -i include\.*conf nginx.conf
	    sudo su
	    cat > conf.d/stub_status.con f
	    server{
	            listen 127.0.0.1:80;
	            server_name 127.0.0.1;
	            location /nginx_status {
	                           stub_status on;
	                           allow 127.0.0.1;
	                           deny all;
	             }
	    }
	    catconf.d/stub_status.conf
	    vi conf.d/stub_status.conf
	    kill HUP ` cat /var/run/nginx.pid`
	    systemctl restart nginx && systemctl enable nginx
	    chmod +x install.sh
	    
	```

* **c3tuxpo2018** (1)

	
	Pregunta  
	Editar el archivo conf.d/stub_status.conf con vi o nano directamente no da lo mismo?? por que usar cat?

	* **Juan David Castro (Platzi)** (6)

		
		Al usar editores de c√≥digo como VIM o NANO debemos entrar a su interfaz para leer, editar o borrar el contenido de nuestros archivos. El comando **CAT** nos permite escribir el texto directamente desde la consola (o sea, sin entrar a la interfaz de alg√∫n editor).
		
		Esto no es bueno ni malo. Solo es la opci√≥n que escogi√≥ el profesor. Si hubiera usado VIM podr√≠amos preguntar ‚Äúpero por qu√© no NANO‚Äù. Y al rev√©s tambi√©n. En este caso nos ahorramos el problema de no saber como salir del editor. üòõ

* **asanchez2091** (1)

	
	excelente vale me gusto esta clase

* **NahunOsevilla** (1)
Hola, no puedo matar el proceso, me sale esto: kill -HUP cat /var/run/nginx.pid cat: /var/run/nginx.pid: No such file or dir...

* **Luis Carlos Kristen Ospitia** (1)
tengo problemas en el ultimo paso ‚ÄúLaunching amplify-agent ‚Ä¶‚Äù indica que no puede iniciar el agente y que verifique /var/log/amplify-agen...

	* **Diego Alexander Forero Higuera (Platzi)** (1)

		
		Puedes verificar el archivo de log que te indica el error y compartir aqu√≠ las √∫ltimas lineas unas 20 o 30 para ver que puede estar pasando y ayudarte a solucionar.

* **aleonrodriguez592** (1)
Hola, al momento de que verifica la instalacion del amplify me aparece en rojo la palabra failed Installing apt-transport-https ‚Ä¶...

	* **Juan David Castro (Platzi)** (1)

		
		Puedes tratar de instalar manualmente esta librer√≠a:
		``` 
		    sudo apt-get update
		    sudo apt-get install apt-transport-https
		    
		```

## 0270. Monitoreo de MySQL con Nagios

### Descripci√≥n:


Instalaci√≥n de MySQL:
``` 
    sudo apt install mysql-server
    
```

Conexi√≥n a una base de datos MySQL:
``` 
    mysql -u nombre-usuario -p
    
```

Escribe tu contrase√±a en una nueva l√≠nea, de otra forma quedar√° guardada en tu historial de comandos. En caso de que el host de la base de datos se encuentre en alguna otra m√°quina debes especificarlo con **`-h ip-host`**.

Recuerda que puedes encontrar la informaci√≥n de tu base de datos (incluyendo la contrase√±a) en el archivo **`/etc/mysql/debian.cnf`**.

### Links:

* [https://labs.consol.de/assets/downloads/nagios/check_mysql_health-2.2.2.tar.gz](https://labs.consol.de/assets/downloads/nagios/check_mysql_health-2.2.2.tar.gz)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (7)

	
	RESUMEN DE LA CLASE  
	|  
	Monitoreo de MySQL con Nagios  
	|  
	|  
	**Instrucciones**  
	|
	
	  * Instalar MySQL Server
	
	
	``` 
	    sudo apt install mysql-server
	    
	```
	
	  * Obtener el password de MySQL
	
	
	``` 
	    sudo vim /etc/mysql/debian.cnf
	    
	```
	
	  * Iniciar sesi√≥n en MySQL
	
	
	``` 
	    mysql -u debian-sys-maint -p
	    
	```
	
	  * Asegurar el server de la base de datos
	
	
	``` 
	    sudo mysql_secure_installation
	    
	```
	
	  * Verificar que Apache est√© funcionando
	
	
	``` 
	    systemctl status apache2
	    
	```
	
	  * Activar m√≥dulos `rewrite` y `cgi`
	
	
	``` 
	    sudo a2enmod rewrite cgi
	    
	```
	
	  * Reiniciar Apache
	
	
	``` 
	    sudo systemctl restart apache2
	    
	```
	
	  * Crear un usuario para Nagios
	
	
	``` 
	    sudo htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin 
	    
	```
	
	  * Entrar a Nagios en nuestro navegador web, escribiendo como direcci√≥n:
	
	
	``` 
	    direccion_ip_del_servidor:8080/nagios
	    
	```
	
	Es muy importante notar que estamos ingresando en el puerto 8080, ya que ah√≠ es donde est√° funcionando Apache
	
	  * Instalar las siguientes dependencias:
	
	
	``` 
	    sudo apt install -y libmcrypt-dev make libssl-dev bc gawk dc build-essential snmp libnet-snmp-perl gettext
	    
	```
	
	  * Si no instalaste los plugins en las clases anteriores, debes hacer lo siguiente: en primer lugar, posicionado en tu home, descargarlos
	
	
	``` 
	    wget https://nagios-plugins.org/download/nagios-plugins-2.2.1.tar.gz -0 plugins.tar.gz -O plugins.tar.gz
	    
	```
	
	  * Desempaquetar y descomprimir el archivo de plugins
	
	
	``` 
	    tar xzvf plugins.tar.gz
	    
	```
	
	  * Ya en la carpeta de plugins que se creo con el paso anterior, configurar los mismos
	
	
	``` 
	    sudo ./config
	    
	```
	
	  * Verificar que no existan errores ni warnings
	
	
	``` 
	    sudo /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg
	    
	```
	
	  * Reiniciar Nagios
	
	
	``` 
	    sudo systemctl restart nagios
	    
	```
	
	  * En nuestro home, descargar el plugin de MySQL
	
	
	``` 
	    wget https://labs.consol.de/assets/downloads/nagios/check_mysql_health-2.2.2.tar.gz -O mysqlplugin.tar.gz
	    
	```
	
	  * Desempaquetar y descomprimir el archivo del plugin
	
	
	``` 
	    tar xzvf mysqlplugin.tar.gz
	    
	```

	* **omar-solano** (0)

		
		Lo instal√© tal cual que el profesor y tu resumen, pero los servicios me siguen apareciendo en rojo. ¬øMe ayudas?

	* **Carlos_Jacob** (1)

		
		estimado  
		hay un peque√±o error en el apartado:  
		Si no instalaste los plugins en las clases anteriores, debes hacer lo siguiente: en primer lugar, posicionado en tu home, descargarlos
		
		pusiste dos veces la saliada del archivo con 0 y con O.
		
		wget <https://nagios-plugins.org/download/nagios-plugins-2.2.1.tar.gz> -0 plugins.tar.gz -O plugins.tar.gz

* **Diego Alexander Forero Higuera (Platzi)** (7)

	
	 **M√≥dulos necesarios para el correcto funcionamiento de nagios:**
	
	  * rewrite
	  * cgi
	
	
	
	Se activan usando el siguiente comando  
	`sudo a2enmod rewrite cgi`
	
	El comando a2enmod significa apache2 enable module.
	
	**Crear el usuario de nagios**  
	`sudo htpasswd -c /usr/local/nagios/etc/htpasswd.users <nombre de usuario>`
	
	Va a preguntar luego el password y confirmaci√≥n
	
	**Instalar plugins de nagios**
	
	Primero instalamos dependencias y cosas necesarias en el sistema  
	`sudo apt install -y libmcrypt-dev make libssl-dev wget bc gawk dc build-essential snmp libnet-snmp-perl gettext`
	
	Luego descargar el archivo de plugins  
	`wget https://nagios-plugins.org/download/nagios-plugins-2.2.1.tar.gz -0 plugins.tar.gz`
	
	Descomprimimos el archivo  
	`tar xvzf plugins.tar.gz`
	
	Realizamos la configuraci√≥n e instalaci√≥n  
	Entramos a la carpeta creada al descomprimir que puede ser nagios-plugins-2.2.1 y ejecutamos el siguiente comando  
	`sudo ./configure`
	
	**Instalando el plugin de mysql para nagios**
	
	Descargamos el archivo  
	`wget https://labs.consol.de/assets/downloads/nagios/check_mysql_health-2.2.2.tar.gz`
	
	Descomprimimos  
	`tar xvzf check_mysql_health-2.2.2.tar.gz`

* **davidegc** (3)

	
	En mi caso para acceder a nagios en el navegador tuve que colocar puerto 8080 ya que en ejercicios anteriores lo modificamos. Eje. <http://192.168.100.170:8080/nagios/>

	* **Omar Flores Grimontt** (3)

		
		Me pas√≥ igual, aunque, ¬øno se supone que deber√≠a funcionar por el 80 ya que precisamente nginx funcionar√≠a como proxy para acceder al 8080 a trav√©s del 80?

	* **citxmx** (1)

		
		En el ejercicio de usar como proxy a Nginx para forwardear a Apache en el puerto 8080, solo se especific√≥ la ruta ‚Äú/‚Äù, por eso al buscar otra que no sea ‚Äú/‚Äù se va directo a Nginx y no la encuentra.

* **Jonnathan Ramiro Juma Jara** (2)

	
	de aqui al curso de postgres y mysql de platzy

* **Luis Carlos Kristen Ospitia** (2)

	
	tengo problemas, no puedo acceder al nagios, compruebo y me esta corriendo apache y nagios, ya los reinicie, pero no me deja entrara a nagios desde el explorador, solo me abre el apache pero no nagios

	* **John Henry Salazar Jaen** (1)

		
		el link para acceder es tu IP seguido de dos puntos ‚Äú:‚Äù y el puerto , luego debes colocar un / y la palabra nagios.  
		ejemplo:  
		X.X.X.X:8080/nagios
		
		de esta forma podr√°s acceder.

* **CalexiS** (2)

	
	Lo hice todo tal cual y aun asi al cargar la pagina de nagios no encuentra los plugins‚Ä¶ **el link de mysqlplugin no me funciona**

	* **Nicolas Restrepo** (1)

		
		ENtra a <ip address>:<puerto>/nagios por ejemplo, la mia es: 192.168.0.118:8080/nagios

	* **jeydvc** (2)

		
		Excelente, me salvaste @Nrestrepo05

* **c3tuxpo2018** (2)
344 momento el archivo /etc/mysql/debian.cnf guarda en plano el password y usuario de acceso a la base de datos mysql ??

	* **edisoncastro14** (1)

		
		Hola, si, se guarda un usuario para acceder a la base de datos de mysql, para poder leer este archivo debes tener un usuario con permisos de administrador en el sistema operativo, si se mira desde el punto de vista de seguridad, no es la mejor opci√≥n mantener este archivo.

* **asanchez2091** (2)
en un mismo server de producci√≥n puedo tener varias bases de datos trabajando a la vez?? Es una buena practica hacer esto?

	* **Juan David Castro (Platzi)** (1)

		
		Mira que he visto mucho la combinaci√≥n MongoDB + Redis. Incluso Platzi afirma que su c√≥digo agn√≥sticas a sus bases de datos, as√≠ que pueden usar y probar diferentes servicios para encontrar cu√°les funcionan mejor (aunque Platzi es mucho m√°s complejo que solo un servidor en producci√≥n).
		
		Tambi√©n podr√≠as considerar bases de datos como servicio. En vez de instalarlas en tu computadora (o servidor) te conectas a servicios como [MongoDB Atlas](https://www.mongodb.com/cloud/atlas).
		
		üëâ <https://platzi.com/blog/el-apagon-de-platzi-migramos-de-mysql-a-postgresql/>  
		üëâ <https://platzi.com/clases/mongodb-redis-2017/>  
		üëâ <https://platzi.com/blog/aws-rds-aurora-y-dynamo/>

* **Wilder Alexander David Hoyos** (1)

	
	Para crear una base de datos en mysql
	``` 
	    createdatabase nombre_bd;
	    
	```
	
	Para crear un usuario en mysql
	``` 
	    CREATEUSER'nombre_usuario'@'localhost'IDENTIFIEDBY'password';
	    
	```
	
	Para dar todos los permisos al usuario sobre las bases de datos:
	``` 
	    GRANT ALL PRIVILEGESON * . * TO'nombre_usuario'@'localhost';
	    
	```
	
	Una vez creado todo se debe asegurar refrescar todos los privilegios de mysql:
	``` 
	    FLUSHPRIVILEGES;
	    
	```

* **Joel William Mendoza Paucara** (1)

	
	No lo pude hacer me sale esto üò¶
	``` 
	    root@UbuntuServer:~# sudo htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin                               
	    
	    htpasswd: cannot create file /usr/local/nagios/etc/htpasswd.users
	    
	```
	
	Alguna sugerencia??

	* **Andres Manrique Palma** (1)

		
		El proceso no deber√≠as hacerlo con root‚Ä¶

* **guss-jordan** (1)

	
	![Captura.PNG](https://static.platzi.com/media/user_upload/Captura-9465cb9e-36ba-48c0-91d2-5f3cffa1b8dd.jpg)![](![](url)
	
	Saludos aun me sigue saliendo en rojo los servicios, alguna recomendacion o idea para solucionar este problema?

	* **John Henry Salazar Jaen** (1)

		
		Yo lo solucione de esta forma:  
		Primero accedi a la carpeta del los plugins  
		`cd ~/nagios-plugins-2.2.1/`
		
		luego utilice el siguiente comando.
		
		`sudo ./configure --with-nagios-user=nagios --with-nagios-group=nagios --with-openssl`
		
		contin√∫e aplicando los siguientes dos comandos en el orden respectivo.  
		`sudo make`  
		`sudo make install`
		
		Finalmente reinicie nagios.  
		`sudo systemctl restart nagios`

	* **guss-jordan** (1)
![Captura.PNG](https://static.platzi.com/media/user_upload/Captura-27f502e2-cab2-4e27-a3a6-f95dada04a94.jpg)
		
		Gracias, ya lo pude solucionar incluyendo el problema con MySQL

* **lucafogliatto** (1)

	
	Cuando llego hasta ac√° me doy con que el directorio /usr/local/nagios/ no existe y por lo tanto no puedo hacer el htpasswd ‚Ä¶ nagiosdmin.  
	Reinstal√© todo nagios pero la carpeta no se crea.

* **Jonnathan Ramiro Juma Jara** (1)

	
	el archivo del user no lo conoc√≠a, gracias

* **Salvador Jose Campanella Salas** (1)

	
	Siempre uso el siguiente manual de Digital Ocean para instalar MySQL  
	<https://www.digitalocean.com/community/tutorials/como-instalar-mysql-en-ubuntu-18-04-es>

* **jorge-gianareas** (1)

	
	Monitoreo de MySQL con Nagios  
	Instalaci√≥n de MySQL:
	
	sudo apt install mysql-server  
	Conexi√≥n a una base de datos MySQL:
	
	mysql -u nombre-usuario -p  
	Escribe tu contrase√±a en una nueva l√≠nea, de otra forma quedar√° guardada en tu historial de comandos. En caso de que el host de la base de datos se encuentre en alguna otra m√°quina debes especificarlo con -h ip-host.
	
	Recuerda que puedes encontrar la informaci√≥n de tu base de datos (incluyendo la contrase√±a) en el archivo /etc/mysql/debian.cnf.

* **dbzdavidbaez** (1)

	
	Instalado y funcionando.

* **Luis Rodrigo Alvarez Herrera** (1)

	
	se puede instalar desde los repos o bien bajandolo de su pagina

* **Andres Pineda** (1)
tengo un problema al cargar el nagios, no me deja con la direccion IP, ni agregando el puerto 8080, que puede ser?

	* **Johny Jim√©nez** (1)

		
		revisaste si el servicio esta arriba?, reiniciaste el server?

* **guss-jordan** (1)
Buenas Tardes soy nuevo en este tema de servidores pero aun tengo muchas dudas. ¬øCual es el objetivo de haber hecho todo esto? ¬øComo se u...

* **jeydvc** (1)
![](Captura de Pantalla 2020-02-10 a la(s) 11.21.43 p. m.)

	* **fernandajofili (Platzi)** (2)

		
		Hola üòÉ Tu imagen no subi√≥.
		
		Puedes arrastrar la imagen ac√° al editor y se subir√° autom√°ticamente o puedes subirla a un lugar como [imgur.com](http://imgur.com) y dejar ac√° el enlace directo para verla. üòÑ

* **jeydvc** (1)
Hola, Sigo los pasos y cuando le doy mi IP X.X.X.X/nagios me dice que no encuentra la p√°gina, que puede pasar

	* **John Henry Salazar Jaen** (2)

		
		debes colocar el puerto tambi√©n es decir: ‚ÄúX.X.X.X:8080/nagios‚Äù

* **Alexito** (1)
Tengo problemas para instalar mysql-server en Ubuntu. Tras ejecutar sudo apt install mysql-server aparece el siguiente erro...

	* **Kevin Javier Morales (Platzi)** (3)

		
		Creo que puedes intentar instalar `mysql-server-5.7`, porque `mysql-server` necesita ese paquete para poder instalarse. O intenta con
		``` 
		    sudo apt clean
		    sudo apt autoclean
		    sudo apt -f install
		    sudo dpkg --configure -a
		    sudo apt -f install
		    
		```
		
		y
		``` 
		    sudo apt clean
		    sudo apt autoclean
		    sudo apt update && sudo apt upgrade
		    
		```

* **omar-solano** (0)
Segu√≠ todos los pasos al pie de la letra. Funciona nagios, instalo los plugins desde el repositorio y los que baj√© de la p√°gina. Pero me ...

	* **edisoncastro14** (1)

		
		Hola, podr√≠as subir una captura del error por favor?

## 0280. Configuraci√≥n de Nagios

### Descripci√≥n:


### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (8)

	
	RESUMEN DE LA CLASE  
	|  
	Configuraci√≥n de Nagios  
	|  
	|  
	**Instrucciones**  
	|
	
	  * Ya en la consola de MySQL, crear un usuario
	
	
	``` 
	    GRANTSELECTON *.* TO'nagios'@'localhost'IDENTIFIEDBY'nagiosplatziS14*';
	    FLUSHPRIVILEGES; 
	    
	```
	
	  * Configurar Nagios
	
	
	``` 
	    sudo vim /usr/local/nagios/etc/nagios.cfg
	    
	    #Ya dentro del archivo, agregar la siguiente linea:
	    
	    cfg_file=/usr/local/nagios/etc/objects/mysqlmonitoring.cfg
	    
	```
	
	  * Crear comandos para hacer uso de Nagios
	
	
	``` 
	    sudo vim /usr/local/nagios/etc/objects/commands.cfg
	    
	    #Ya dentro del archivo, agregar las siguientes l√≠neas:
	    
	    define command {
	    	command_name check_mysql_health
	    	command_line $USER1$/check_mysql_health -H $ARG4$ --username $ARG1$ --password $ARG2$ --port $ARG5$  --mode $ARG3$
	    }
	    
	```
	
	  * Crear el archivo que nombrarmos en la configuraci√≥n en el archivo `nagios.cfg`
	
	
	``` 
	    sudo vim /usr/local/nagios/etc/objects/mysqlmonitoring.cfg
	    
	    #Ya en el archivo, agregar las siguientes l√≠neas
	    
	    define service {
	    	use local-service
	    	host_name localhost
	    	service_description MySQL connection-time
	    	check_command check_mysql_health!nagios!nagiosplatziS14*!connection-time!127.0.0.1!3306!
	    }
	    
	```
	
	**OJO!** En la clase hay un peque√±o typo, como puede verse arriba, la directiva correcta es **host_name** y no **hostname** , les va a dar error si lo ponen de esta √∫ltima forma
	
	  * Reiniciar nagios
	
	
	``` 
	    sudo systemctl restart nagios
	    
	```

	* **diegohernanvillalobos** (1)

		
		Jajaja muchas gracias, en el log me mostraba que ‚Äúhostname‚Äù estaba mal, pero no podia hacerlo andar, lo hice como aconsejaste y funcion√≥!

	* **lucafogliatto** (1)

		
		Gracias a Dios llegue a este comentario y vi que era host_name . Me iba a volver loco hasta encontrar el problema. Muchas gracias

	* **David Acosta** (1)

		
		Gracias, casi me saco un ojo, buscando el error!!! por la descripcon del host_name
		
		Error: Service has no hosts and/or service_description (config file ‚Äò/usr/local/nagios/etc/objects/mysqlmonitoring.cfg‚Äô, starting on  
		abr 07 12:29:01 techno-pc nagios[28586]: Error processing object config files!

* **Gerardo Alberto Soto Alvarez del Castillo** (6)

	
	RECOMENDACI√ìN: Para las configuraciones de archivos en serviores, ANTES de editar un archivo, es recomendable hacer un BACKUP de dicho archivo, de la siguiente manera:
	
	> sudo cp archivo.cnf archivo.cnf.backup
	
	s√≠, despu√©s de editar el archivo.cnf NO se tienes los resultados requeridos, se elimina el archivo.cnf y se regresa el archivo original de la siguiente manera:
	
	> sudo cp archivo.cnf.backup archivo.cnf  
	>  √≥  
	>  sudo mv archivo.cnf.backup archivo.cnf

* **Juan Jos√© Castro** (2)

	
	Perd√≥n, pero no se que sentido tiene este video y los relacionados con mysql si no tengo ning√∫n conocimiento de BD o mysql en particular.
	
	Me parece que el curso deber√≠a estar enfocado al uso general de Linux.
	
	Estoy siguiendo el video pero en esta clase en particular estoy siguiendo instrucciones sobre mysql sin saber que estoy haciendo.

	* **c3tuxpo2018** (3)

		
		Saludos  
		Pues la verdad, en la versi√≥n anterior de este curso (2017) no tocaba estos temas que yo me acuerde, pero volviendo a realizar el curso para estar actualizado creo entender que el objetivo de actualizar el curso, ademas de ponerlo al d√≠a con las ultimas novedades, nos orienta hacia la evoluci√≥n del administrador de sistemas (devops) y en ese aspecto configurar los servidores de bases de datos y software de monitoreo, se convierte en una habilidad adicional que debemos tener los sysadmins que queramos mantenernos vigentes (eso creo)

* **Marino Checo** (2)

	
	Si, alguien tiene inconveniente para que sus servicios se muestren como debe ser, entren en este link
	
	<https://cyruslab.net/2012/10/19/nagios-it-appears-as-though-you-do-not-have-permission-to-view-information-for-any-of-the-hosts-you-requested/>

* **dbzdavidbaez** (1)

	
	Excelente, me funciono pero me toco instalar unas librar√≠as de perl BI y mysql.
	
	[how-to-monitor-mysql-using-nagios](https://www.psychz.net/client/question/en/how-to-monitor-mysql-using-nagios.html)
	
	[check_mysql_health](https://labs.consol.de/nagios/check_mysql_health/index.html)

* **Chrystian Fabian Lozano Ramirez** (1)

	
	A mi me sale este error  
	"No output on stdout) stderr: execvp(/usr/local/nagios/libexec/check_mysql_health, ‚Ä¶) failed. errno is 2: No such file or directory"

	* **Luis Miguel Rodriguez** (1)

		
		tengo el mismo problema

	* **Luis Miguel Rodriguez** (1)

		
		revisa bien la configuraci√≥n de los archivos y recuerda instalar el mysql-plugin de nagios

	* **joselito961** (1)

		
		pudieron ver cual era el problema de este error?

	* **Wilder Alexander David Hoyos** (2)

		
		El error est√° en la instalaci√≥n, hay un paso que no indic√≥ el instructor.  
		Luego de descargar el plugin de nagios, se debe ingresar a la carpeta:
		``` 
		    cdcheck_mysql_health-2.2.2
		    
		```
		
		una vez all√≠ se procede con la ejecuci√≥n del siguiente script:
		``` 
		    sudo ./configure
		    
		```
		
		Porteriormente ejecutan:
		``` 
		    sudo make
		    
		```
		
		y luego:
		``` 
		    sudo make install
		    
		```
		
		Para finalizar reinician los servicios de nagios:
		``` 
		    sudo systemctl restart nagios
		    
		```

* **c3tuxpo2018** (1)

	
	El password complicado deber√≠amos dejarlo para sistemas de producci√≥n y en los de aprendizaje usar password sencillos no creen?

* **Diego Alexander Forero Higuera (Platzi)** (1)

	
	 **Configurando MySQL y Nagios**  
	Primero se entra al prompt o shell de mysql  
	`sudo mysql`
	
	Luego se agrega el permiso de consulta a todas las tablas de la base de datos al usuario nagios  
	`grant select on *.* to 'nagios'@'localhost' identified by 'nagiosplatziS14*';`
	
	Luego ejecutamos  
	`FLUSH PRIVILEGES;`
	
	Ahora se debe configurar nagios, se abre el archivo de configuraci√≥n que esta ubicado en  
	**/usr/local/nagios/etc/nagios.cfg**
	
	Se crea una nueva entrada para la configuraci√≥n de mysql en la secci√≥n de Object Configuration File(s)
	
	`cfg_file=/usr/local/nagios/etc/objects/mysqlmonitoring.cfg`
	
	Guardamos el archivo
	
	Luego se crea el comando para realizar el health check
	
	`sudo vi /usr/local/nagios/etc/objects/commands.cfg`  
	y ponemos lo siguiente  
	![Screenshot_20190924_065527.png](https://static.platzi.com/media/user_upload/Screenshot_20190924_065527-3252b53d-9e60-4022-a956-e0dc97243410.jpg)
	
	Ahora se crea el archivo de configuraci√≥n definido antes  
	`sudo vi /usr/local/nagios/etc/objects/mysqlmonitoring.cfg`
	
	y ponemos lo siguiente
	``` 
	    define service {
	        use local-service
	        hostname localhost
	        service_description MYSQL connection-time
	        check_command check_mysql-health!nagios!nagiosplatziS14*!connecion-time!127.0.0.1!3306!
	    }
	    
	```
	
	Por √∫ltimo reiniciamos nagios.
	
	Lista de m√©tricas que se pueden usar con el plugin de nagios para MySQL  
	**<https://exchange.nagios.org/directory/Plugins/Databases/MySQL/check_mysql_health/details>**

## 0290. Los logs, nuestros mejores amigos

### Descripci√≥n:


### FIND

Nos ayuda a buscar archivos y/o carpetas en el sistema operativo. Podemos filtrar por tipo de archivo con **`-type`** , por nombre con **`-name`** , sin hacer diferencia entre may√∫sculas y min√∫sculas con **`-i`** , por fecha de modificaci√≥n con **-mtime** , entre otros.

Por ejemplo:

  * **`find /etc -type f`**
  * **`sudo find /etc -mtime 10`**
  * **`find /var/log -name"*.log" -type f`**
  * **`find /var/log -iname"*.LOG" -type f`**



### GREP

Nos ayuda a filtrar el resultado de un comando o archivo dependiendo de las palabras de cada l√≠nea.

Por ejemplo:

  * **`grep"server" /etc/nginx/sites-available/default`**
  * **`ps aux | grep platzi`**



### AWK

Es un lenguaje de scripting que nos ayuda a procesar informaci√≥n usando patrones para filtrar, reorganizar y darle formato a nuestros datos.

Por ejemplo:

  * **`awk '{print $1}' /var/log/nginx/access.log`**
  * **`awk '{print $1}' /var/log/nginx/access.log | sort | uniq -c | sort -nr`**



### Comentarios:

* **sotecnar** (6)

	
	Buscar algo en el sistema operativo
	``` 
	    $ find RUTA type TIPO (Tipo de archivo - f para files)
	    
	    // ejemplo
	    $ find /etc f
	    
	```
	
	Buscar logs
	``` 
	    // En la ruta de logs busque todos los logs y que sean archivos
	    $ find /var/log/ -name "*.log" -type f
	    
	```
	
	Para que no distinga de may√∫sculas y min√∫sculas
	``` 
	    $ find /var/log/ -iname "*.LOG" -type f
	    
	```
	
	Todos los archivos que no tengan extensi√≥n .log
	``` 
	    $ find /var/log/ ! -iname "*.LOG" -type f
	    
	```
	
	Archivos modificados en el √∫ltimo tiempo (10 minutos)
	``` 
	    $ sudo find /etc/ -mtime 10
	    
	```
	
	Para hacer una redirecci√≥n
	``` 
	    $ sudo find /etc/ -mtime 10 2> /dev/null (el n√∫mero 2 es la salida de error, a continuaci√≥n se muestran las salidas de errores que existen)
	    
	```
	
	0 -> Archivos de Entrada
	
	1 -> Archivos de Salida
	
	2 -> Archivos de Error
	
	Buscar una palabra especifica sobre un archivo
	``` 
	    $ grep "server" /etc/nginx/sites-available/default
	    
	```
	
	Ver los logs de nginx, para saber cuales son las IP‚Äôs que se conectan a mi sitio
	``` 
	    $ awk '{print $1}' /var/log/nginx/access.log
	    
	```
	
	El anterior caso pero organizado y √∫nicamente de la salida anterior (es como si las agrupara)
	``` 
	    $ awk '{print $1}' /var/log/nginx/access.log | sort | uniq -c
	    
	```
	
	El anterior caso que las redirija por el n√∫mero de veces que han accedido.
	``` 
	    awk '{print $1}' /var/log/nginx/access.log | sort | uniq -c | sort -nr
	    
	```
	
	Ver errores en el servidor
	``` 
	    awk '{print $9}' /var/log/nginx/access.log | sort | uniq -c | sort -nr
	    
	```
	
	La respuesta del anterior comando es
	``` 
	    6 200
	    5 404
	    1 304
	    
	```
	
	El n√∫mero depende de la respuesta del servidor, el 200 esta ok y el 404 es no encontrado.

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (3)

	
	RESUMEN DE LA CLASE  
	|  
	Los logs, nuestros mejores amigos  
	|  
	|  
	**Comandos**  
	|  
	**find [ruta]** : Buscar algo en el sistema operativo.  
	Modificadores:
	
	  * **-type** : Indica que tipo estamos buscando; archivos, directorios y enlaces
	  * **-name** : Indica el nombre de lo que estamos buscando
	  * **-iname** : Indica el nombre de lo que estamos buscando, pero sin tener en cuenta may√∫sculas y min√∫sculas
	  * **!** : Niega la expresi√≥n que buscamos (es decir, busca lo contrario)
	  * **-mtime** : Muestra archivos con cambios en los √∫ltimos _n_ minutos
	
	
	
	**grep [string] [archivo]** : Busca una cadena de caracteres o expresi√≥n regular en un archivo determinado. Si ejecutamos por ejemplo algo como `comando | grep [string]` vamos a filtrar el resultado de un comando por la cadena o regex que especifiquemos  
	**awk** : Es un lenguaje que nos ayuda a filtrar patrones en un archivo, organizarlos y darles formato  
	|  
	|  
	**Comandos √∫tiles**  
	|  
	`find /var/log/ -iname "*.log" -type f`: Muestra los archivos de log que tenemos en el sistema  
	`sudo find /etc/ -mtime 10 2`: Muestra los archivos de configuraci√≥n que tuvieron salidas de error en los √∫ltimos diez minutos  
	`awk '{print $1}' /var/log/nginx/access.log | sort | uniq -c | sort -nr`: Muestra las IP‚Äôs que se conectaron con nuestro servidor nginx  
	`awk '{print $9}' /var/log/nginx/access.log | sort | uniq -c | sort -nr`: Muestra los errores que surgieron en nuestro servidor nginx

* **Diego Alexander Forero Higuera (Platzi)** (3)

	
	0 -> Archivos de Entrada  
	1 -> Archivos de Salida  
	2 -> Archivos de Error

* **jorge-gianareas** (2)

	
	AWK  
	Es un lenguaje de scripting que nos ayuda a procesar informaci√≥n usando patrones para filtrar, reorganizar y darle formato a nuestros datos.
	
	Por ejemplo:
	
	awk ‚Äò{print $1}‚Äô /var/log/nginx/access.log  
	awk ‚Äò{print $1}‚Äô /var/log/nginx/access.log | sort | uniq -c | sort -nr

* **dbzdavidbaez** (2)

	
	Entendido, los enlaces que hablan en los videos casi nunca los colocan.
	``` 
	    find /etc -typef
	    ls -l /etc
	    find /var/log/ -name "*.log" -typef
	    find /var/log/ -iname "*.LOG" -typef
	    find /var/log/ ! -iname "*.LOG" -typef
	    sudo find /etc/ -mtime 10
	    find /etc/ -mtime 10000 2> /dev/null
	    grep "server" /etc/nginx/sites-available/default
	    awk '{print$1}' /var/log/ngnix/access.log
	    awk '{print$1}' /var/log/ngnix/access.log | sort | uniq -c
	    awk '{print$1}' /var/log/ngnix/access.log | sort | uniq -c | sort -nr
	    awk '{print$9}' /var/log/ngnix/access.log | sort | uniq -c | sort -nr
	    cat  /var/log/ngnix/access.log
	    
	```

* **c3tuxpo2018** (2)

	
	awk interesante herramienta

* **bixhiic** (1)

	
	excelente clase !

* **Carlos Andres Casta√±eda Osorio** (1)

	
	 **find** : Buscar **el nombre** de los archivos  
	**grep** : Buscar **en el contenido** de los archivos

* **jorge-gianareas** (1)

	
	GREP  
	Nos ayuda a filtrar el resultado de un comando o archivo dependiendo de las palabras de cada l√≠nea.
	
	Por ejemplo:
	
	grep ‚Äúserver‚Äù /etc/nginx/sites-available/default  
	ps aux | grep platzi

* **jorge-gianareas** (1)

	
	FIND  
	Nos ayuda a buscar archivos y/o carpetas en el sistema operativo. Podemos filtrar por tipo de archivo con -type, por nombre con -name, sin hacer diferencia entre may√∫sculas y min√∫sculas con -i, por fecha de modificaci√≥n con -mtime, entre otros.
	
	Por ejemplo:
	
	find /etc -type f  
	sudo find /etc -mtime 10  
	find /var/log -name ‚Äú _.log " -type f  
	find /var/log -iname "_.LOG‚Äù -type f

* **Jos√© Tuzinkievicz** (1)

	
	Si bien para buscar comandos utilizados en la terminal se usa Ctrl + R, hay manera de navegar entre las coincidencias?

## 0300. Otros servicios de logs

### Descripci√≥n:


Un servidor puede llegar a registrar millones de l√≠neas de datos en un log. Para facilitar el monitoreo y mantenimiento podemos usar herramientas o tecnolog√≠as que nos permitan tomar esta informaci√≥n sin procesar y convertirla en visualizaciones f√°ciles de consumir y entender.

El primer paso para seleccionar las herramientas que usaremos. Lo primero es tener una base de conocimiento que nos identifique el servidor en circunstancias normales y de esta forma con la ayuda de estas herramientas detectar preocupaciones o incluso tendencias con una sola mirada.

Algunas herramientas que podemos tener en distribuciones Linux son:

### [Collectd](https://collectd.org/)

Es un demonio que recopila datos de rendimiento, y junto con la herramienta collectd web, es capaz de generar reportes que se pueden visualizar en un navegador WEB. Se puede establecer un servidor y a √©l conectarle un n√∫mero ilimitado de clientes remotos. Podemos agregar m√°s plugins si los necesitamos, para ello podemos visitar la p√°gina <https://collectd.org/wiki/index.php/Table_of_Plugins>

### [Nmon](http://nmon.sourceforge.net/)

Obtener visualizaciones r√°pidas de mi sistema. Se instala con `apt install nmon`. Tiene una caracter√≠stica especial que me permite guardar en archivos de formato nmon que se pueden convertir en informaci√≥n que puede ser presentada en html con la herramienta `nmonchart`. `Nmon -f -s 15 -c 20`, se recolectar√° informaci√≥n por cinco minutos mostrados en incrementos de 15 segundos 20 veces.

### [Munin](http://munin-monitoring.org/)

Es una herramienta para analizar el rendimiento del servidor que contiene gr√°ficos hist√≥ricos para facilitar la identificaci√≥n de problemas en el tiempo.

### [Grafana](https://grafana.com/)

Permite consultar, visualizar, alertar y ante todo entender las m√©tricas de negocio sin importar d√≥nde est√°n almacenadas. Se puede crear, explorar y compartir tableros de mando con el equipo basados en el principio de la cultura orientada a los datos.

Tambi√©n podemos instalar agentes de monitoreo en los servidores, algunas opciones son <https://newrelic.com/> y <https://www.datadoghq.com/>, podemos tener una prueba del servicio y analizar el rendimiento de nuestro servidor.

Cabe aclarar que tambi√©n necesitar√° alg√∫n sistema de alarma automatizado que nos env√≠e alertas de forma proactiva cuando las cosas no est√©n funcionando bien.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

	
	RESUMEN DE LA CLASE  
	|  
	Otros servicios de logs  
	|  
	|  
	Aclaraci√≥n: Un **demonio** es sin√≥nimo de **servicio** en sistemas UNIX  
	|
	
	  * Collectd: Uno de los demonios m√°s conocidos para recopilar datos de rendimiento y visualizarlos en un navegador. Est√° repleto de plugins: <https://collectd.org/wiki/index.php/Table_of_Plugins>
	  * Nmon: Sirve para obtener visualizaciones r√°pidas del sistema
	  * Munin Analiza el rendimiento del servidor, y muestra los resultados en gr√°ficos hist√≥ricos
	  * Grafana: Permite la visualizaci√≥n de datos m√©tricos de nuestro servidor, adem√°s de la creaci√≥n de cuadros de mando y gr√°ficos
	
	

* **Luis Rodrigo Alvarez Herrera** (3)

	
	hay uno muy bueno llamada logstash, hya otro que se llama icinga
	``` 
	    https://icinga.com/
	    https://www.elastic.co/es/products/logstash
	    
	```

	* **Marino Checo** (1)

		
		Saludo, he usado icinga desde hace muchos a√±os‚Ä¶ y tu puedes hasta decir que tipos de alertas enviar a diferentes personas‚Ä¶ üòÉ

* **vanthdl** (1)

	
	Yo he utilizado Grafana, alimentando los datos por medio de graphite, obteniendo buenos resultados en gr√°ficas para monitoreo y rendimiento.

* **Jonnathan Ramiro Juma Jara** (1)

	
	yo uso prometheus con grafana excelente para las metricas

* **oscarmoya** (1)

	
	Zabbix es una herramienta muy potente y buena, luego de que la logremos configurar es una herramienta que detecta cualquier fallo y genera alerta sobre la infraestructura y los aplicativos como bases de datos.

* **dbzdavidbaez** (1)

	
	Muy interesante. Nosotros utilizamos PRTG - Zabbix - Nagios - SolarWinds. Todos tienen cosas muy interesantes y hay algunos m√°s especializados para ciertas cosas, pero la uni√≥n de estos nos generar una visi√≥n en tiempo real de toda nuestra IT, se complica un poco la administraci√≥n, pero nos ayuda a poder ir a la casa sin preocupaciones.

* **eduardofgernandez** (1)

	
	MI humilde recomendaci√≥n es Zabbix, que combinado con otras herramientas es muy poderos. Tiene un sistema de configuraci√≥n mas amigable que Nagios.

* **c3tuxpo2018** (1)

	
	De las herramientas presentadas, cual consideran es la mejor?

* **asanchez2091** (1)

	
	muchas gracias por la informaci√≥n la estar√© revisando

* **Ronald Sierra** (1)

	
	Pandora Muy bueno en la version Opensource cumple con lo necesario igual que nagios " sistema de alarma automatizado que nos env√≠e alertas de forma proactiva cuando las cosas no est√©n funcionando bien."

# Bash scripting

## 0310. Las bases de bash

### Descripci√≥n:


Los archivos de Bash usan la extensi√≥n **`.sh`**. La primera l√≠nea la utilizamos para definir un int√©rprete, si nuestro archivo debe ejecutarse con Python, Bash o cualquier otro lenguaje: **`#!/bin/bash`**.

Las variables se definen de la siguiente manera:
``` 
    VARIABLE="Valor de la variable, que en este caso es un string."
    
```

Y se utilizan con el signo **`$`** seguido del nombre de la variable:
``` 
    echo $WELCOME
    
```

Tambi√©n podemos ejecutar los comandos que normalmente usamos en la terminal, as√≠ como **`ls`** , **`pwd`** , **`mkdir`** , entre otros.
``` 
    # Ejecutar pwd
    pwd
    
    # Guardar el resultado de pwd en una variable
    $COPY_PWD=$(pwd)
    
```

Todas las l√≠neas de comentarios deben comenzar con el signo **`#`** :
``` 
    # Esto es un comentario...
    
```

### Links:

* [Curso de Programaci√≥n en Bash Shell](https://platzi.com/clases/bash-shell/)

### Comentarios:

* **jorge-gianareas** (2)

	
	Las variables se definen de la siguiente manera:
	
	VARIABLE=‚ÄúValor de la variable, que en este caso es un string.‚Äù

* **jorge-gianareas** (2)

	
	Los archivos de Bash usan la extensi√≥n .sh. La primera l√≠nea la utilizamos para definir un int√©rprete, si nuestro archivo debe ejecutarse con Python, Bash o cualquier otro lenguaje: #!/bin/bash.

* **Juan Sebastian Montealegre Calle** (2)

	
	Podemos hacer que nuestros scripts sean mas portables si al momento de hacer el shebang utilizamos
	``` 
	    #!/bin/env bash
	    
	```
	
	Con esto logramos que se ejecute sin importar la ruta donde se encuentre nuestro bash, ya que diferentes sistemas operativos pueden manejar diferentes rutas.

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (2)

	
	RESUMEN DE LA CLASE  
	|  
	Las bases de bash  
	|  
	¬øQu√© es Bash? Es una shell de UNIX y el int√©rprete de comandos por defecto en la mayor√≠a de distribuci√≥nes GNU/Linux. Se pueden crear scripts, los cuales por convenci√≥n terminan con la extensi√≥n **.sh**  
	|
	
	  * Definici√≥n de un int√©rprete para que lo que sigue se ejecute con Bash
	
	
	``` 
	    #!/bin/bash
	    
	```
	
	  * Definici√≥n de una variable
	
	
	``` 
	    VARIABLE = "Hola mundo"
	    
	```
	
	  * Impresi√≥n en pantalla
	
	
	``` 
	    echo$VARIABLE
	    
	```
	
	  * Creaci√≥n de un comentario
	
	
	``` 
	    # Comentario cualquiera
	    
	```

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Muy interesante el poder guardar el resultado de la ejecuci√≥n de comandos dentro de una variable:  
	`$COPY_PWD=$(pwd)`

* **jorge-gianareas** (1)

	
	odas las l√≠neas de comentarios deben comenzar con el signo #:
	
	<h1>Esto es un comentario‚Ä¶</h1>

* **jorge-gianareas** (1)

	
	Tambi√©n podemos ejecutar los comandos que normalmente usamos en la terminal, as√≠ como ls, pwd, mkdir, entre otros.
	
	<h1>Ejecutar pwd</h1>
	
	pwd
	
	<h1>Guardar el resultado de pwd en una variable</h1>
	
	$COPY_PWD=$(pwd)

* **jorge-gianareas** (1)

	
	Y se utilizan con el signo $ seguido del nombre de la variable:
	
	echo $WELCOME

* **dbzdavidbaez** (1)

	
	Entendido y poni√©ndolo en pr√°ctica.
	``` 
	    vi archivo1.sh
	    	#!/bin/bash
	    	# Esto es un comentario
	    	WELCOME="Hola DBZ"
	    	echo $WELCOME
	    	ls
	    sudo chmod u+x archivo1.sh
	    ./archivo1.sh
	    
	```

* **c3tuxpo2018** (1)

	
	Los Bash script son la mejor forma de automatizar tareas de manera rapida y efectiva y su funcionamiento es muy muy sencillo

## 0320. Las variables y su entorno de ejecuci√≥n

### Descripci√≥n:


Las **variables de entorno** son un conjunto de variables globales en nuestros sistemas que nos permiten acceder de forma m√°s f√°cil a una ruta o un conjunto de comandos dif√≠ciles de recordar. Podemos usarlas en la terminal y en los archivos de bash.

El comando **`env`** nos permite ver todas las variables de entorno de nuestro sistema.

### Comentarios:

* **dbzdavidbaez** (3)

	
	Entendido y funcionando.
	``` 
	    env
	    pwd
	    echo$PATH
	    
	    #!/bin/bash
	    # Verificar la cantidad de espacio
	    CWD=$(pwd)
	    FECHA=$(date +""%F%T"")
	    echo$FECHA
	    
	    df -h | grep /dev > uso_disco_""$FECHA"".txt
	    df -h | grep /dev/sda2 >> uso_disco_""$FECHA"".txt
	    
	    echo""Se ha generado un archivo con nombre uso_disco$FECHA.txt en la ubicacion $CWD"
	    
	    
	```

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (3)

	
	RESUMEN DE LA CLASE  
	|  
	Las variables y su entorno de ejecuci√≥n  
	|  
	|  
	**Comandos**  
	|  
	**env** : Muestra las variables del sistema operativo  
	|  
	|  
	**Variables de entorno**  
	|  
	`$PATH`: Guarda las rutas donde se ubican los archivos binarios que pueden ejecutarse directamente en la consola  
	|  
	|  
	**Scripts √∫tiles**  
	|
	
	  * Verificar la cantidad de espacio en el S.O
	
	
	``` 
	    #!/bin/bash
	    # Verificar la cantidad de espacio en el S.O
	    # Desarrollado por Jhon Edison
	    
	    CWD=$(pwd)
	    FECHA=$(date +"%F%T")
	    echo$FECHA
	    
	    df -h | grep /dev > uso_disco_"$FECHA".txt
	    df -h | grep /dev/sda2 >> uso_disco_"$FECHA".txt
	    
	    echo"Se ha generado un archivo en la ubicaci√≥n $CWD"
	    
	```

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Excelente clase, que tiene muchas aplicaciones en el servidor. üòÉ

* **Jonnathan Ramiro Juma Jara** (1)

	
	el uso de variables lo doy mas que nada para apuntar a archivos o configuraciones de aplicaicones y simplificar los alias

* **yorisnavas** (1)

	
	Excelente, v√≠deo para verificar el espacio en disco.

## 0330. Automatizando tareas desde la terminal

### Descripci√≥n:


Nuestro principal trabajo como administradores de sistemas es automatizar las tareas y procesos de nuestro servidor. En esta clase vamos a realizar un script que nos permita realizar una copia de seguridad de una base de datos MYSQL.

### Links:

* [
  Crontab: Una herramienta para automatizar tareas desde la terminal en Introducci√≥n a Terminal y L√≠nea de Comandos
](https://platzi.com/clases/1276-terminal/11194-crontab-una-herramienta-para-automatizar-tareas-de/)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (8)

	
	RESUMEN DE LA CLASE  
	|  
	Automatizando tareas desde la terminal  
	|  
	|  
	**Scripts √∫tiles**  
	|
	
	  * Generar backup de base de datos MySQL
	
	
	``` 
	    #!/bin/bash
	    # Shell script para obtener una copia desde MySQL
	    # Desarrollado por Jhon Edison
	    
	    PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
	    
	    set-e
	    
	    readonly SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
	    readonly SCRIPT_NAME="$(basename "$0")"
	    
	    run
	    make_backup
	    
	    function assert_is_installed {
	    	local readonly name="$1"
	    	if [[ ! $(command -v ${name})]]; then
	    		log_error "The binary '$name' is required but it isn't in 		our system"
	    		exit 1
	    }
	    
	    function log_error {
	    	local readonly message "$1"
	    	log "ERROR" "$message"
	    }
	    
	    function  log {
	    	local readonly level="$1"
	    	local readonly message="$2"
	    	local readonly timestamp=$(date +"%Y-%m-%d %H:%M:%S") >&2 echo -e "${timestamp} [${level}] [$SCRIPT_NAME] ${message}"
	    		
	    }
	    
	    function run {
	    	assert_is_installed "mysql"
	    	assert_is_installed "mysqldump"
	    	assert_is_installed "gzip"
	    	assert_is_installed "aws"
	    }
	    
	```

* **gersonguillensolano** (4)

	
	Es √∫til saber tambi√©n que si ocupa ejecutar comandos de consola dentro del Script, en vez de usar ‚Äú$(cd dirname)‚Äù, puede usar **ver imagen** esto le puede ayudar a hacer el c√≥digo m√°s legible, o le puede ayudar a entender el c√≥digo de alguien m√°s en el futuro üòâ  
	Nota: ese s√≠mbolo NO es una comilla, se escribe como ‚Äúalt gr + ] + espacio‚Äù![Captura.PNG](https://static.platzi.com/media/user_upload/Captura-02bd55e6-7181-403e-8080-98f28c304fcf.jpg)

* **asanchez2091** (3)
¬øPorque usar vi y no nano?

	* **Juan David Castro (Platzi)** (1)

		
		Puedes usar el que t√∫ quieras. Lo importante es que se pueda usar solo desde la consola. üòâ

* **dbzdavidbaez** (1)

	
	Muy interesante.

* **Jonnathan Ramiro Juma Jara** (1)
alguna forma de enviarlo a otro servidor a o un cloud

## 0340. Automatizando la copia de seguridad

### Descripci√≥n:


### Links:

* [Curso de Storage en AWS](https://platzi.com/clases/storage-aws/)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (9)

	
	RESUMEN DE LA CLASE  
	|  
	Automatizando la copia de seguridad  
	|  
	|  
	**Script final**  
	|
	
	  * Generar backup de base de datos MySQL
	
	
	``` 
	    #!/bin/bash
	    # Shell script para obtener una copia desde MySQL
	    # Desarrollado por Jhon Edison
	    
	    PATH=/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin
	    
	    set-e
	    
	    readonly SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
	    readonly SCRIPT_NAME="$(basename "$0")"
	    
	    run
	    make_backup
	    
	    function assert_is_installed {
	    	local readonly name="$1"
	    	if [[ ! $(command -v ${name})]]; then
	    		log_error "The binary '$name' is required but it isn't in 		our system"
	    		exit 1
	    	fi
	    }
	    
	    function log_error {
	    	local readonly message "$1"
	    	log "ERROR" "$message"
	    }
	    
	    function  log {
	    	local readonly level="$1"
	    	local readonly message="$2"
	    	local readonly timestamp=$(date +"%Y-%m-%d %H:%M:%S") >&2 echo -e "${timestamp} [${level}] [$SCRIPT_NAME] ${message}"
	    		
	    }
	    
	    function run {
	    	assert_is_installed "mysql"
	    	assert_is_installed "mysqldump"
	    	assert_is_installed "gzip"
	    	assert_is_installed "aws"
	    }
	    
	    function make_backup {
	    	local BAK="$(echo $HOME/mysql)"
	    	local MYSQL="$(which mysql)"
	    	local MYSQLDUMP="$(which mysqldump)"
	    	local GZIP="$(which gzip)"
	    	local NOW="$(date +"+%d-%m-%Y")"
	    	local BUCKET="xxxxx"
	    	
	    	USER="xxxxxx"
	    	PASS="xxxxxx"
	    	HOST="xxxxxx"
	    	DATABASE="xxxxxx"
	    
	    	[! -d "$BAK" ] && mkdir -p "$BAK"
	    
	    	FILE=$BAK/$DATABASE.$NOW-$(date +"%T").gz
	    	local SECONDS=0
	    	
	    	$MYSQLDUMP --single-transaction --set-gtid-purged=OFF -u $USER -p $PASS -h $HOST $DATABASE | $GZIP -9 > $FILE
	    
	    	duration=$SECONDS
	    	echo "$($duration / 60) minutes"
	    	aws s3 cp $BAK "s3://$BUCKET" --recursive
	    }
	    
	```

* **Luis Rodrigo Alvarez Herrera** (8)

	
	Creo que hizo muy largo el script, debio ser de menos a mas

* **Jonnathan Ramiro Juma Jara** (1)

	
	estoy mas familiariado en realizar backaups con herramientas, hasta ahora no he tenido problemas, pero muy util

* **dbzdavidbaez** (1)

	
	No me funciona, copie el ejemplo que est√° en los enlaces y copie lo que s√© mostr√≥ en los dos videos. Deber√≠a revisar la funcionalidad.
	``` 
	    ./copia_sql.sh: line12: run: command not found
	    
	```
	
	¬øHay forma de encriptar el usuario y la contrase√±a?

	* **Juan Camilo  Sarmiento Reyes** (3)

		
		Hola, probablemente sea por el orden en que se est√° ejecutando el script, siendo procedural, la funci√≥n **run** deber√≠a estar definida antes de su llamado, as√≠ que env√≠ala al final del script.
		``` 
		    #!/bin/bash
		    ...
		    function run {
		    	...
		    }
		    ...
		    
		    function make_backup {
		    	...
		    }
		    # funciones
		    run
		    make_backup
		    
		```

* **jeydvc** (1)
Hola, como hago para que funcione el script que creamos.

	* **Juan David Castro (Platzi)** (1)

		
		Si no te funciona puedes compartirnos tu c√≥digo y te ayudamos a encontrar el error para que podamos solucionarlo. üòâ

* **willeonardo19** (1)
Hola, tengo un problema al ejecutar ./copia.sh, ya le asigne los permisos de ejecuci√≥n pero al momento de ejecutarlo, le lanza el error <...

	* **juan-sebastian-otero** (2)

		
		Ejecutalo asi:
		``` 
		    sh copia.sh
		    
		```

## 0350. Crontab

### Descripci√≥n:


Para ejecutar nuestra tarea de copia de seguridad debemos hacer uso de **cron** , el cual es un administrador regular de procesos en segundo plano que comprueba si existen tareas para ejecutar, teniendo en cuenta la hora del sistema.

Las configuraciones de las tareas a ejecutar se almacenan en el archivo **crontab** que puede ser editado con el comando `crontab -e`, si requerimos listar las tareas que tenemos configuradas ejecutamos `crontab -l`.

A continuaci√≥n te muestro lo que se imprime en la pantalla al correr el comando `crontab -e`

![Cron1+.png](https://static.platzi.com/media/user_upload/Cron1%2B-07bf20ab-be13-4f78-b682-09efc56fadaa.jpg)

Para establecer una tarea automatizada con **cron** se debe seguir un formato espec√≠fico para definir una tarea como se muestra a continuaci√≥n:

![Cron2.png](https://static.platzi.com/media/user_upload/Cron2-05a06ff1-6ed2-4bf5-930f-b36642d85bba.jpg)

Lo siguiente ser√≠a definir la periodicidad de nuestro **cron** , para ello podemos hacer pruebas en el sitio <https://crontab.guru>. Nosotros queremos que nuestra copia se ejecute todos los d√≠as a las 03:15 de la ma√±ana, pues es el momento donde menos tr√°fico tenemos en nuestra base de datos.

![Cron3.png](https://static.platzi.com/media/user_upload/Cron3-a78f4fc3-1a30-48f1-b00f-e8f8159dd805.jpg)

Nuestro cron quedar√≠a de la siguiente manera:

`15 3 * * * /usr/bin/bash /home/platzi/copia.sh`

Con esto se ejecutar√≠a nuestro script en los horarios definidos.

Podr√≠amos tambi√©n realizar un escaneo autom√°tico de la m√°quina todos los d√≠as a las 05:00 PM y generar un reporte del estado de seguridad de la m√°quina con _lynis_.

`* 17 * * * /usr/sbin/lynis --quick > /home/edison/Documentos/Platzi/lynis_files/$(date +"\%F") 2>/dev/null`

Verificamos la carpeta y encontramos la salida

![Cron4.png](https://static.platzi.com/media/user_upload/Cron4-9bfefdaf-dedf-4fbf-aed7-ca7bc9ab9d78.jpg)

Esto funcionar√° bien siempre y cuando la m√°quina est√© encendida, si no es as√≠, podr√≠amos revisar [anacron](https://linux.die.net/man/8/anacron).

### Comentarios:

* **ferroblesh** (8)

	
	Adicional ser√≠a bueno comentar que existe un log del servicio cron(daemon) en /var/log y que sirve para verificar si el job se ejecut√≥ o si existi√≥ alg√∫n error en la ejecuci√≥n del job.

	* **asanchez2091** (1)

		
		buena pregunta con seguridad si lo tiene

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (2)

	
	RESUMEN DE LA CLASE  
	|  
	Crontab  
	|  
	|  
	¬øQu√© es **cron**?: Es un administrador regular de procesos en segundo plano que comprueba si existen tareas para ejecutar, teniendo en cuenta la hora del sistema  
	|  
	¬øQu√© es **crontab**?: Es el archivo de configuraciones de las tareas a ejecutar. Con el comando `crontab -e` se edita, con `crontab -l` se listan las tareas configuradas  
	|  
	Formato de cron
	``` 
	    minute(0-59) hour(0-23) day_of_month(1-31) month(1-12|jan,feb,mar...) day_of_week(0-6|sun,mon,tue...) interpreter(ej:"/usr/bin/bash") command(ej:"pwd > /home/plazi/pwd.txt")
	    
	```

* **Sebastian Camilo Herrera Lopez** (1)

	
	Buena informacion.

* **JasoSalgado** (1)

	
	¬°Grandioso!

* **Jonnathan Ramiro Juma Jara** (1)

	
	buen aporte

* **dbzdavidbaez** (1)

	
	A ponerlo en practica.

* **c3tuxpo2018** (1)

	
	UN detalle, se pueden programar para ejecutar cualquier cantidad de tareas en el cron, t√©cnicamente no hay limite

# Asegurando tu servidor

## 0360. Entendiendo la gesti√≥n de vulnerabilidades

### Descripci√≥n:


Al construir aplicaciones debemos enfrentarnos a la comodidad de los usuarios al crear sus contrase√±as y la seguridad que necesitamos para que los atacantes inform√°ticos no consigan acceso a nuestra informaci√≥n.

Existen algunos comandos que no debemos utilizar, ya que son vulnerables por defecto, as√≠ como **`telnet`** o comandos **`r*`**. En vez de estos comandos podemos usar protocolos seguros como SSH.

Debemos tener presente cu√°les son los servicios y puertos abiertos de nuestro sistema operativo. Tambi√©n debemos ser muy cuidadosos con los permisos de los usuarios.

Para verificar las actualizaciones de seguridad e instalarlas en nuestra m√°quina podemos usar los siguientes comandos:
``` 
    # CentOS
    yum check-update --security
    yum update security
    
    # Ubuntu
    apt-get update
    apt-get upgrade
    
```

Recuerda que la seguridad inform√°tica no es un producto, sino un proceso constante.

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

	
	RESUMEN DE LA CLASE  
	|  
	+Entendiendo la gesti√≥n de vulnerabilidades++  
	|  
	|  
	**Malas pr√°cticas**
	
	  * No desactivar el usuario root
	  * Realizar un login con usuario y password (sin ssh)
	  * No validar la versi√≥n de software usada
	  * Utilizar comandos r* o telnet
	  * No identificar los servicios y puertos abiertos en el S.O
	  * No gestionar correctamente los permisos de los usuarios  
	|  
	|  
	**Buenas pr√°cticas**  
	|
	  * Verificar las actualizaciones de seguridad y realizar la instalaci√≥n de las mismas.  
	En CentOS:
	
	
	``` 
	    yum check-update --security
	    yum update security
	    
	```
	
	En Ubuntu:
	``` 
	    apt update
	    apt upgrade
	    
	```

* **Gerardo Alberto Soto Alvarez del Castillo** (3)

	
	Algunas reglas para mejorar la seguridad del servidor:  
	-Desactivar el usuario root para conexiones (ej. SSH).  
	-No Realizar un login con usuario y password.  
	-No validar las versiones de software utilizadas.  
	-No utilizar comandos r*

* **Emerson Cede√±o Salazar** (3)

	
	Enlace a la fuente de datos [CVE](https://www.cvedetails.com/)

* **Gerardo Alberto Soto Alvarez del Castillo** (3)
¬øCuales son los comandos r* ?

	* **Andr√©s Yoshimar Aguilar Salgado** (6)

		
		son b√°sicamente los ‚Äòantiguos‚Äô comandos para conectarse a servidores o maquinas remotas como rsh y rsync

* **Juan Camilo  Sarmiento Reyes** (2)

	
	r commands:  
	<https://www.wiley.com/legacy/compbooks/negus/rhbf2/r-commands.html>

* **jorge-gianareas** (2)

	
	Debemos tener presente cu√°les son los servicios y puertos abiertos de nuestro sistema operativo. Tambi√©n debemos ser muy cuidadosos con los permisos de los usuarios.
	
	Para verificar las actualizaciones de seguridad e instalarlas en nuestra m√°quina podemos usar los siguientes comandos:
	
	<h1>CentOS</h1>
	
	yum check-update --security  
	yum update security
	
	<h1>Ubuntu</h1>
	
	apt-get update  
	apt-get upgrade  
	Recuerda que la seguridad inform√°tica no es un producto, sino un proceso constante.

* **jorge-gianareas** (2)

	
	Al construir aplicaciones debemos enfrentarnos a la comodidad de los usuarios al crear sus contrase√±as y la seguridad que necesitamos para que los atacantes inform√°ticos no consigan acceso a nuestra informaci√≥n.
	
	Existen algunos comandos que no debemos utilizar, ya que son vulnerables por defecto, as√≠ como telnet o comandos r*. En vez de estos comandos podemos usar protocolos seguros como SSH.

* **Juan Jos√© Castro** (2)

	
	Que son los camando r* ? y por qu√© su uso implica un riesgo de seguridad ?

	* **Johny Jim√©nez** (1)
son varios que sirven para hacer transferencia de archivos y tambi√©n para conectar con el servidor por debajo

* **Sebastian Camilo Herrera Lopez** (1)

	
	Entendido.

* **Jonnathan Ramiro Juma Jara** (1)

	
	Me encantaria que profundicen en SElinux

* **dbzdavidbaez** (1)

	
	Entendido

## 0370. ¬øQu√© es una superficie de ataque Principio del menor privilegio

### Descripci√≥n:


La **Superficie de Ataque** es el conjunto de vulnerabilidades o datos conocidos que pueden ser explotados por un atacante inform√°tico. Cada servicio de nuestras aplicaciones es un nuevo punto de entrada a nuestra red. No solo debemos proteger nuestros servidores, tambi√©n debemos proteger todos los servicios que corren en √©l.

**Lynis** es una herramienta que analiza nuestros servidores y para darnos algunas recomendaciones. La estudiaremos m√°s a fondo en una pr√≥xima clase. Tambi√©n existen frameworks o manuales como **OWASP** que nos explican las caracter√≠sticas de aplicaciones web vulnerables y c√≥mo programarlas de forma segura.

### Links:

* [OWASP](https://owasp.org/)

* [Curso de Administraci√≥n de Servidores Linux](https://platzi.com/clases/1667-linux/22912-herramientas-de-auditoria-de-seguridad-en-linux/)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (6)

	
	RESUMEN DE LA CLASE  
	|  
	¬øQu√© es una superficie de ataque? Principio del menor privilegio  
	|  
	|  
	Una **superficie de ataque** es el conjunto de datos conocidos o vulnerabilidades que pueden ser explotados por un atacante inform√°tico.  
	|  
	|  
	**Software √∫til para la gesti√≥n de vulnerabilidades**  
	|
	
	  * **Lynis** : Analiza nuestro servidor y nos da recomendaciones
	
	
	
	|  
	|  
	**Manuales y frameworks √∫tiles para la seguridad de nuestro servidor**  
	|
	
	  * **SCAP** : El _Security Content Automation Protocol_ es un conjunto de reglas sobre la expresi√≥n y manipulaci√≥n de informaci√≥n relacionada con configuraciones y fallos.
	  * **OWASP** : El _Open Web Application Security Project_ es un proyecto de c√≥digo abierto destinado a pelear contra la inseguridad inform√°tica
	
	

* **Jos√© Tuzinkievicz** (3)

	
	Este [art√≠culo] (<https://www.elmundo.es/tecnologia/2018/04/17/5ad4a14c46163f1f658b4630.html>) da f√© de lo que comenta el profesor.

	* **Salvador Jose Campanella Salas** (2)

		
		 **SUPER LOCO**
		
		Gracias por compartir esta noticia

* **Sebastian Camilo Herrera Lopez** (1)

	
	La seguridad ante las vulnerabilidades del sistema.

* **Jonnathan Ramiro Juma Jara** (1)

	
	no solo se verifica el servidor, sino la seguridad de la aplicaicon y permisos hacia el sistema

* **dbzdavidbaez** (1)

	
	Entendido.

* **jorge-gianareas** (1)

	
	ynis es una herramienta que analiza nuestros servidores y para darnos algunas recomendaciones. La estudiaremos m√°s a fondo en una pr√≥xima clase. Tambi√©n existen frameworks o manuales como OWASP que nos explican las caracter√≠sticas de aplicaciones web vulnerables y c√≥mo programarlas de forma segura.

* **jorge-gianareas** (1)

	
	La Superficie de Ataque es el conjunto de vulnerabilidades o datos conocidos que pueden ser explotados por un atacante inform√°tico. Cada servicio de nuestras aplicaciones es un nuevo punto de entrada a nuestra red. No solo debemos proteger nuestros servidores, tambi√©n debemos proteger todos los servicios que corren en √©l.

* **Jos√© Tuzinkievicz** (1)

	
	<https://www.open-scap.org/>

## 0380. El firewall y sus reglas

### Descripci√≥n:


Los **Firewalls** son herramientas que monitorean el tr√°fico de nuestras redes para identificar amenazas e impedir que afecten nuestro sistema.

Recuerda que la seguridad inform√°tica es un proceso constante, as√≠ que ninguna herramienta (incluyendo el firewall) puede garantizarnos seguridad absoluta.

En Ubuntu Server podemos usar **`ufw`** ( _Uncomplicated Firewall_ ) para crear algunas reglas, verificar los puertos que tenemos abiertos y realizar una protecci√≥n b√°sica de nuestro sistema:

  * **`sudo ufw (enable, reset, status)`** : activar, desactivar o ver el estado y reglas de nuestro firewall.
  * **`sudo ufw allow numero-puerto`** : permitir el acceso por medio de un puerto espec√≠fico. Recuerda que el puerto 22 es por donde trabajamos con SSH.
  * **`sudo ufw status numbered`** : ver el n√∫mero de nuestras reglas.
  * **`sudo ufw delete numero-regla`** : borrar alguna de nuestras reglas.
  * **`sudo ufw allow from numero-ip proto tcp to any port numero-puerto`** : restringir el acceso de un servicio por alguno de sus puertos a solo un n√∫mero limitado de IPs espec√≠ficas.



### Links:

* [¬øQu√© es un FIREWALL? | Clase P√∫blica del Curso de Introducci√≥n a la Seguridad Inform√°tica - YouTube](https://www.youtube.com/watch?v=Dj5AJzw4HlI)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (5)

	
	RESUMEN DE LA CLASE  
	|  
	El firewall y sus reglas  
	|  
	|  
	**Comandos**  
	|
	
	  * **sudo ufw status** : Muestra el estado (activo/inactivo) y las reglas del firewall. Con el modificador **numbered** me muestra las reglas numeradas
	  * **sudo ufw allow puerto** : Habilita un puerto
	  * **sudo ufw enable** : Enciende el firewall
	  * **sudo ufw delete numero_de_regla** : Borra una regla
	  * **sudo ufw allow from direccion_ip proto protocolo to any port puerto** : Restringe las direcciones ip que pueden conectarse a cierto puerto. Recordar que SSH trabaja con el protocolo TCP
	  * **sudo ufw reset** : Elimina todas las reglas
	
	
	
	|  
	|  
	**Recomendaci√≥n**  
	|  
	Abrir al p√∫blico √∫nicamente el puerto 80 (http), 443 (https). Para un conjunto de IP‚Äôs espec√≠ficas, habilitar el puerto 22 (ssh)

* **Emerson Cede√±o Salazar** (2)
(Centos) selinux o firewall-cmd, y en todo caso, cu√°les son las diferencias entre estas al configurar el firewall del SO, se usan ambas?

* **jorgeguega** (1)

	
	Para banear una IP espec√≠fica:
	``` 
	    sudo ufw insert1 deny from {IP} comment'Bloqueada ip de Atacante'
	    
	```
	
	Para banear una red:
	``` 
	    sudo ufw insert1 deny from {IP}/{rango} comment'Bloqueada ip de Atacante'
	    
	```

* **jorgeguega** (1)

	
	Clase fant√°stica!!

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Muy interesante el poder activar el firewall desde el servidor.

* **dbzdavidbaez** (1)

	```
	    sudo ufw status
	    sudo ufw allow 22 comment 'SSH'
	    sudo ufw enable
	    sudo ufw status
	    sudo ufw status numbered
	    sudo ufw delete2
	    sudo ufw status
	    sudo ufw allowfrom10.106.51.10 proto tcp toany port 22comment"Permitir SSH IP"
	    sudo ufw reset
	    
	```

	* **Jonnathan Ramiro Juma Jara** (1)

		
		gracias

* **jorge-gianareas** (1)

	
	En Ubuntu Server podemos usar ufw (Uncomplicated Firewall) para crear algunas reglas, verificar los puertos que tenemos abiertos y realizar una protecci√≥n b√°sica de nuestro sistema:
	
	sudo ufw (enable, reset, status): activar, desactivar o ver el estado y reglas de nuestro firewall.  
	sudo ufw allow numero-puerto: permitir el acceso por medio de un puerto espec√≠fico. Recuerda que el puerto 22 es por donde trabajamos con SSH.  
	sudo ufw status numbered: ver el n√∫mero de nuestras reglas.  
	sudo ufw delete numero-regla: borrar alguna de nuestras reglas.  
	sudo ufw allow from numero-ip proto tcp to any port numero-puerto: restringir el acceso de un servicio por alguno de sus puertos a solo un n√∫mero limitado de IPs espec√≠ficas.

* **jorge-gianareas** (1)

	
	Los Firewalls son herramientas que monitorean el tr√°fico de nuestras redes para identificar amenazas e impedir que afecten nuestro sistema.
	
	Recuerda que la seguridad inform√°tica es un proceso constante, as√≠ que ninguna herramienta (incluyendo el firewall) puede garantizarnos seguridad absoluta.

* **Emerson Cede√±o Salazar** (1)

	
	 _(un poco de humor)_ ü§™ creo aplica para distros de la familia **RHEL** _(por ejemplo, CentOS)_ , les comparto esta p√°gina del creador de SELinux: [stopDisablingSELinux.com](https://stopdisablingselinux.com/), y ya saben, un buen proyecto debe siempre quedar con el firewall bien configurado, no lo apaguen simplemente porque ‚Äúas√≠ es que funciona todo bien‚Äù _(lecci√≥n en aprendizaje)_ ü§ì

* **Juan Jos√© Castro** (1)

	
	Que firewall es m√°s utilizado hoy d√≠a en Linux ? ufw o iptables ?

	* **Jorge Mayorga** (1)

		
		dir√≠a que iptables, pero ufw es m√°s facil de configurar

* **Luis Rodrigo Alvarez Herrera** (1)

	
	por ejemplo si quieres un segmentod e red
	``` 
	    sudo ufw allow from X.X.X.0/24toanyport22
	    
	```
	
	donde las X son el segmento

* **Edwin De Jesus Chiyopa Garcia** (1)

	
	Esta reglas al momento de agregarlas son fijas?, o cuando reinicie se borran?..

	* **Luis Rodrigo Alvarez Herrera** (1)

		
		en ufw son fijas

* **NahunOsevilla** (1)
Si uso un servidor en la nube, tendr√≠a que solicitar a mi ISP una ip publica y con esa crear la regla?

## 0390. Escaneo de puertos con NMAP y NIKTO desde Kali Linux

### Descripci√≥n:


### Links:

* [
  Instalaci√≥n del entorno de pruebas Kali Linux en Curso de Hacking √âtico
](https://platzi.com/clases/1583-ethical-hacking/19725-instalacion-del-entorno-de-pruebas-kali-linux/)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (7)

	
	RESUMEN DE LA CLASE  
	|  
	Escaneo de puertos con NMAP y NIKTO desde Kali Linux  
	|  
	|  
	**Comandos**  
	|
	
	  * **nmap -sV -sC -0 -oA nombre_de_archivo direcci√≥n_ip_del_servidor** : Realiza un mapeo de la red
	  * **nikto -h ip_del_host -o nombre_de_archivo** : Escanea vulnerabilidades en un servidor
	
	

* **Jos√© Tuzinkievicz** (3)

	
	Con raz√≥n hay tanta gente enamorada de Kali, no es para menos üòÑ

* **asanchez2091** (3)

	
	Wua pocos comentarios hasta estas alturas del video Jajaja muchos sera que no llegaron ac√°?

	* **ettorestark** (0)

		
		Y parece que los mensajes est√°n equispaciados por un mes üòÅüòÇ

* **Deivy Jesus** (2)

	
	kali muy bueno

* **Fernando_Rivera** (1)

	
	Kali es lo mejor de lo mejor en lo que se refiera a pentesting y hackeo etico

	* **Gabriel De Andrade (Platzi)** (1)

		
		Los dos est√°n basados en Debian, la mayor√≠a de los comandos ser√°n muy parecidos üòÑ

* **dbzdavidbaez** (1)

	
	Muy interesante.

* **Sebastian Camilo Herrera Lopez** (1)
Los comandos utilizados en Kali Linux son los mismos de Ubuntu server?

	* **jorgeardila** (1)

		
		Si, debido a que los dos est√°n basados en Debian.

## 0400. Lynis Herramientas de auditoria de seguridad en Linux

### Descripci√≥n:


Instalaci√≥n de Lynis:
``` 
    sudo apt install lynis
    
```

Con el comando **`sudo linis audit system`** podremos ver todas las recomendaciones y sugerencias que nos da lynis para mejorar la seguridad de nuestro sistema.

### Links:

* [Home | OpenSCAP portal](https://www.open-scap.org/)

* [Security Auditing and Compliance Solutions - CISOfy](https://cisofy.com/)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (4)

	
	RESUMEN DE LA CLASE  
	|  
	Lynis: Herramientas de auditoria de seguridad en Linux  
	|  
	|  
	**Comandos**  
	|
	
	  * **sudo lynis audit system** : Realiza un escaneo del sistema operativo, mostr√°ndonos sugerencias y el estado de peligro de ciertos detalles en nuestra distribuci√≥n
	
	

* **Luis Rodrigo Alvarez Herrera** (2)

	
	aqui hay un buen tutorial
	
	<https://www.welivesecurity.com/la-es/2014/09/01/tutorial-de-lynis-aprende-auditar-seguridad-linux/>

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Muy interesante Lynis para auditar nuestro servidor.

* **Sebastian Camilo Herrera Lopez** (1)

	
	Un excelente comando para auditar el sistema.

* **Sergio Sabino** (1)

	
	Excelente contenido.

* **Jonnathan Ramiro Juma Jara** (1)

	
	util pero mucho mejor una auditoria externa, no es bueno ser juez y parte en seguridad

	* **juancapote** (1)

		
		amen hermano  
		pero se siente bien pasar esas auditorias sin observaciones üòÑ

* **dbzdavidbaez** (1)

	
	Muy interesante y util.

* **jorge-gianareas** (1)

	
	Con el comando sudo linis audit system podremos ver todas las recomendaciones y sugerencias que nos da lynis para mejorar la seguridad de nuestro sistema.

* **jorge-gianareas** (1)

	
	Instalaci√≥n de Lynis:
	
	sudo apt install lynis

* **Jos√© Tuzinkievicz** (1)

	
	No entend√≠ como se llama el paquete para ver como HTML el reporte de Lynis.

	* **Robinson Pulgarin Torres** (1)

		
		Ver enlace <https://cisofy.com/faq/can-lynis-create-a-html-report/>

* **Jos√© B. M√©ndez Pad√≠n** (1)

	
	Instrucciones para actualizar lynis:  
	<https://packages.cisofy.com/community/>

# Proyecto

## 0410. Configuraci√≥n de Node.js en un ambiente productivo

### Descripci√≥n:


Descarga del repositorio con el proyecto de Node.js:
``` 
    git clone https://github.com/edisoncast/linux-platzi
    
```

Instalaci√≥n de Node.js:
``` 
    sudo apt install nodejs npm
    
```

Descarga e instalaci√≥n de la versi√≥n 10 de Node.js:
``` 
    curl -sL https://deb.nodesource.com/setup_10.x -o node_setup.sh
    
    sudo bash node_setup.sh
    
    sudo apt-get install gcc g++ make
    
    sudo apt-get install -y nodejs
    
```

Creaci√≥n de un usuario para manejar los procesos de Node.js:
``` 
    sudo adduser nodejs
    
```

Creaci√≥n del script **`/lib/systemd/system/platzi@.service`** para que el servicio de Node.js arranque con el sistema operativo:
``` 
    [Unit]
    Description=Balanceo de carga para Platzi
    Documentation=https://github.com/edisoncast/linux-platzi
    After=network.target
    
    [Service]
    Environment=PORT=%i
    Type=simple
    User=nodejs
    WorkingDirectory=/home/nodejs/linux-platzi
    ExecStart=/usr/bin/node /home/nodejs/linux-platzi/server.js
    Restart-on=failure
    
    [Install]
    WantedBy=multi-user.target
    
```

### Links:

* [GitHub - edisoncast/linux-platzi: Curso de linux para platzi](https://github.com/edisoncast/linux-platzi)

* [https://deb.nodesource.com/setup_10.x](https://deb.nodesource.com/setup_10.x)

### Comentarios:

* **Juliocastaneda** (3)

	
	Para los que no sabiamos que era Node.js:
	
	<https://www.luisllamas.es/que-es-node-js/>

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (3)

	
	RESUMEN DE LA CLASE  
	|  
	Configuraci√≥n de Node.js en un ambiente productivo  
	|  
	|  
	**Instrucciones**  
	|
	
	  * Clonar el repositorio necesario para realizar la clase
	
	
	``` 
	    git clone https://github.com/edisoncast/linux-platzi
	    
	```
	
	  * Instalar Node.js y npm
	
	
	``` 
	    sudo apt install nodejs npm
	    
	```
	
	  * Posicionados en el home, descargar Node 10
	
	
	``` 
	    curl -sL https://deb.nodesource.com/setup_10.x -o node_setup.sh
	    
	```
	
	  * Instalar Node 10
	
	
	``` 
	    sudo bash node_setup.sh
	    
	```
	
	  * Instalar gcc, g++ y make
	
	
	``` 
	    sudo apt install gcc g++ make
	    
	```
	
	  * Finalizar el proceso de instalaci√≥n de la versi√≥n 10 de Node
	
	
	``` 
	    sudo apt install -y nodejs
	    
	```
	
	  * Agregar el usuario nodejs si todav√≠a no lo creaste
	
	
	``` 
	    sudo adduser nodejs
	    
	```
	
	  * En la carpeta de linux-platzi, ejecutar el archivo `server.js`
	
	
	``` 
	    node server.js
	    
	```
	
	  * Crear un archivo de configuraci√≥n para el servicio de Node
	
	
	``` 
	    sudo vim /lib/systemd/system/platzi@.service
	    
	    # Una vez creado el archivo, llenarlo con la siguiente informaci√≥n
	    
	    [Unit]
	    Description=Balanceo de carga para Platzi
	    Documentation=https://github.com/edisoncast/linux-platzi
	    After=network.target
	    
	    [Service]
	    Enviroment=PORT=%i
	    Type=simple
	    User=nodejs
	    WorkingDirectory=/home/nodejs/linux-platzi
	    ExecStart=/usr/bin/node /home/nodejs/linux-platzi/server.js
	    Restart-on=failure
	    
	    [Install]
	    WantedBy=multi-user.target
	    
	```

* **gersonguillensolano** (2)

	
	muchas gracias, pero creo que ser√≠a m√°s util en desarrollo usar PM2 o forever, creo que lo har√≠a m√°s en el trabajo que clonar el repositorio o hacer el c√≥digo si ya existe üòï

* **Jonnathan Ramiro Juma Jara** (1)

	
	excelente

* **dbzdavidbaez** (1)

	
	Entendido.
	``` 
	    git clone https://github.com/edisoncast/linux-platzi
	    sudo apt install nodejs npm
	    node -v
	    cd
	    curl -sl https://deb.nodesource.com/setup_10.x -o nodesetup.sh
	    sudo bash node_setup.sh
	    sudo apt-get install gcc g++ make
	    sudo apt-get install -y nodejs
	    node -v
	    sudo adduser nodejs
	    cat /etc/passwd
	    node server.js
	    sudo ls /lib/systemd/system
	    which node
	    sudo vi /lib/systemd/system$ sudols /lib/systemd/system/dbz@.service
	    
	```

* **jorge-gianareas** (1)

	
	Creaci√≥n del script /lib/systemd/system/platzi@.service para que el servicio de Node.js arranque con el sistema operativo:
	
	[Unit]  
	Description=Balanceo de carga para Platzi  
	Documentation=https://github.com/edisoncast/linux-platzi  
	After=network.target
	
	[Service]  
	Environment=PORT=%i  
	Type=simple  
	User=nodejs  
	WorkingDirectory=/home/nodejs/linux-platzi  
	ExecStart=/usr/bin/node /home/nodejs/linux-platzi/server.js  
	Restart-on=failure
	
	[Install]  
	WantedBy=multi-user.target

* **jorge-gianareas** (1)

	
	Creaci√≥n de un usuario para manejar los procesos de Node.js:
	
	sudo adduser nodejs

* **jorge-gianareas** (1)

	
	Descarga e instalaci√≥n de la versi√≥n 10 de Node.js:
	
	curl -sL <https://deb.nodesource.com/setup_10.x> -o node_setup.sh
	
	sudo bash node_setup.sh
	
	sudo apt-get install gcc g++ make
	
	sudo apt-get install -y nodejs

* **jorge-gianareas** (1)

	
	Instalaci√≥n de Node.js:
	
	sudo apt install nodejs npm

* **jorge-gianareas** (1)

	
	Descarga del repositorio con el proyecto de Node.js:
	
	git clone <https://github.com/edisoncast/linux-platzi>

* **gersonguillensolano** (1)

	
	una vez que se instal√≥ node, puedo usar npm install?

* **asanchez2091** (1)

	
	Vaya yo instale la versi√≥n 10.16.3 de node

## 0420. Configuraci√≥n de NGINX para la aplicaci√≥n de Node.js

### Descripci√≥n:


### Links:

* [GitHub - edisoncast/linux-platzi: Curso de linux para platzi](https://github.com/edisoncast/linux-platzi)

### Comentarios:

* **Facundo Nicol√°s Garc√≠a Martoni (Platzi)** (6)

	
	RESUMEN DE LA CLASE  
	|  
	Configuraci√≥n de NGINX para la aplicaci√≥n de Node.js  
	|  
	|  
	**Instrucciones**  
	|
	
	  * Cambiar el usuario a nodejs
	
	
	``` 
	    sudo su - nodejs
	    
	```
	
	  * Clonar el repositorio necesario para la clase
	
	
	``` 
	    git clone https://github.com/edisoncast/linux-platzi
	    
	```
	
	  * Cambiar el nombre a la carpeta de `linux-platzi` a `server`
	  * Corregir los errores en el archivo de configuraci√≥n del servicio en `/lib/systemd/system/platzi@.service`
	  * Iniciar el servicio (debemos estar en la carpeta `/server/configuracion_servidor/bash`)
	
	
	``` 
	    ./enable.sh
	    ./start.sh
	    
	```
	
	  * Iniciar el servicio de Nginx (Apagar antes Apache si es necesario)
	
	
	``` 
	    sudo systemctl start nginx
	    
	```
	
	  * Una vez en la carpeta `/etc/nginx/sites-available/` eliminar el contenido de la configuraci√≥n de Nginx
	
	
	``` 
	    sudo truncate -s0 default
	    
	```
	
	  * Editar el archivo de configuraci√≥n
	
	
	``` 
	    sudo vim default
	    
	    # Una vez en el archivo, escribir lo siguiente
	    
	    server  {
	    	listen 80 default_server;
	    	listen [::]:80 default_server;
	    	
	    	server_name _;
	    	
	    	location / {
	    		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
	    		proxy_set_header Host $host;
	    		proxy_http_version 1.1;
	    		proxy_pass http://backend;
	    	}
	    }
	    
	    upstream backend {
	    	server 127.0.0.1:3000;
	    	server 127.0.0.1:3001;
	    	server 127.0.0.1:3002;
	    	server 127.0.0.1:3003;
	    }
	    
	```
	
	  * Validamos que la configuraci√≥n establecida fue correcta
	
	
	``` 
	    sudo nginx -t
	    
	```
	
	  * Reiniciamos nginx
	
	
	``` 
	    sudo systemctl restart nginx
	    
	```
	
	  * Probamos todo haciendo un `curl` a localhost
	
	
	``` 
	    curl localhost
	    
	```

* **Luis Jeanpier Monserrate** (2)

	
	Me quede con las ganas de montar el servidor a nivel publico y no solo de mi red local jajaja

* **gersonguillensolano** (2)

	
	Ser√≠a bueno ver una app de node js corriendo al final de la clase, cuando yo trat√© de correr una fall√≥. Adem√°s levant√© server.js pero luego necesito ver como iniciar mi aplicaci√≥n. Si saben de alg√∫n tutorial de esto apreciaria que lo compartan

* **Luis Carlos Kristen Ospitia** (2)
tengo permisos denegados, pero no me acuerdo si lo soluciono modifica el archivo etc/passwd, alguien me podria aclarar la denegacion ejec...

	* **Diego Alexander Forero Higuera (Platzi)** (1)

		
		No entiendo muy bien tu problema, puedes explicar mejor y si tienes capturas para entender mejor y poder darte una respuesta m√°s acertada.

* **Carlos_Jacob** (1)

	
	Tuve varios problemas para hacer esta prueba y me faltaron algunos comandos que quizas a ustedes les puedan servir
	
	Tuve que hacer el link
	``` 
	    ln -s /etc/nginx/sites-available/default/etc/nginx/sites-enabled/defatul 
	    
	```
	
	para validar la configuraic√≥n y releer el conf
	``` 
	    nginx -s reload
	    
	```
	
	para que no chocara el default available site con el config.d (edite el archivo y le cambie el puerto)
	
	edite el archivo y guarde
	``` 
	    sudo nano /etc/nginx/conf.d/stub_status.conf
	    
	```
	
	reboot a nginx

* **Sergio Sabino** (1)

	
	Excelente. No sabia que era posible compartir puertos o por un mismo puerto poder configurarlo para correr varios proyectos. Excelente contenido.

* **Jonnathan Ramiro Juma Jara** (1)

	
	una muy buena explicaicon

* **dbzdavidbaez** (1)

	
	Funciono y es muy interesante esta configuraci√≥n.

* **Joel William Mendoza Paucara** (1)
alguien sabe donde puedo aprender mucho mas de nginx?

	* **Wilder Alexander David Hoyos** (2)

		
		Bro ac√° puedes aprender.
		
		<https://edutin.com/curso-de-nginx-4087>

* **Luis Carlos Kristen Ospitia** (1)
tengo algo raro y no encuentro que me pasa en node, verificando el status me aparece ‚ÄúFailed to get properties: Unit name platzi.service ...

	* **Diego Alexander Forero Higuera (Platzi)** (1)

		
		Es probable que el servicio este corriendo ya y cuando se intenta correr de nuevo da el error porque ya esta corriendo, prueba detener el servicio que esta corriendo en el puerto 3000 y vuelve a intentar arrancarlo.

# Conclusiones

## 0430. Conclusiones

### Descripci√≥n:


 **¬°Felicitaciones por terminar el Curso de Administraci√≥n de Servidores Linux!**

Aprendimos a instalar paquetes desde diferentes distribuciones de Linux, utilizar comandos b√°sicos, manejar usuarios y permisos, proteger nuestros servidores de diferentes vulnerabilidades, administrar procesos y servicios, escribir scripts en Bash para automatizar tareas, entre otras.

Recuerda compartir tus notas, dudas y comentarios en la secci√≥n de discusiones. Tampoco olvides resolver los ejercicios, completar el examen y darle 5 estrellas al profesor.

Te recomendamos continuar tu ruta de aprendizaje profesional con los siguientes cursos:

  * [Curso de Programaci√≥n en Bash Shell](https://platzi.com/clases/bash-shell/)
  * [Curso Profesional de DevOps](https://platzi.com/clases/devops/)
  * [Carrera de Administraci√≥n de Servidores y DevOps](https://platzi.com/servidores/)
  * [Carrera de Amazon Web Services](https://platzi.com/aws/)
  * [Carrera de Seguridad Inform√°tica](https://platzi.com/seguridad-informatica/)



¬°Nunca pares de Aprender!

### Comentarios:

* **Fernando_Rivera** (3)

	
	Excelente curso sobre Linux, deberian tener una ruta dedicada exclusivamente a linux y que este curso sea de nivel intermedio, ya que aun falta por ahondar en muchos temas mas, pero en lo general ha sido uno de los mejores cursos de linux que he recibido. Grande Platzi!!

	* **gavilanrolando** (1)

		
		Absolutamente de Acuerdo, hace falta una ruta especifica de Linux, y avanzar lo mas que se pueda en ella. Saludos

* **Daniel Tibavisco** (3)

	
	Buen curso, buen profesor, pero concuerdo con los compa√±eros, al igual que el curso de terminal y l√≠nea de comandos, me parece que la versi√≥n anterior fue m√°s completo, se siente que faltaron muchos temas por abarcar pero bueno, este tema es muy grande y se pueden complementar con cursos que ya est√°n en la plataforma y queda la puerta abierta para que se agreguen m√°s.

* **Carlos Arturo Bernal Fuquen** (3)

	
	Interesante curso, pero estoy de acuerdo con lo comentado por los otros participantes; la administraci√≥n es mucho mas compleja que lo presentado en el curso y aunque los temas se presentaron de manera clara por el profesor, faltan muchas cosas adicionales:  
	-Integraci√≥n con LDAP, DHCP, DNS, etc  
	-En los temas de seguridad, faltan cosas b√°sicas como la eliminaci√≥n de mensajes de respuesta que oculten las versiones instaladas, robots.txt, etc  
	Como lo dice Julio, el curso se podr√≠a dividir en varios cursos con mayor profundizaci√≥n en los temas llevados al ambiente empresarial.

* **Carlos_Jacob** (2)

	
	Muy buen curso, pero gustar√≠a poder tener un resumen de todo lo que vimos, comandos, aplicaciones, instalaciones configuraciones.  
	Deber√≠an tener algo as√≠. Gracias

	* **Emerson Lino Yurivilca Ricaldi** (5)

		
		Te comparto mi resumen del curso:
		
		<h1>ADMINISTRACI√ìN DE SERVIDORES LINUX</h1> <h1>1\. Bases del Sistema Operativo</h1>
		
		## Distribuciones m√°s utilizadas
		
		  * Ubuntu Server, se usar√° la versi√≥n 18.04 LTS (Soporte extendido) que brinda actualizaciones por hasta 5 a√±os. No se recomienda para servidores las versiones que no son LTS debido a que estos no tienen soporte extendido y solo tienen soporte por 9 meses.
		
		  * CentOS Server, est√° basado en RedHat (para aplicaciones empresariales) y CentOS es la versi√≥n free.
		
		  * Estad√≠stica de uso por SO [aqu√≠](https://w3techs.com/technologies/overview/operating_system)
		
		  * S.O que se ejecutan en Amazon [aqu√≠](https://thecloudmarket.com/stats)
		
		  * Estad√≠stica de trabajos en linux, reporte por Linux Foundation [aqu√≠ ](https://www.linuxfoundation.org/publications/2018/06/open-source-jobs-report-2018/)
		
		
		
		
		> REDHAT ya no hace software para 32bits desde la versi√≥n 16
		
		## Instalaci√≥n de Ubuntu Server
		
		  1. Ingresar a VirtualBox
		  2. Nueva: 
		    * Nombre y S.O: 
		      * Nombre: **_Server-Ubuntu_**
		      * Carpeta de maquina: **_/ruta/_**
		      * Tipo: **_Linux_**
		      * Versi√≥n: **_Ubuntu(64-bit)_**
		    * Tama√±o de memoria: **_1024MB_**
		    * Disco Duro: **_Crear un disco duro virtual ahora_**
		    * Tipo de archivo de disco duro: **_VDI (VirtualBox Disk Image)_**
		    * Almacenamiento en la unidad de disco duro f√≠sica: **_Reservado din√°micamente_**
		    * Ubicaci√≥n del archivo y tama√±o: **_10GB_** [CREAR]
		  3. Configuraci√≥n: 
		    * Red: 
		      * Conectado a: **_Adaptador puente_**
		      * Nombre: **_en0: Wi-Fi_** √≥ **_enp4s0_** cableado
		      * Avanzadas: 
		        * Tipo de adaptador: **_por defecto_**
		        * Modo promiscuo: **_Permitir todo_**
		        * Cable conectado: **_activado_**
		    * Almacenamiento: 
		      * Controlador IDE > _Vac√≠o_
		        * _Atributos_ > _CD imagen_ > **_Seleccionar el .iso del servidor_** > _Aceptar_
		  4. Iniciar: 
		    * Seleccionar el **_.iso_** que desea instalar
		    * Elegir idioma de la instalaci√≥n: **_Espa√±ol_**
		    * Instalar actualizaci√≥n disponible: **_Continuar sin actualizar_**
		    * Configuraci√≥n de teclado: **_Espa√±ol_**
		    * Conexiones de red: **_enp0s3 eth_** , si se desea aqu√≠ se cambia el IP.
		    * Configurar proxy: **_configurar_**
		    * Configurar archivo espejo: **_por defecto_**
		    * Configuraci√≥n de sistema de archivos: **_uso de disco entero_**
		    * Seleccionar disco de instalaci√≥n: **_vbox-harddisk 10G_**
		    * Resumen -> Hecho
		    * Configuraci√≥n de perfil, definir nombre, nombre servidor y contrase√±a
		    * Configuraci√≥n SSH: **_Instalar OpenSSH Server_**
		
		
		
		> Validar archivos descargados con `sha256sum archivo`
		
		## Instalaci√≥n de CentOS Server
		
		  1. Ingresar a VirtualBox
		  2. Nueva: 
		    * Nombre y S.O: 
		      * Nombre: **_Server-CentOS_**
		      * Carpeta de maquina: **_/ruta/_**
		      * Tipo: **_Linux_**
		      * Versi√≥n: **_Red Hat(64-bit)_**
		    * Tama√±o de memoria: **_1024MB_**
		    * Disco Duro: **_Crear un disco duro virtual ahora_**
		    * Tipo de archivo de disco duro: **_VDI (VirtualBox Disk Image)_**
		    * Almacenamiento en la unidad de disco duro f√≠sica: **_Reservado din√°micamente_**
		    * Ubicaci√≥n del archivo y tama√±o: **_10GB_** [CREAR]
		  3. Configuraci√≥n: 
		    * Red: 
		      * Conectado a: **_Adaptador puente_**
		      * Nombre: **_en0: Wi-Fi_** √≥ **_enp4s0_** cableado
		      * Avanzadas: 
		        * Tipo de adaptador: **_por defecto_**
		        * Modo promiscuo: **_Permitir todo_**
		        * Cable conectado: **_activado_**
		    * Almacenamiento: 
		      * Controlador IDE > _Vac√≠o_
		        * _Atributos_ > _CD imagen_ > **_Seleccionar el .iso del servidor_** > _Aceptar_
		  4. Iniciar: 
		    * Seleccionar el **_.iso_** que desea instalar
		    * Seleccionar: **_Install CentOS Linux 8_**
		    * Seleccionar idioma de instalaci√≥n: **_Continuar sin actualizar_**
		    * Configuraci√≥n de teclado: **_Espa√±ol_**
		    * Red: **_Ethernet > ON_**
		      * Hostname: **_platzi-server_**
		    * Destino de instalaci√≥n: **_HARDDISK_**
		    * Fecha & tiempo: **_America - Lima_**
		    * Selecci√≥n de software: **_INSTALAR SIN GUI_**
		    * Empezar instalaci√≥n.
		    * Crear contrase√±a de root.
		    * Crear usuario y contrase√±a. Hacer admin al usuario.
		    * Reiniciar
		
		
		
		## Gesti√≥n del √°rbol de directorios
		
		Comandos principales, que se distinguen entre may√∫sculas y min√∫sculas:
		
		  * Limpiar pantalla: `Ctrl + L` √≥ `clear`
		  * Mostrar directorio actual: `pwd`
		  * Listar archivos del directorio actual: `ls`
		  * Listar archivos del directorio ra√≠z: `ls /`
		  * Listar en formato largo de la ra√≠z: `ls -l /`
		  * Crear nuevo archivo: `touch prueba`
		  * Copiar archivo: `cp prueba prueba2`
		  * Crear directorio: `mkdir pruebacarpeta` <\-- **_No puede llamarse igual a un archivo_**.
		  * En la lista de formato largo de documentos, se puede detectar el tipo de archivo de la siguiente forma: 
		    * Cuando inicia con **_d_** significa que es un _directorio_.
		    * Cuando inicia con **_-_** significa que es un _archivo_.
		  * Cambiar de directorio: `cd pruebacarpeta`
		  * Volver al directorio padre: `cd ..`
		  * Dirigirse al home: `cd`
		  * Volver a la √∫ltima ubicaci√≥n: `cd -`
		  * Cambiar nombre de carpeta: `mv pruebacarpeta pruebac`
		  * Eliminar archivo: `rm prueba`
		  * Borrar carpeta de forma recursiva: `rm -r pruebac`
		  * Modificar fecha de creaci√≥n de archivo existente: `touch prueba2`
		
		
		
		## Diferencias entre LESS, CAT, HEAD y TAIL
		
		  * **_cat_** por definici√≥n es para concatenar archivos, pero tambi√©n se usa para leer archivos. Y no es recomendado para leer archivos grandes. 
		    * Ubuntu: `cat /var/log/auth.log`
		    * CentOS: `cat /var/log/secure`
		  * **_less_** , permite la lectura paginada de un archivo. 
		    * `less /var/log/auth.log`, flecha de teclado, espacio √≥ salir con :q
		    * `man ls`, ver manual de _ls_ , y hacer b√∫squeda con : **/texto_a_buscar** y para navegar en la b√∫squeda usar `N` siguiente resultado y `N + Shift` anterior resultado.
		  * **_tail_** , mostrar la √∫ltima parte del archivo 
		    * `tail -n 20 /var/log/auth.log`, por defecto muestra 10 l√≠neas.
		    * `tail -f /var/log/auth.log`, hacer seguimiento al archivo.
		    * `tail -f /var/log/auth.log /var/log/dpkg.log`, hacer seguimiento a varios archivos al mismo tiempo.
		  * **_head_** , mostrar la primera parte del archivo 
		    * `head -n 20 /var/log/auth.log`, por defecto muestra 10 l√≠neas.
		
		
		
		## Interacci√≥n con archivos y permisos
		
		Se pueden dar permisos seg√∫n los siguientes par√°mentros **ugoa** (usuario, grupo, otros y todos), y estos a su vez tienen permisos de 3 tipos (lectura, escritura y ejecuci√≥n).
		
		  * Al listar un archivo `ls -l` tendremos la siguiente informaci√≥n:
		
		Tipo archivo | Permisos Usuario | Permisos Grupo | Permisos Otros | Enlaces | Due√±o usuario | Nombre Grupo | Tama√±o | Fecha y tiempo | Nombre archivo  
		---|---|---|---|---|---|---|---|---|---  
		- | rwx | rwx | rwx | 1 | root | root | 0 | 4 Abr 14:45 | texto.txt  
		  
		  * Cambiar de permisos de archivo con _chmod_ : 
		    * `sudo chmod 755 texto.txt`, todos los permisos para usuario y solo permisos de lectura-escritura para grupo lectura y otros.
		  * Cambiar due√±o de archivos con _chown_ : 
		    * `sudo chown root: texto.txt`, due√±o de archivo root y grupo tal como el usuario.
		  * Quitar permiso a archivo: 
		    * `sudo chmod o-r texto.txt`, otros usuarios no pueden leer el archivo.
		    * `sudo chmod o+r texto.txt`, otros usuarios si pueden leer el archivo.
		
		
		
		## Terminales en Linux
		
		  * Identificando terminales en Linux:
		
		    * Las consolas f√≠sicas tendr√°n una numeraci√≥n de **_tty1 - tty6_**
		    * La consola **_tty7_** est√° dise√±ada para la interfaz gr√°fica.
		    * Comandos para verificar las terminales: 
		      * `Ctrl + Alt + F(n)`, donde n es el n√∫mero.
		      * **_chvt_** : comando para verificar la terminal. 
		        * `sudo chvt 3`, ir a la consola 3
		        * `tty`, muestra la consola actual de trabajo -> `/dev/pts/0`
		        * `w`, muestra la cantidad de usuarios en el sistema, con mayor informaci√≥n.
		        * `who`, tambi√©n se verifican los usuarios por consola con menor informaci√≥n.
		        * `/dev/pts/`, contiene terminales virtuales del S.O.
		        * `ps -ft tty1`, listar los procesos del S.O por variables espec√≠ficas.
		        * `kill -9 pid`, matar proceso por _process id_ , que mata a la conexi√≥n de terminal.
		  * Pseudoterminales:
		
		    * Terminales l√≥gicas.
		
		
		
		## Manejo y monitoreo de procesos del sistema
		
		  * El programa **_ps_** , reporta un vistazo de los procesos actuales que se ejecutan en el S.O:
		
		    * `ps aux`, reporte detallado de los procesos del sistema.
		    * `ps aux | grep platzi`, enlazar comando con pipe. En donde la salida con _grep_ buscar una cadena espec√≠fica.
		  * Obtener multi-tarea en una terminal:
		
		    * Creo un archivo a editar: `vi platzi`
		    * Enviar proceso a segundo plano: `Ctrl + Z`
		    * Veo procesos/tareas en segundo plano: `jobs`
		    * Activar proceso/tarea: `fg` √≥ `fg (n)`, donde n es el n√∫mero de proceso √≥ tarea [n].
		    * Ejecutar comando √≥ script en segundo plano: 
		      * `./script.sh &`, con la opci√≥n **&** permite la ejecuci√≥n en segundo plano.
		      * `nohup ./script.sh &`, que se ejecuta en segundo plano y crear un archivo _nohup.out_ , que guarda toda la informaci√≥n del proceso.
		
		
		
		## Monitoreo de recursos del sistema
		
		  * **_top_** : Muestra los procesos de sistema Linux, tambi√©n detalle del servidor y sus componentes.
		
		    * Load average: Se refiere a la CPU
		    * Validar cpu: `cat /proc/cpuinfo | grep -i "Processor"` , en este caso muestra un solo procesador. Por lo que el Load Average toma valores de _0 a 1_ y se suma m√°s 1 cuando hay mas procesadores (cada unidad se refiere a un procesador).
		    * Variables de _load average_ se miden: 
		      * Primer valor: **cada minuto**.
		      * Segundo valor: **cada 5 minutos**.
		      * Tercer valor: **cada 15 minutos**.
		  * **_free_** muestra cantidad de memoria libre y en uso en el sistema.
		
		    * `free`, muestra estado de memoria en bits.
		    * `free -h`, muestra los tama√±os en formatos conocidos y legibles.
		  * **_du_** espacio usado estimado por archivo, y es recursivo para directorios.
		
		    * `du -h`, espacio utilizado en formato humano.
		    * `du -hsc /home/platzi/`, espacio total sumarizado.
		  * Procesos que consumen m√°s CPU:
		
		    * `sudo ps auxf | sort -nr -k 3 | head -5` muestra los 5 procesos en CPU ordenados en reversa y en forma de √°rbol (procesos hijo).
		    * `sudo ps auxf | sort -nr -k 4 | head -5` muestra los 5 procesos en RAM ordenados en reversa y en forma de √°rbol (procesos hijo).
		  * **_htop_** Visor de proceso interactivo, que muestra en detalle los procesos y sus datos. Tambi√©n se puede filtrar y ordenar interactivamente mediante las teclas function. Viene instalado por defecto en Ubuntu, y se tiene que instalar en CentOS.
		
		
		
		
		> Como software de monitoreo existe [Zabbix](%5Bhttps://www.zabbix.com/%5D\(https://www.zabbix.com/\))
		
		<h1>2\. Instalaci√≥n y manejo del software en Linux</h1>
		
		## An√°lisis de los par√°metros de red
		
		Una direcci√≥n **_IP_** es un identificador √∫nico para los equipos conectados a una red.
		
		  * **IP Privada** usada para identificar un equipo en una red local (casa u oficina).
		
		  * **IP P√∫blica** para dispositivos conectados a internet (servidores o routers).
		
		  * Para ver la direcci√≥n red del dispositivo Linux se tienen las siguientes opciones:
		
		    * `ifconfig`, usado para configurar interfaces de red y visualizar su estado.
		    * `ip a`, direcci√≥n y protocolo de una direcci√≥n de un dispositivo.
		    * `ip -4 a`, ver solo direcciones ipv4.
		    * `hostname`, muestra nombre de dominio del dispositivo.
		    * `route -n`, muestra las direcciones en la tabla de enrutamiento.
		    * `nslookup google.com`, consulta informaci√≥n al servidor (IP, nombre y direcci√≥n).
		    * `curl google.com`, herramienta para transferir datos de/hac√≠a un servidor.
		    * `wget google.com/archivo.gzip`, utilidad para descargar archivos de la web.
		
		
		
		## Administraci√≥n de paquetes acorde a la distribuci√≥n
		
		  * Red Hat / CentOS / Fedora
		
		    * **_.rpm_** Red Hat Package Manager.
		
		      * Base de datos RPM, localizada en `/var/lib/rpm`
		      * `rpm -qa` Listar todos los rpms instalados en la m√°quina. (query all)
		      * `rpm -i paquete.rpm` Realizar la instalaci√≥n de un paquete. (install)
		      * `rpm -e paquete.rpm` Remover un paquete del sistema. (erase)
		    * **_Repositorios yum_** Permite instalar un paquete desde un repositorio sin tener que conocer la ruta del archivo o las dependencias.
		
		      * `yum install paquete`
		  * Debian / Ubuntu
		
		    * **_.deb_** Debian package management.
		
		      * Base de datos DPKG, localizada en `/var/lib/dpkg`
		      * `dpkg -l` Listar todos los debs instalados en la m√°quina.
		      * `dpkg -i paquete.deb` Realizar la instalaci√≥n de un paquete.
		      * `dpkg -r paquete.deb` Remover un paquete del sistema.
		    * **_dpkg-reconfigure_**
		
		      * `dpkg-reconfigure paquete` Volver a ejecutar el asistente de configuraci√≥n si est√° disponible.
		    * **_repositorios apt_** otra forma de instalar.
		
		      * `apt install paquete`
		
		
		
		## Manejo de paquetes en sistemas basados en Debian
		
		  * Gestor de paquetes **apt** :
		
		    * `sudo apt-get update`, descargar los paquetes
		    * `sudo apt-get upgrade`, actualizar los paquetes
		    * `sudo apt dist-upgrade`, actualizar el sistema y cuando se actualiza el kernel se puede reiniciar.
		    * `sudo apt search "mysql$"`, b√∫squeda espec√≠fica de paquetes
		    * `sudo apt-cache search "mysql$"`, b√∫squeda de paquetes en cach√©.
		    * `dpkg -l` listar paquetes.
		    * `dpkg-reconfigure tzdata`, reconfigurar paquete la configuraci√≥n horaria, para fecha.
		  * Gestor de paquetes **snap** :
		
		    * `sudo snap search aws-cli`, buscar paquetes
		    * `sudo snap refresh --list`, actualizar paquetes.
		    * `sudo snap info aws-cli`, ver informaci√≥n del paquete.
		    * `sudo snap install canonical-livepatch` instalar paquete, que permite actualizar el sistema autom√°ticamente sin reiniciarlo.
		
		
		
		## Administraci√≥n de software con YUM y RPM para CentOS
		
		  * Gestor de paquetes **rpm** :
		
		    * `rpm -qa` , mostrar todos los paquetes instalados.
		    * `rpm -qi bash`, informaci√≥n de un paquete.
		    * `rpm -qc bash`, configuraci√≥n de un paquete
		  * Gestor de paquetes **yum** :
		
		    * `sudo yum update`, actualizar paquetes
		    * `ifconfig`, si no est√° instalado ejecutar `yum install net-tools` [yes]
		    * `ip a` revisar direcciones ip.
		  * Instalar **htop** :
		
		    * `sudo yum install https://dl.fedoraproject.org/pub/epel/epel-release-latest-8.noarch.rpm`
		    * `sudo yum update`
		    * `sudo yum search htop`
		    * `sudo yum install htop` [si]
		    * `sudo yum update htop`
		  * Borrar paquete curl:
		
		    * `rpm -e curl`
		
		
		
		> `CTRL + A` Vuelve al inicio de l√≠nea.  
		>  ¬øEst√° de acuerdo [s/N]?: <\-- Por defecto se ejecuta la letra en may√∫sculas.
		
		## Nagios: Desempaquetado, descompresi√≥n compilaci√≥n e instalaci√≥n de paquetes
		
		  * No todo el software que necesitamos se encuentra en los repositorios. Debido a esto, algunas veces debemos descargar el software, realizar un proceso de descompresi√≥n y desempaquetado para finalmente instalar la herramienta.
		```     sudo apt install build-essential libgd-dev openssl libssl-dev unzip apache2 php gcc libdbi-perl libdbd-mysql-perl
		    
		```
		
		  * Instalaci√≥n de Nagios:
		```     wget https://assets.nagios.com/downloads/nagioscore/releases/nagios-4.4.4.tar.gz -O nagioscore.tar.gz
		    
		```
		
		  * Descomprimir y desempaquetar archivos con **tar** :
		```     tar xvzf nagioscore.tar.gz
		    
		```
		
		> xvzf = e **X** tract **V** erbose g **Z** ip **F** ile
		
		  * Este comando crear√° una carpeta **`nagios-4.4.4`**. El nombre de la carpeta puede variar dependiendo de la versi√≥n que descargaste. Entrando a esta carpeta podemos ejecutar diferentes archivos y comandos para configurar el software y realizar la instalaci√≥n.
		```     # 1:
		    sudo ./configure --with-https-conf=/etc/apache2/sites-enabled
		    # 2:
		    sudo make all
		    # 3:
		    sudo make install
		    # 4:
		    sudo make install-init
		    # 5:
		    sudo make install-commandmode
		    # 6:
		    sudo make install-config
		    #7:
		    sudo make install-webconf
		    
		```
		
		  * Por √∫ltimo, para administrar el servicio de nagios podemos usar el comando:  
		`sudo systemctl (status, start, restart, reload, stop, enable, disable, list-dependencies) nagios`.
		
		
		<h1>3\. Administraci√≥n de usuarios</h1>
		
		## Los usuarios, tarea vital en el proceso de administraci√≥n del servidor
		
		  * Comando **id** muestra el identificador √∫nico ( _uid_ ) del S.O, donde el cero(0) est√° reservado para el usuario _root_.
		
		    * Significado del resultado de comando `id`: 
		      * **_uid_** (user id).
		      * **_gid_** (group id).
		      * **_groups_** (grupo al que pertenece).
		    * En distribuciones Debian los usuarios empiezan a enumerarse desde mil (1000) en adelante.
		    * En distribuciones Red Hat los usuarios empiezan a enumerarse desde quinientos (500) en adelante.
		  * Comando **_whoami_** para preguntar que usuario soy.
		
		    * Que se almacena en: `/etc/passwd`
		    * En el resultado: `root:x:0:0:root:/root:/bin/bash`la **x** indica que es la contrase√±a sombra, user id, group id, home user, consola del usuario.
		    * Locaci√≥n de contrase√±a sombra: `cat /etc/shadow`
		    * En Ubuntu el usuario root, por defecto viene desactivado.
		
		
		
		## Creando y manejando cuentas de usuario en el S.O
		
		Comandos para crear cuentas de usuario:
		
		  * Agregar usuario: `sudo useradd bob`, este comando crea inmediatamente el usuario, pero _no agrega una carpeta dentro del home_.
		  * Agregar usuario: `sudo adduser bina`, este comando lanza una pantalla para configurar el usuario y a su vez _si agrega una carpeta dentro del home_.
		  * Validar creaci√≥n de usuario: `cat /etc/passwd`
		  * Eliminar usuario: `sudo userdel bina`
		  * Modificar usuario: `usermod`
		
		
		
		## Entendiendo la membres√≠a de los grupos
		
		Los grupos nos ayudan a darle los mismos permisos a diferentes usuarios al mismo tiempo, sin necesidad de asignar el mismo permiso a cada usuario individualmente. Todos los usuarios que pertenezcan al mismo grupo tendr√°n los mismos permisos.
		
		  * Cambiar de usuario: 
		    * `su - nodejs` Switch User
		    * `sudo su - nodejs` cambiar de usuario con super usuario, sin saber la contrase√±a.
		    * El nuevo usuario no se encuentra en el archivo sudoers.
		    * Cuando un usuario se crea se asocia a su propio grupo, `groups nodejs`
		    * Modificar el usuario con _gpasswd_ : 
		      * Por lo que se agrega al nuevo usuario al grupo sudo: `sudo gpasswd -a nodejs sudo`
		      * Quitar del grupo sudo: `sudo gpasswd -d nodejs sudo`
		    * Modificar el usuario con _usermod_ : 
		      * Agregar a un grupo: `sudo usermod -aD sudo nodejs`
		    * Validar si el usuario tiene permisos sudo: `sudo -l`
		
		
		
		## Usando PAM para control de acceso de usuarios
		
		**PAM** es un mecanismo para **administrar a los usuarios** de nuestro sistema operativo. Nos permite autenticar usuarios, controlar la cantidad de procesos que ejecutan cada uno, verificar la fortaleza de sus contrase√±as, ver la hora a la que se conectan los usuarios por SSH, entre otras.
		
		  * Configuraciones de PAM
		  * Carpetas de PAM: 
		    * Ubicado en: `ls /etc/pam.d/`
		    * Librer√≠a de pam: `ls /lib64/security`
		    * Cambios de configuraci√≥n de pam: `ls /etc/security/`
		  * En CentOS, validar calidad de contrase√±a: `pwscore`
		  * Listar permisos del usuario: `ulimit -a`, max user procesess 
		    * `ulimit -u 10`
		    * Crear script para validar max user procesess:
		```     #!/bin/bash
		    echo"hola"
		    $0
		    
		```
		
		    * Cambiar de permisos y ejecutar: `chmod +x script.sh; ./script.sh` y validar que el proceso se va deteniendo debido al l√≠mite de procesos.
		  * Asegurar el ingreso y hora de los usuarios, mediante la configuraci√≥n con user root: `vim /etc/security/time.conf`
		    * Otra forma el asignar permisos de administrador al usuario: `gpasswd -a platzi wheel`, wheel es para RedHat y Ubuntu ser√≠a sudo.
		    * Regla para conexi√≥n de usuarios en el archivo _time.conf_ : `*;*;edison|nodejs;Wk0800-1800`
		
		
		
		> `/etc/` guarda la configuraci√≥n de todo el software del sistema operativo.  
		>  `/lib/` librer√≠as del sistema.
		
		<h1>4\. Servicios en el Sistema Operativo</h1>
		
		## Autenticaci√≥n de clientes y servidores sobre SSH
		
		  * **SSH** es un protocolo que nos ayuda a conectarnos a nuestros servidores desde nuestras m√°quinas para administrarlos de forma remota. No es muy recomendado usar otros protocolos como Telnet, ya que son inseguros y est√°n deprecados.
		  * Configurar SSH: 
		    * `sudo vi /etc/ssh/sshd_config`
		  * Generar ssh en mi m√°quina: 
		    * `ssh-keygen`, genera llave privada y p√∫blica
		    * `ls .ssh`, muestra archivos generados
		    * `ssh-copy-id -i ~/.ssh/id_rsa.pub server@ip_address`, copiar llave al servidor.
		  * Desactivar acceso sin password: 
		    * `sudo vi /etc/ssh/sshd_config`, editar el archivo y activar _ _PasswordAuthentication no_.
		    * Luego reiniciar el servicio: `sudo systemctl restart ssh`
		  * Ver problemas en la conexi√≥n por ssh: 
		    * `ssh -vvvv user@ip` donde las v muestran la informaci√≥n de la conexi√≥n.
		  * Restringir el uso de usuario root a mi maquina: 
		    * Editar el archivo _sshd_config_ : `PermitRootLogin no`
		  * Solo un usuario puede ingresar a la m√°quina: ************
		
		
		
		## Configurando DNS con bind
		
		<h3>Contexto hist√≥rico de los DNS</h3>
		
		  * En Junio de 1983 alrededor de 70 sitios estuvieron conectados a la red de ciencias de la computaci√≥n, permitiendo de esta forma la uni√≥n de algunos establecimientos gubernamentales, cient√≠ficos y universitarios para que pudieran compartir datos, por esta raz√≥n los archivos de host no eran suficientes para hacer la replicaci√≥n entre sitios, por este motivo en noviembre de 1983 se public√≥ el [RFC 882](https://www.techopedia.com/definition/27929/request-for-comments-rfc) que define el servicio de nombre de dominios. Paso siguiente en octubre de 1984 se crearon 7 TLDs (Dominios de nivel superior) o tambi√©n conocidos como dominios de prop√≥sito general .arpa, .com, .org, .edu, .gov, .mil y la letra de los pa√≠ses respetando su c√≥digo ISO [1]
		
		<h3>Instalaci√≥n de Bind</h3>
		  * Instalar el gestor de paquetes llamado _aptitude_ : `sudo apt install aptitude`.
		
		  * Buscar _bind_ con una expresi√≥n regular. `aptitude search "?name(^bind)"`  
		![1.png](https://static.platzi.com/media/user_upload/1-14be2396-5798-4308-91f4-6bf77d68f68c.jpg)
		
		  * Instalar _bind_ : `sudo apt install -y bind9`
		
		  * Validar instalaci√≥n con `netstat -ltn` y verificar que el puerto 53 est√© activo.  
		![2.png](https://static.platzi.com/media/user_upload/2-a2456330-56b3-48e0-b9e1-9b6b9fdea8af.jpg)
		
		  * Validar y ver los procesos con el modificador _p_ y sudo para ver los procesos: `sudo netstat -ltnp`  
		![3.png](https://static.platzi.com/media/user_upload/3-6f9e86dc-67da-4a0f-b6ea-aaa8219686e9.jpg)
		
		  * Uso de la herramienta **dig** , para ver el nombre de dominio, y se buscar√° en la m√°quina local, es decir 127.0.0.1:
		
		    * `dig www.platzi.com @127.0.0.1` y validar los tiempos de respuesta desde localhost.  
		![4.png](https://static.platzi.com/media/user_upload/4-8f5a5df5-b9c9-4196-86f5-801d6aa490aa.jpg)
		  * Validar los archivos de configuraci√≥n instalados: `dpkg -L bind9 | grep bind`.  
		![5.png](https://static.platzi.com/media/user_upload/5-d6ca3e4e-8c8b-4240-b0a0-700ce6f06cbb.jpg)
		
		  * Los archivos principales ser√°n:
		
		    * `/etc/bind/named.conf` archivo principal
		    * `/etc/bind/rndc.key` donde se configura la clave para acceso al servidor.
		    * [Configuraci√≥n de bind](https://www.digitalocean.com/community/tutorials/how-to-configure-bind-as-a-private-network-dns-server-on-ubuntu-18-04-es)
		  * Para ver la _versi√≥n_ de bind, existen dos formas:
		
		    * `named -v`, versi√≥n simple.
		    * `named -V`, versi√≥n extendida.
		  * Opciones de adquisici√≥n de DNS:
		
		    1. [Namecheap](https://www.namecheap.com/)
		    2. [Hover](https://www.hover.com/)
		    3. [Route 53](https://aws.amazon.com/es/route53/)
		  * Opciones para configurar tus DNS, que influye directamente en la velocidad, seguridad o reputaci√≥n del servidor/sitio:
		
		    1. [OpenDns](https://www.opendns.com/)
		    2. [Google DNS](https://developers.google.com/speed/public-dns/)
		    3. [Neustar UltraDNS](https://www.home.neustar/dns-services)
		    4. [Cloudflare](https://www.cloudflare.com/dns/)
		    5. [quad](https://www.quad9.net/)
		    6. [Public DNS](https://public-dns.info/)
		    7. [Yandex DNS](https://dns.yandex.com/)
		  * Herramienta para seleccionar DNS basado en ubicaci√≥n y b√∫squedas:
		
		    * [Namebench](https://code.google.com/archive/p/namebench/downloads) Se tiene que instalar y ejecutar en la m√°quina cliente y con esto se obtienen sugerencias al respecto.
		
		
		
		## Arranque, detenci√≥n y recarga de servicios
		
		  * Verificar servicio:
		
		    * `sudo systemctl status apache2` verificar estado del servicio.
		    * `sudo systemctl enable apache2` activar servicio, as√≠ se apague el servicio se iniciar√°
		    * `sudo systemctl stop apache2` detener servicio. (inactivo)
		    * `sudo systemctl enable apache2` iniciar servicio.
		  * Listar todos los servicios y sus estados:
		
		    * `sudo systemctl list-units -t service --all` se observan todos los servicios del sistema.
		  * Buscar logs `/var/log/`:
		
		    * `sudo journalctl -fu apache2` con journal se puede seguir(follow) el servicio y verificar los logs.
		    * `sudo journalctl --disk-usage` consumo de disco que usa journal para logs.
		    * `sudo journalctl --list-boots` cuales son los reinicios de la m√°quina.
		    * `sudo journalctl -p crit` los servicios que tuvieron fallas (cr√≠ticas).
		    * `sudo journalctl -o json` salida en formato json.
		
		
		
		## NGINX y Apache en Ubuntu server
		
		NGINX y Apache son software para montar servidores web. Se pueden ejecutar ambos al mismo tiempo, siempre y cuando no est√©n a la espera de conexiones por el mismo puerto.
		
		  * `sudo netstat -tulpn` Validar puertos activos.
		
		  * Se puede tener una infraestructura donde NGINX puede servir como proxy y Apache como servidor web.  
		![1.png](https://static.platzi.com/media/user_upload/1-41459c2e-383e-4bbe-a908-00a39fa0b940.jpg)  
		Imagen tomada de: <https://guides.wp-bullet.com/how-to-configure-nginx-reverse-proxy-wordpress-cache-apache/>
		
		  * En el mercado los m√°s utilizados son Apache y NGINX.  
		![2.png](https://static.platzi.com/media/user_upload/2-a0578f19-82a2-42ed-9d45-6f8531b0a147.jpg)
		
		
		
		
		Existen en internet art√≠culos interesantes de comparaci√≥n entre ambos y el caso de uso de cada uno de ellos.  
		<https://www.digitalocean.com/community/tutorials/apache-vs-nginx-practical-considerations>  
		<https://www.nginx.com/faq/what-is-nginx-how-different-is-it-from-e-g-apache/>
		
		  * **Proceso de instalaci√≥n.**
		    * Apache: 
		      * `sudo apt install apache2` instalar apache.
		      * `sudo systemctl restart apache2` reiniciar servicio.
		      * `sudo vim /etc/apache2/ports.conf`, cambiar al puerto alterno 8080.
		      * `sudo vim /etc/apache2/sites-available/000-default.conf` y cambiar la l√≠nea en `<VirtualHost *:8080>`
		      * `sudo systemctl restart apache2` reiniciar virtual host.
		      * `sudo systemctl status apache2` validar estado de servicio.
		    * NGINX: 
		      * `sudo apt install nginx nginx-extras` instalar nginx.
		      * `sudo systemclt status nginx` validar estado de servicio.
		      * `proxy_pass http://127.0.0.1:8080;` en la configuraci√≥n de NGINX debe validar el proxy pass.
		
		![3.png](https://static.platzi.com/media/user_upload/3-2007b732-969e-4b38-887a-b10372301beb.jpg)
		
		  * En Apache para activar sitios se utiliza `a2ensite` que recibe como par√°metro el archivo de configuraci√≥n definido en `/etc/apache2/sites-available`
		  * NGINX no cuenta con este comando, motivo por el cual se tiene un enlace blando, es decir, cuando creemos un archivo de configuraci√≥n en `/etc/nginx/sites-available` se debe ejecutar : `sudo ln -s /etc/nginx/sites-available/configuracion_nginx /etc/nginx/sites-enabled/`
		  * Apache tambi√©n permite deshabilitar sitios y agregar m√≥dulos 
		    * `sudo a2dissite 000-default`
		    * `sudo a2enmod rewrite headers env dir mime`
		
		
		
		Si se requiere activar **letsecrypt** en NGINX _.htaccess_ en la ruta `/var/www/html/nombre_host/.htaccess.` con el comando: `SetEnvIf X-Forwarded-Proto https`
		
		![4.png](https://static.platzi.com/media/user_upload/4-fac86153-c51f-4198-936e-126308b53884.jpg)
		
		## Instalaci√≥n y configuraci√≥n de NGINX
		
		  * `sudo apt search "nginx$"` buscar paquete.
		  * `sudo apt update && sudo apt install nginx` actualizar repositorios e instalar nginx.
		  * `sudo systemctl status nginx` validar el servicio.
		  * `sudo netstat -tulpn` validar servidores y sus puertos.
		  * `sudo systemctl stop apache2` detener apache por conflicto de puerto.
		  * `sudo systemctl start nginx` activar nginx.
		  * `ls -l /etc/nginx` ver archivos de nginx.
		  * `cat /etc/nginx/nginx.conf` configuraci√≥n de nginx, eventos/acceso/compresion/usuario.
		  * `less /etc/nginx/sites-available/default` sites available, contiene configuraci√≥n por defecto con los servicios activos.
		  * `curl -I localhost` muestra las cabeceras del servidor.
		  * `less /etc/nginx/sites-enabled/default` sites enabled, contiene configuraci√≥n por defecto apuntando a los sitios disponibles.
		
		
		
		## ¬øQu√© es NGINX Amplify?
		
		  * **NGINX Amplify** es una herramienta SaaS que permite realizar el monitoreo de NGINX y NGINX Plus. Los factores que permite monitorear son el rendimiento, configuraciones con an√°lisis est√°tico. par√°metros del sistema operativo, as√≠ como PHP-FPM, bases de datos y otros componentes. Nginx Amplify es de f√°cil configuraci√≥n y llevar control de nuestros servidores es agradable por los tableros de administraci√≥n que posee.
		  * Con NGINX Amplify podr√°s **recolectar m√°s de 100 m√©tricas de NGINX** y el sistema operativo. Amplify analiza los archivos de configuraci√≥n propios del servidor, detecta configuraciones incorrectas y da recomendaciones de seguridad, tambi√©n permite crear notificaciones que pueden ser enviadas por correo o a un canal de Slack con un simple clic.
		  * Los tableros de mando de Amplify sirven para verificar la disponibilidad del sitio e identificar situaciones an√≥malas en diferentes periodos de tiempo.
		  * Otra caracter√≠stica a destacar es que NGINX Amplify te permite administrar varios sitios, direcciones IP y un nombre para identificarlo.
		  * Para conocer un poco m√°s de esta herramienta visita el sitio <https://www.nginx.com/products/nginx-amplify/>
		
		
		
		## NGINX Amplify: Instalaci√≥n y configuraci√≥n de un servidor
		
		  * Tener instalado Python2.7 en el servidor. `sudo apt install python2.7`
		  * Ir a la carpeta de nginx: `cd /etc/nginx`
		  * Buscar una palabra en un archivo: `grep -i include\.*conf nginx.conf`
		  * Loguearse como root `sudo su` y agregar `cat > conf.d/stub_status.conf`
		```    server{
		    	listen 127.0.0.1:80;
		    	server_name 127.0.0.1;
		    	location /nginx_status {
		    		stub_status on;
		    		allow 127.0.0.1;
		    		deny all;
		    	}
		    }
		    
		```
		
		Salir con `CTRL + C`  
		Validar archivo `cat conf.d/stub_status.conf`
		  * Matar pid de nginx: `kill -HUP ``cat /var/run/nginx.pid```
		  * Reiniciar nginx: `systemctl restart nginx && systemctl enable nginx`
		  * Registrarse en [Nginx Amplify](https://www.nginx.com/products/nginx-amplify/)
		  * Ir al home y descargar amplify: `wget amplify/install.sh`
		  * Cambiar de permisos: `sudo chmod +x install.sh`
		  * Instalar con la llave: `sudo API_KEY='asdasdq2342xsd' sh ./install.sh`
		  * Iniciar servicio amplify: `service amplify-agent start` , autenticar con usuario [1]
		  * Validar servicio: `service amplify-agent status`
		  * Reiniciar servicio: `sudo systemctl restart nginx && sudo systemctl status nginx`
		
		
		
		## Monitoreo de MySQL con Nagios
		
		**MYSQL**
		
		  * `sudo apt search "mysql-server$"` buscar mysql.
		  * `sudo apt install mysql-server` instalar mysql-server.
		  * `mysql` validar que existe, y falta configurar usuario.
		  * `sudo vi /etc/mysql/debian.cnf` archivo con host, usuario y password para conectarse a mysql.
		  * `mysql -u debian-sys-maint -p` como es localhost no se define y se escribe la contrase√±a cuando lo solicite, para que no se quede guardado en el historial.
		  * `mysql> show databases;` mostrar bases de datos.
		  * `mysql> exit`
		  * `sudo mysql_secure_installation` iniciar una instalaci√≥n segura: 
		    * Validar password: YES
		    * Calidad password: MEDIUM
		    * Estimaci√≥n de password: 100
		    * Quitar usuarios an√≥nimos: YES
		    * Desabilitar login remoto YES
		    * Quitar BD de prueba: YES
		    * Recargar tablas de privilegios: YES
		  * `mysql` a√∫n contin√∫a con acceso denegado.
		  * `sudo mysql` y se conecta al servidor de BD
		
		
		
		**NAGIOS**
		
		  * `sudo systemctl status apache2` validar apache.
		  * `sudo a2enmod rewrite cgi` activar modulos rewrite y cgi
		  * `sudo htpasswd -c /usr/local/nagios/etc/htpasswd.users nagiosadmin` crear usuario para loguearse y crear contrase√±a.
		  * `sudo systemctl restart apache2` reiniciar apache
		  * `sudo systemctl status nagios` validar nagios.
		  * En navegador ingresar al ip del servidor en la ruta: `ip_server:8080/nagios/`
		  * Instalar plugins: `sudo apt install -y libmcrypt-dev make libssl-dev wget bc gawk dc build-essential snmp libnet-snmp-perl gettext`
		  * `wget https://nagios-plugins.org/download/nagios-plugins-2.2.1.tar.gz -O plugins.tar.gz` descargar plugins.
		  * `tar xvzf plugins.tar.gz` descomprimir
		  * `cd nagios-plugins/` ingresar a carpeta
		  * `sudo ./configure` configure
		  * `sudo /usr/local/nagios/bin/nagios -v /usr/local/nagios/etc/nagios.cfg` validar que no tenga errores o advertencias.
		  * `sudo systemctl restart nagios` reiniciar y validar estado.
		  * Finalmente en la interfaz web no deben verse problemas.
		
		
		
		## Configuraci√≥n de Nagios
		
		  * `wget https://labs.consol.de/assets/downloads/nagios/check_mysql_health-2.2.2.tar.gz` descargar en el home
		  * `tar xvzf check.tar.gz`
		  * `cd check/`
		  * `sudo ./configure`
		  * `sudo mysql` ingresar a mysql
		  * `mysql> grant select on *.* to 'nagios'@'localhost' identified by 'nagiosplatziS14*';` permisos en bd
		  * `mysql> FLUSH PRIVILEGES;` exit
		  * `sudo vi /usr/local/nagios/etc/nagios.cfg` configuraci√≥n
		  * `cfg_file=/usr/local/nagios/etc/objects/mysqlmonitoring.cfg`copiar con teclas ( **YY** copia) y ( **P** ) pega, y guardar.
		  * `sudo vi /usr/local/nagios/etc/objects/commands.cfg` editar comandos al final con `SHIFT + G`
		  * Definir comando para mysql:
		```    define command {
		    	command_name check_mysql_health
		    	command_line $USER1$/check_mysql_health -H $ARG4$ --username $ARG1$ --password $ARG2$ --port $ARG5$ --mode $ARG3$
		    }
		    
		```
		
		  * `sudo vi /usr/local/nagios/etc/objects/mysqlmonitoring.cfg` con el siguiente contenido:
		```    define service {
		    	use local-service
		    	host_name localhost
		    	service_description MySQL connection-time
		    	check_command check_mysql_health!nagios!nagiosplatziS14*!connection-time!127.0.0.1!3306!
		    }
		    define service { use local-service host_name localhost service_description MySQL connection-time check_command check_mysql_health!nagios!nagiosplatziS14*!connection-time!127.0.0.1!3306! }
		    
		```
		
		  * `sudo systemctl restart nagios` y validar estado y validar el estado en la web.
		
		
		
		## Los logs, nuestros mejores amigos
		
		  * **_FIND_** Buscar archivos y/o carpetas en el sistema operativo. Podemos filtrar por tipo de archivo con `-type`, por nombre con `-name`, sin hacer diferencia entre may√∫sculas y min√∫sculas con `-i`, por fecha de modificaci√≥n con **-mtime** , entre otros.
		
		    * Por ejemplo: 
		      * `find /etc -type f` buscar solo archivos
		      * `sudo find /etc -mtime 10` buscar archivos que han sido cambiado en los √∫ltimos 10 minutos.
		      * `sudo find /etc -mtime 10 2> /dev/null` buscar archivos que han sido cambiado en los √∫ltimos 10 minutos y son mandados al agujero negro.
		      * `find /var/log -name "*.log" -type f` buscar archivos con extensi√≥n _log_.
		      * `find /var/log -iname "*.LOG" -type f` buscar archivos con extensi√≥n _log_ y que no tenga encuentra las mayusculas y minusculas.
		      * `find /var/log ! -iname "*.LOG" -type f` buscar archivos que no cumplan con la condici√≥n.
		  * **_GREP_** Filtrar el resultado de un comando o archivo dependiendo de las palabras de cada l√≠nea.
		
		    * Por ejemplo: 
		      * `grep "server" /etc/nginx/sites-available/default`, busco palabras en un archivo.
		      * `ps aux | grep platzi`
		  * **_AWK_** Es un lenguaje de scripting que ayuda a procesar informaci√≥n usando patrones para filtrar, reorganizar y darle formato a nuestros datos.
		
		    * Por ejemplo: 
		      * `awk '{print $1}' /var/log/nginx/access.log` direcciones que accedieron al servidor.
		      * `awk '{print $1}' /var/log/nginx/access.log | sort | uniq -c | sort -nr` direcciones que accedieron al servidor, organizados por el numero de veces.
		
		
		
		## Otros servicios de logs
		
		  * Un servidor puede llegar a registrar millones de l√≠neas de datos en un log. Para facilitar el monitoreo y mantenimiento podemos usar herramientas o tecnolog√≠as que permitan tomar esta informaci√≥n sin procesar y convertirla en visualizaciones f√°ciles de consumir y entender.
		
		  * El primer paso para seleccionar las herramientas que usaremos. Lo primero es tener una base de conocimiento que nos identifique el servidor en circunstancias normales y de esta forma con la ayuda de estas herramientas detectar preocupaciones o incluso tendencias con una sola mirada.
		
		  * Algunas herramientas que podemos tener en distribuciones Linux son:
		
		    * **_[Collectd](https://collectd.org/)_**  
		Es un demonio que recopila datos de rendimiento, y junto con la herramienta collectd web, es capaz de generar reportes que se pueden visualizar en un navegador WEB. Se puede establecer un servidor y a √©l conectarle un n√∫mero ilimitado de clientes remotos. Podemos agregar m√°s plugins si los necesitamos, para ello visitar la p√°gina <https://collectd.org/wiki/index.php/Table_of_Plugins>
		
		    * **_[Nmon](http://nmon.sourceforge.net/)_**  
		Obtener visualizaciones r√°pidas del sistema. Se instala con `apt install nmon`. Tiene una caracter√≠stica especial que permite guardar en archivos de formato _nmon_ que se pueden convertir en informaci√≥n que puede ser presentada en html con la herramienta `nmonchart`. `Nmon -f -s 15 -c 20`, se recolectar√° informaci√≥n por cinco minutos mostrados en incrementos de 15 segundos 20 veces.
		
		    * **_[Munin](http://munin-monitoring.org/)_**  
		Es una herramienta para analizar el rendimiento del servidor que contiene gr√°ficos hist√≥ricos para facilitar la identificaci√≥n de problemas en el tiempo.
		
		    * **_[Grafana](https://grafana.com/)_**  
		Permite consultar, visualizar, alertar y ante todo entender las m√©tricas de negocio sin importar d√≥nde est√°n almacenadas. Se puede crear, explorar y compartir tableros de mando con el equipo basados en el principio de la cultura orientada a los datos.
		
		    * Tambi√©n se pueden instalar agentes de monitoreo en los servidores, algunas opciones son <https://newrelic.com/> y <https://www.datadoghq.com/>, y tener una prueba del servicio y analizar el rendimiento del servidor.
		
		
		
		
		Cabe aclarar que tambi√©n se necesitar√° de alg√∫n sistema de alarma automatizado que env√≠e alertas de forma proactiva cuando las cosas no est√©n funcionando bien.
		
		<h1>5\. Bash scripting</h1>
		
		## Bash
		
		  * Los archivos de Bash usan la extensi√≥n `.sh`. La primera l√≠nea se utiliza para definir un int√©rprete, si el archivo debe ejecutarse con Python, Bash o cualquier otro lenguaje: **`#!/bin/bash`**.
		
		  * `vi archivo1.sh` crear archivo
		```     #!/bin/bash
		    # esto es un comentario
		    WELCOME="Hola Platzi"
		    echo$WELCOME
		    
		```
		
		    * Grabar archivo y agregar permisos de ejecuci√≥n: `sudo u+x archivo.sh`
		    * Ejecutar archivo: `./archivo.sh`
		  * Tambi√©n se pueden ejecutar comandos dentro de los archivo bash ([script2.sh](http://script2.sh)):
		```     #!/bin/bash
		    # Ejecutar pwd
		    pwd
		    # Guardar el resultado de pwd en una variable
		    $COPY_PWD=$(pwd)
		    
		```
		
		
		
		
		## Las variables y su entorno de ejecuci√≥n
		
		  * Las **variables de entorno** son un conjunto de variables globales en los sistemas que permiten acceder de forma m√°s f√°cil a una ruta o un conjunto de comandos dif√≠ciles de recordar.
		
		  * El comando `env` nos permite ver todas las variables de entorno del sistema.
		
		    * `echo $PATH` se tiene todos los binarios de la sesi√≥n actual.
		    * `cd /usr/local/sbin/` no se tiene nada
		    * `cd /usr/bin/` todos los binarios, que entienden los comandos que est√°n enlazados.
		  * Crear script que genere archivo con informaci√≥n del servidor.
		```     #!/bin/bash
		    # Verificar la cantidad de espacio en el S.O
		    # Desarrollado por Emerson Yurivilca
		    
		    CWD=$(pwd)
		    FECHA=$(date +"%F%T")
		    echo$FECHA
		    
		    df -h | grep  /dev > uso_disco_"$FECHA".txt
		    df -h | grep /dev/sda2 >> uso_disco_"$FECHA".txt
		    
		    echo"Se ha generado un archivo en la ubicaci√≥n $CWD"
		    
		```
		
		    * Guardar y dar permisos de ejecuci√≥n.
		    * Se ejecuta y se crea el archivo.
		
		
		
		## Automatizando tareas desde la terminal
		
		  * Crear Script:
		```    #!/bin/bash
		    # Shell script para obtener una copia desde mysql
		    # Desarrollado por Emerson Y.R
		    
		    PATH=/usr/local/sbin:/usr/local/bin/:/sbin:/bin:/usr/sbin:/usr/bin #Identicar las posibles rutas desde donde se pueda ejecutar el script
		    
		    set-e# Detener script si encuentra fallas
		    
		    readonly SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]})")" && pwd)"
		    readonly SCRIPT_NAME="$(basename "$0")"
		    
		    run
		    make_backup
		    
		    function assert_is_installed {
		    	localreadonly name="$1"
		    	
		    	if [[ ! $(command -v ${name}) ]]; then
		    		log_error "El binario '$name' se requiere pero no est√° en nuestro sistema"
		    		exit 1
		    	fi
		    }
		    
		    functionlog_error {
		    	localreadonly message "$1"
		    	log"ERROR""$message"
		    }
		    
		    functionlog {
		    	localreadonly level="$1"
		    	localreadonly message="$2"
		    	localreadonly timestamp="$(date + "%Y-%m-%d %H:%M:%S")" > &2 echo-e"${timestamp} [${level}] [$SCRIPT_NAME] ${message}"
		    }
		    
		    function run {
		    	assert_is_installed "mysql"
		    	assert_is_installed "mysqldump"
		    	assert_is_installed "gzip"
		    	assert_is_installed "aws"
		    }
		    
		    function make_backup {
		    	local BAK="$(echo $HOME/mysql)"
		    	local MYSQL="$(which mysql)"
		    	local MYSQLDUMP="$(which mysqldump)"
		    	local GZIP="$(which gzip)"
		    	local NOW="$(date + "+%d-%m-%Y")"
		    	local BUCKET="xxxx"
		    	
		    	USER="xxxx"
		    	PASS="xxxx"
		    	HOST="xxxx"
		    	DATABASE="xxxx"
		    	
		    	[ ! -d"$BAK" ] && mkdir -p "$BAK"
		    	
		    	FILE=$BAK/$DATABASE.$NOW-$(date + "%T").gz
		    	local SECONDS=0
		    	$MYSQLDUMP --single-transaction --set-gtid-purged=OFF -u $USER -h $HOST -p $PASS$DATABASE | $GZIP -9 > $FILE
		    	
		    	duration=$SECONDS
		    	
		    	echo"$(($duration /60) minutes"
		    	
		    	aws s3 cp $BAK"s3://$BUCKET" --recursive
		    }
		    
		```
		
		    * Guardar y darle permisos de ejecuci√≥n al script.
		
		
		
		## Crontab
		
		  * Para ejecutar la tarea de copia de seguridad se har√° uso de **cron** , el cual es un administrador regular de procesos en segundo plano que comprueba si existen tareas para ejecutar, teniendo en cuenta la hora del sistema.
		
		  * Las configuraciones de las tareas a ejecutar se almacenan en el archivo **crontab** que puede ser editado con el comando `crontab -e`, si quiere listar las tareas que se tienen configuradas ejecutar: `crontab -l`.
		
		  * Para establecer una tarea automatizada con **cron** se debe seguir un formato espec√≠fico para definir una tarea como se muestra a continuaci√≥n:
		
		
		![Cron2.png](https://static.platzi.com/media/user_upload/Cron2-05a06ff1-6ed2-4bf5-930f-b36642d85bba.jpg)
		
		  * Lo siguiente ser√≠a definir la periodicidad del **cron** , para ello se pueden hacer pruebas en el sitio [https://crontab.guru](https://crontab.guru/). Si requiere que la copia se ejecute todos los d√≠as a las 03:15 de la ma√±ana, pues es el momento donde menos tr√°fico existe en la base de datos.
		
		![Cron3.png](https://static.platzi.com/media/user_upload/Cron3-a78f4fc3-1a30-48f1-b00f-e8f8159dd805.jpg)
		
		  * Entonces el _cron_ quedar√≠a de la siguiente manera:  
		`15 3 * * * /usr/bin/bash /home/platzi/copia.sh`
		
		  * Se puede realizar un escaneo autom√°tico de la m√°quina todos los d√≠as a las 05:00 PM y generar un reporte del estado de seguridad de la m√°quina con _lynis_.  
		`* 17 * * * /usr/sbin/lynis --quick > /home/platzi/lynis_files/$(date +"%F") 2>/dev/null`
		
		  * Al verificar la carpeta se obtiene la siguiente salida:
		
		
		![Cron4.png](https://static.platzi.com/media/user_upload/Cron4-9bfefdaf-dedf-4fbf-aed7-ca7bc9ab9d78.jpg)
		
		  * Esto funcionar√° bien siempre y cuando la m√°quina est√© encendida, si no es as√≠, revisar [anacron](https://linux.die.net/man/8/anacron).
		
		<h1>6\. Asegurando tu servidor</h1>
		  * Comodidad vs Seguridad.
		  * Aseguramiento es un proceso constante.
		
		
		
		## Gesti√≥n de vulnerabilidades
		
		  * Al construir aplicaciones debemos enfrentarnos a la comodidad de los usuarios al crear sus contrase√±as y la seguridad que necesitamos para que los atacantes inform√°ticos no consigan acceso a nuestra informaci√≥n.
		
		  * Existen algunos comandos que no debemos utilizar, ya que son vulnerables por defecto, as√≠ como `telnet` o comandos `r*`[comandos r](https://www.wiley.com/legacy/compbooks/negus/rhbf2/r-commands.html). En vez de estos comandos podemos usar protocolos seguros como: `ssh`.
		
		  * Debemos tener presente cu√°les son los servicios y puertos abiertos de nuestro sistema operativo. Tambi√©n debemos ser muy cuidadosos con los permisos de los usuarios.
		
		  * Para verificar las actualizaciones de seguridad e instalarlas en nuestra m√°quina podemos usar los siguientes comandos:
		```     # CentOS
		    yum check-update --security
		    yum update security
		    
		    # Ubuntu
		    apt-get update
		    apt-get upgrade
		    
		    
		```
		
		  * Reporte de vulnerabilidades de seguridad [CVE Details](%5Bhttps://www.cvedetails.com/%5D\(https://www.cvedetails.com/\))
		
		
		
		
		> Recuerda que la seguridad inform√°tica no es un producto, sino un proceso constante.
		
		## ¬øQu√© es una superficie de ataque?
		
		  * La **Superficie de Ataque** es el conjunto de vulnerabilidades o datos conocidos que pueden ser explotados por un atacante inform√°tico. Cada servicio de nuestras aplicaciones es un nuevo punto de entrada a nuestra red. No solo debemos proteger nuestros servidores, tambi√©n debemos proteger todos los servicios que corren en √©l.
		
		  * Software para proteger los servidores:
		
		    * **Lynis** es una herramienta que analiza nuestros servidores y para darnos algunas recomendaciones.
		    * Tambi√©n existen frameworks o manuales como **OWASP** que nos explican las caracter√≠sticas de aplicaciones (web, IoT, Mobile) vulnerables y c√≥mo programarlas de forma segura.
		
		
		
		## El firewall y sus reglas
		
		  * Los **Firewalls** son herramientas que monitorean el tr√°fico de nuestras redes para identificar amenazas e impedir que afecten nuestro sistema.
		
		
		
		> Recuerda que la seguridad inform√°tica es un proceso constante, as√≠ que ninguna herramienta (incluyendo el firewall) puede garantizarnos seguridad absoluta.
		
		  * En Ubuntu Server podemos usar **ufw** ( _Uncomplicated Firewall_ ) para crear algunas reglas, verificar los puertos que tenemos abiertos y realizar una protecci√≥n b√°sica de nuestro sistema:
		
		    * `sudo ufw (enable, reset, status)`: activar, desactivar o ver el estado y reglas de nuestro firewall.
		    * `sudo ufw allow numero-puerto`: permitir el acceso por medio de un puerto espec√≠fico. Recuerda que el puerto 22 es por donde trabajamos con SSH.
		    * `sudo ufw status numbered`: ver el n√∫mero de nuestras reglas.
		    * `sudo ufw delete numero-regla`: borrar alguna de nuestras reglas.
		    * `sudo ufw allow from numero-ip proto tcp to any port numero-puerto`: restringir el acceso de un servicio por alguno de sus puertos a solo un n√∫mero limitado de IPs espec√≠ficas.
		  * Pr√°ctica:
		
		    * `sudo ufw status` validar estado del servicio.
		    * `sudo ufw allow 22 comment 'ssh'` actualizar regla del puerto 22.
		    * `sudo ufw enable` activar ufw.
		    * `sudo ufw status` ver las reglas activas del firewall.
		    * `sudo ufw status numbered` ver las reglas activas numeradas del firewall.
		    * `sudo ufw delete 2` borrar por numeraci√≥n.
		    * `sudo ufw allow from 192.168.0.15 proto tcp to any port 22 comment 'permitir ssh ip'` restringir acceso por IP y tcp.
		    * `sudo ufw reset` resetear reglas.
		
		
		
		## Escaneo de puertos con NMAP y NIKTO desde Kali Linux
		
		  * Desde Kali Linux: 
		    * `nmap -sV -sC -O -oA platzi 192.168.0.19` mapeo de red que muestre toda la informaci√≥n de los puertos, sistema operativo.
		    * `nikto -h 192.168.10.186 -o nikto.txt` escanear si existe informaci√≥n adicional de servicios y si necesitan actualizaci√≥n.
		
		
		
		## Lynis: Herramientas de auditoria de seguridad en Linux
		
		  * Instalaci√≥n de Lynis:
		```     sudo apt search lynix
		    sudo apt install lynis
		    
		```
		
		  * Con el comando `sudo lynis audit system` podremos ver todas las recomendaciones y sugerencias que nos brinda **lynis** para mejorar la seguridad de nuestro sistema.
		
		  * Obtener el reporte de Lynis en [HTML](%5Bhttps://cisofy.com/faq/can-lynis-create-a-html-report/%5D\(https://cisofy.com/faq/can-lynis-create-a-html-report/\))
		
		
		
		
		> Otros software de auditoria son: Nix-Auditor, Tripwire, Tiger y Open-AudIT.
		
		<h1>7\. Proyecto</h1>
		
		## Configuraci√≥n de Node.js en ambiente de producci√≥n
		
		  * Descarga del repositorio con el proyecto de Node.js: `git clone https://github.com/edisoncast/linux-platzi`
		
		  * Ingresar a la carpeta `cd linux-platzi/`
		
		  * Inicio del servicio de node: `cat server.js`
		
		  * Instalaci√≥n de Node.js y npm: `sudo apt install nodejs npm`
		
		  * `node -v`
		
		  * Descarga e instalaci√≥n de la versi√≥n 10 de Node.js en el home:
		
		    * `curl -sL https://deb.nodesource.com/setup_10.x -o node_setup.sh`
		    * `sudo bash node_setup.sh`
		    * `sudo apt-get install gcc g++ make`
		    * `sudo apt-get install -y nodejs`
		    * `node -v`
		  * Creaci√≥n de un usuario para manejar los procesos de Node.js: `sudo adduser nodejs`
		
		  * Validar usuario: `cat /etc/passwd`
		
		  * Probar ejecuci√≥n de server node: `node server.js`
		
		  * Creaci√≥n del script dentro de _linux_platzi/_ : `sudo vim /lib/systemd/system/platzi@.service` @por las m√∫ltiples instancias, para que el servicio de Node.js arranque con el sistema operativo:
		
		
		
		``` 
		    [Unit]
		    Description=Balanceo de carga para Platzi
		    Documentation=https://github.com/edisoncast/linux-platzi
		    After=network.target
		    
		    [Service]
		    Environment=PORT=%i
		    Type=simple
		    User=nodejs
		    WorkingDirectory=/home/nodejs/linux-platzi
		    ExecStart=/usr/bin/node /home/nodejs/linux-platzi/server.js
		    Restart-on=failure
		    
		    [Install]
		    WantedBy=multi-user.target
		    
		```
		
		## Configuraci√≥n de NGINX para la aplicaci√≥n de Node.js
		
		  * Crear usuarios en usuario nodejs:
		
		    * `sudo su - nodejs` cambiar de usuario.
		    * `git clone https://github.com/edisoncast/linux-platzi` descargar archivo.
		    * `cd linux-platzi/` y copiamos la ruta _pwd_ y validar el archivo del servicio nuevo.
		  * Revisar las carpetas: `linux-platzi/configuracion_servidor/bash` con los archivos enable, start y stop del servicios.
		
		    * `./enable`
		    * `./start`
		    * `sudo systemctl status platzi@3000.service`
		    * `curl localhost:3000` validar si se ejecuta el servidor.
		  * En caso de problemas volver al usuario nodejs y cambiar nombre de carpeta a _server_ y luego con el usuario platzi cambiar la configuraci√≥n en el nombre de la nueva carpeta.
		
		  * Configurar archivo de Nginx:
		
		    * `sudo systemctl status nginx` si no est√° ejecutandose quiza se est√° ejecutando el puerto 80
		    * `sudo netstat -tulpn` validar que no se ejecuta nada en el puerto 80
		    * `sudo systemctl stop apache2` detener servicio de puerto 80
		    * `sudo systemctl status nginx` validar estado de nginx.
		    * Ver archivo `sudo vi /etc/nginx/sites-available/default`
		    * Ir a la ruta: `cd /etc/nginx/sites-available/`
		    * Quitar archivos: `sudo truncate -s0 default`
		    * Validar peso de archivos: `ls -l`
		    * Edici√≥n de archivo: `sudo vi default`
		```     server {
		    	listen 80 default_server;
		    	listen [::]:80 default_server;
		    	
		    	server_name _;
		    	
		    	location / {
		    		proxy_set_header X-Forwarded-For $proxy_add_x_for_forwarded_for;
		    		proxy_set_header HOST $host;
		    		proxy_http_version 1.1;
		    		proxy_pass http://backend;
		    	}
		    }
		    
		    upstream backend {
		    	server 127.0.0.1:3000;
		    	server 127.0.0.1:3001;
		    	server 127.0.0.1:3002;
		    	server 127.0.0.1:3003;
		    }
		    
		```
		
		    * `sudo nginx -t` validar config.
		    * `sudo systemctl stop & start nginx` reiniciar servicio.
		    * `curl localhost` validar servidor web.
		
		

* **Jose Luis Campos Bautista** (2)

	
	Hola.
	
	Comparto algunas notas del curso. [Notas](https://github.com/bautistaj/notes/blob/master/SERVER/LINUX_SERVER/note.md), igual y les sirve.

	* **Salvador Jose Campanella Salas** (1)

		
		BRUTAL

* **Victor Martin Ortiz Palacio** (2)

	
	Muy buena actualizaci√≥n del curso, y coincido con los compa√±eros, al ser tan grande el mundo Linux  
	es imposible abarcar todo en un solo curso, creo que deber√≠a haber m√°s cursos sobre Linux.  
	Gracias Edison.

* **Juliocastaneda** (2)

	
	Interesante el curso, agradezco al profesor su esfuerzo, pero tengo las siguientes observaciones:
	
	‚Äì Estoy de acuerdo con el comentario anterior de Ronald, el curso de 2017 estuvo m√°s completo y enfocado.  
	‚Äì Para √©l o los pr√≥ximo(s) cursos, deber√≠an explicar inicialmente los detalles tema y lo que soluciona en el entorno corporativo. Realizar las configuraciones y exponerlo con una topolog√≠a a la que se haga menci√≥n en la configuraci√≥n. Luego llegar al momento cumbre donde vemos para que sirve de verdad lo que nos explican ‚Ä¶ Cuando decimos ah ya!!  
	‚Äì Tambi√©n deber√≠a ser altamente recomendable para todos lo que hagan este tipo de curso, realizar los anteriores de comandos y bash.  
	‚Äì La administraci√≥n de servidores en Linux es un mundo complejo, por lo que recomendar√≠a dividirlo en diferentes ramas, es decir: Los temas de implementar soluciones web, sftp, ssh, dns, nube privada, etc deber√≠a ser un solo curso. El tema de red de Linux y toda la seguridad deber√≠a ser otro y los otros temas propios de la administraci√≥n deber√≠a ser otro curso. (Algo as√≠ como Curso 1. Soluciones de infraestructura con Linux. Curso 2. Seguridad en Linux y Curso 3 Administraci√≥n de Linux)

* **Luis Rodrigo Alvarez Herrera** (2)

	
	falta particiones, niveles de inicio, configuracion de los DNS en bind, LVM

* **Gerardo Alberto Soto Alvarez del Castillo** (2)

	
	Excelente curso (Aunque falto la administraci√≥n de particiones de un servidor).  
	Excelente profesor Edison Castro (Se le entendi√≥ muy bien los temas).  
	Quede muy contento con este curso.  
	Gracias.

* **cristian roberto** (1)

	
	muchas gracias muy buen curso excelente tutor

* **Emerson Lino Yurivilca Ricaldi** (1)

	
	Excelente curso he aprendido bastante!! Y espero un curso m√°s a fondo sobre Linux

* **Jonnathan Ramiro Juma Jara** (1)

	
	un excelente curso

* **dbzdavidbaez** (1)

	
	Un curso muy interesante. Se podr√≠a crear un curso intermedio y avanzado.
	
	Muchas garc√≠as.

* **Ronald Sierra** (1)

	
	Para que complementen los que creen falta un poco <https://platzi.com/clases/linux-2017/>, me parecio excelente la forma de explicar y los temas son muy del d√≠a a dia de un administrador, para el que siente que algunas partes no las recordara no es el √∫nico.

	* **Mario Emiliano Gordon Pico** (1)

		
		SI pienso que faltan algunos temas, no fue tan completo el curso, y el proyecto no fue algo espectacular, se quedo corto.

