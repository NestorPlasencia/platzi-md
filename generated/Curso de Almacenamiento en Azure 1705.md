[Curso de Almacenamiento en Azure 1705](https://platzi.com/cursos/almacenamiento-azure)

# Introducci√≥n al curso [4618]

## 0010. PaaS y su oferta [23079](https://platzi.com/clases/1705-almacenamiento-azure/23079-paas-y-su-oferta/)

### Descripci√≥n:


 **PaaS** es Plataforma como servicio. Es quiz√°s la m√°s nutrida de todas las ofertas de c√≥mputo en la nube, no solo Azure. Son los servicios con los que posiblemente est√°s m√°s familiarizados, Azure cuenta con servicios como Web Apps para desplegar tus aplicaciones y hacerlas disponibles al p√∫blico, servicios de almacenamiento y de base de datos.

### Links:

* [Curso de Azure Iaas](https://platzi.com/clases/azure-iaas/)

### Comentarios:

* **Christian David S√°nchez** (2) [779186](https://platzi.com/comentario/779186/) 

	Iniciemos un curso m√°s con Azure! üòéüòéüòé

* **dipibos** (1) [1060898](https://platzi.com/comentario/1060898/) 

	Que interesante. Espero poder comprender todas las funcionalidades incluidas en Azure!!

## 0020. Herramientas y recursos de este curso [23080](https://platzi.com/clases/1705-almacenamiento-azure/23080-herramientas-y-recursos-de-este-curso/)

### Descripci√≥n:


A lo largo de este curso necesitaremos con algunos rercusos y herramientas:

* Un IDE (Visual Studio) o Editor de c√≥digo (VSCode)
* Un administrador para SQL



**¬øQu√© es un grupo de recursos?**

Un grupo de recursos te permiten englobar en un gran repositorio todos los componentes de una soluci√≥n, prueba o por clientes.  
Screen reader support enabled.

### Links:

* [Visual Studio 2019 | Visual Studio](https://visualstudio.microsoft.com/vs/)

* [Visual Studio Code - Code Editing. Redefined](https://code.visualstudio.com/)

### Comentarios:

* **carlosbazanhuaman** (1) [897856](https://platzi.com/comentario/897856/) 

	visual code es la voz.

* **Christian David S√°nchez** (1) [779206](https://platzi.com/comentario/779206/) 

	VSCode tiene superpoderes üòéüò≤üí™

* **Yunier Hernandez** (1) [754819](https://platzi.com/comentario/754819/) 

	Se ve genial, llevaba tiempo esperando este curso. Me gusto mucho este primer v√≠deo.

# Almacenamiento [4619]

## 0030. Instalaci√≥n de tu entorno de trabajo [23081](https://platzi.com/clases/1705-almacenamiento-azure/23081-instalacion-de-tu-entorno-de-trabajo/)

### Descripci√≥n:


Ahora que estamos comenzando con el curso de Azure vas a tener que instalar Visual Studio Code. Me encantar√≠a aclararte que esta aplicaci√≥n no se compara con Visual Studio. El hermano mayor que no solo edita el c√≥digo, sino que tambi√©n lo edita y tiene much√≠simas caracter√≠sticas m√°s.

Aclaro que no importa el Sistema Operativo o la herramienta que utilices, si hubo un factor determinante en elegir Visual Studio Code, o como los amigos lo llaman, VS Code, es simplemente porque esta es la √∫nica herramienta que es capaz de ser instalada en cualquier SO y sin mayor problema.

Solo debes ir a: [https://code.visualstudio.com/download ](url)

![Azure 7.png](https://static.platzi.com/media/user_upload/Azure%207-8363268b-149f-4130-b892-f48166b9b41b.jpg)

Descarga el paquete que corresponda a tu sistema operativo. Me encantar√≠a hacer especial √©nfasis en que si tienes una distribuci√≥n Linux que trabaje con la tienda de aplicaciones Snap puedes descargar y actualizar desde ah√≠ tu aplicaci√≥n.

Estoy seguro que con unos solos clics tendr√°s a Visual Studio Code listo para trabajar. ¬°A divertirnos!

### Comentarios:

* **carlosbazanhuaman** (1) [897866](https://platzi.com/comentario/897866/) 

	hay que probar en ubuntu a ver que tal se comporta.

* **Christian David S√°nchez** (1) [779212](https://platzi.com/comentario/779212/) 

	VSCode üí™

## 0040. Servicios y tipos de almacenamiento [23082](https://platzi.com/clases/1705-almacenamiento-azure/23082-servicios-y-tipos-de-almacenamiento/)

### Descripci√≥n:


El almacenamiento tiene que ver con cuatro matices y cada uno de ellos tienen un objetivo diferente.

**Blob** : Imagina que es un disco duro virtual enorme que te permitir√° almacenar teras de informaci√≥n. Puedes dividirlo en **‚Äúfr√≠o‚Äù** con informaci√≥n que no utilizas pero quieres guardar y en ‚Äúactivo‚Äù donde buscas informaci√≥n como video o im√°genes de manera constante.

**FIle** : Crea unidades de disco duro virtual para montarlas en otras maquinas sin importar el tipo de sistema operativo

**Queue** : Van a pasar por partes las solicitudes para que sean atendidas una por una. Esto es muy √∫til para evitar cuellos de botellas en tr√°fico de alta demanda.

**Table** : Es capaz de almacenar registro creando una especie de base de datos.

### Comentarios:

* **Christian David S√°nchez** (2) [779227](https://platzi.com/comentario/779227/) 

	4 maneras de trabajar en Almacenamiento de Azure
	
	* File
	* Blob
	* Queue
	* Table
	
	

* **moises-bravo** (1) [927284](https://platzi.com/comentario/927284/) 

	Blob fr√≠o servir√≠a en modo de un almacenamiento de respaldo de los archivos de la plataforma, y el blob activo para los archivos en caliente .

* **carlosbazanhuaman** (1) [897877](https://platzi.com/comentario/897877/) 

	dijo Aurora? de aws?

	* **eyesidmorenov** [897877] (1)

		dijo Ahora‚Ä¶

* **carlosbazanhuaman** (1) [897867](https://platzi.com/comentario/897867/) 

	El disco duro gigante = Blob.  
	Justo lo que necesitaba.

* **Robinson Maqui** (1) [858909](https://platzi.com/comentario/858909/) 

	Empezando con Azure, se agradece.

## 0050. Creaci√≥n de recursos desde el portal [23083](https://platzi.com/clases/1705-almacenamiento-azure/23083-creacion-de-recursos-desde-el-portal/)

### Descripci√≥n:


### Comentarios:

* **alexgv04** (1) [872909](https://platzi.com/comentario/872909/) 

	para saber cual regi√≥n es la indicada por cercan√≠a y latencia pueden usar esta pagina: <http://www.azurespeed.com/> para colombia es el este de US

* **alexgv04** (1) [872884](https://platzi.com/comentario/872884/) 

	en el storage podr√≠amos tener un sitio web est√°tico, tambi√©n se podr√≠a almacenar todos los asset de una pagina web, hdinsigth lo utiliza como almacenamiento en el cluster es el HDFS y el s√≠mil con aws es S3.

* **Christian David S√°nchez** (1) [779269](https://platzi.com/comentario/779269/) 

	 **Crear un recurso de Almacenamiento:**
	
	* Click en Storage Accounts
	* Click en ADD
	* Click en CrearNuevoRecurso
	* Nombrar el recurso creado
	* Nombrar la cuenta de almacenamiento.
	* Click en Create
	
	
	
	Tips Geo-redundant es como una copia de seguridad o replicaci√≥n de tus datos.

* **VictorDolce** (1) [78093](https://platzi.com/comentario/915262/) 
se debe de crear una cuenta den azure ??

	* **Juan David Castro (Platzi)** [78093] (2)

		Por supuesto.

* **carlosbazanhuaman** (1) [77194](https://platzi.com/comentario/899988/) 
Se puede alojar sitios est√°ticos en el storage?

	* **Juan David Castro (Platzi)** [77194] (1)

		¬°Claro! Puedes seguir estos tutoriales:
		
		üëâ <https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-static-website>  
		üëâ <https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blob-static-website-how-to>

## 0060. Azure Storage Explorer [23084](https://platzi.com/clases/1705-almacenamiento-azure/23084-azure-storage-explorer/)

### Descripci√≥n:


### Links:

* [Explorador de Azure Storage: administraci√≥n de almacenamiento en nube | Microsoft Azure](https://azure.microsoft.com/es-mx/features/storage-explorer)

### Comentarios:

* **Christian David S√°nchez** (1) [779318](https://platzi.com/comentario/779318/) 

	Azure Storage Explorer
	
	* Descargar e instalar Storage Explorer desde <https://bit.ly/2BawyQM>
	* Copiar la connectionString de access Keys.
	* Conectarnos a Azure desde StorageExplorer.
	* Elegir la opcion ‚Äúmediante connectionstring‚Äù
	* Configurar la conexi√≥n en el Storage Explorer
	
	

## 0070. Tips de seguridad para almacenamiento en .NET Core [23085](https://platzi.com/clases/1705-almacenamiento-azure/23085-tips-de-seguridad-para-almacenamiento-en-net-core/)

### Descripci√≥n:


### Links:

* [Curso de C# con .Net Core | Platzi](https://platzi.com/cursos/c-sharp/)

* [
        NuGet Gallery
        | Microsoft.Extensions.Configuration 3.0.0
    ](https://www.nuget.org/packages/Microsoft.Extensions.Configuration)

* [
        NuGet Gallery
        | Microsoft.Extensions.Configuration.FileExtensions 3.0.0-preview9.19423.4
    ](https://www.nuget.org/packages/Microsoft.Extensions.Configuration.FileExtensions/3.0.0-preview9.19423.4)

### Comentarios:

* **Erick Lenin C√≥rdova D√°vila** (1) [985824](https://platzi.com/comentario/985824/) 

	avoid some sintaxError using @id:ms-vscode.csharp or [https://github.com/OmniSharp/omnisharp-vscode](vscode.csharp)

* **Christian David S√°nchez** (1) [779350](https://platzi.com/comentario/779350/) 

	Para crear un proyecto de consola:  
	**dotnet new console -n nombreProyecto**
	
	Paquetes instalados:
	
	* Microsoft.Extensions.Configuration:  
	**dotnet add package Microsoft.Extensions.Configuration --version 2.2.0**
	* Microsoft.Extensions.Configuration.FileExtensions:  
	**dotnet add package Microsoft.Extensions.Configuration.FileExtensions --version 2.2.0**
	
	

## 0080. Configurando appsettings.json en tu proyecto [23086](https://platzi.com/clases/1705-almacenamiento-azure/23086-configurando-appsettingsjson-en-tu-proyecto/)

### Descripci√≥n:


### Links:

* [
        NuGet Gallery
        | Microsoft.Extensions.Configuration.Json 3.0.0
    ](https://www.nuget.org/packages/Microsoft.Extensions.Configuration.json)

### Comentarios:

* **Christian David S√°nchez** (2) [779373](https://platzi.com/comentario/779373/) 

	Compilar el proyecto:  
	**dotnet build**
	
	Paquete agreagado:
	
	* Microsoft.Extensions.Configuration.Json:  
	**dotnet add package Microsoft.Extensions.Configuration.Json --version 2.2.0**
	
	* En programm.cs agregar los espacios de nombre de los paquetes que instalamos en la aplicaci√≥n.  
	**using Microsoft.Extensions.Configuration;  
	using Microsoft.Extensions.Configuration.Json;  
	using Microsoft.Extensions.Configuration.FileExtensions;**
	
	
	

* **joserodrigomorenocordero** (1) [787890](https://platzi.com/comentario/787890/) 

	```
	    var builder = new ConfigurationBuilder()
	                       .SetBasePath(Directory.GetCurrentDirectory())
	                       .AddJsonFile("appsettings.json", optional: false, reloadOnChange: true);
	                  
	        
	                var configuration = builder.Build();
	    
	```

## 0090. Crear contenedores en Blob Storage con .NET Core [23087](https://platzi.com/clases/1705-almacenamiento-azure/23087-crear-contenedores-en-blob-storage-con-net-core/)

### Descripci√≥n:


### Links:

* [
        NuGet Gallery
        | Microsoft.Azure.Storage.Blob 11.0.1
    ](https://www.nuget.org/packages/Microsoft.Azure.Storage.Blob)

### Comentarios:

* **Christian David S√°nchez** (2) [779500](https://platzi.com/comentario/779500/) 

	Paquete agregado:
	
	* Microsoft.Azure.Storage.Blob  
	**dotnet add package Microsoft.Azure.Storage.Blob --version 11.1.0**
	
	

* **carlosbazanhuaman** (1) [900085](https://platzi.com/comentario/900085/) 

	ese paquete de azure.Storega.Blob tambien existe para otros lenguajes como nodeJS?

	* **daniel alonso** [900085] (1)

		Al parecer si, <https://www.npmjs.com/package/azure-storage>

## 0100. Agregar archivos en Blob Storage con .NET Core [23088](https://platzi.com/clases/1705-almacenamiento-azure/23088-agregar-archivos-en-blob-storage-con-net-core/)

### Descripci√≥n:


### Comentarios:

* **Christian David S√°nchez** (1) [779600](https://platzi.com/comentario/779600/) 

	Para subir un archivo:
	``` 
	    CloudBlockBlob miBlob = contenedor.GetBlockBlobReference("foto.jpg"); 
	    //parametro = nombre del archivo
	    using (var fileStream = System.IO.File.OpenRead(@"rayo.jpg"))
	    {
	          miBlob.UploadFromStream(fileStream);
	    }
	    Console.WriteLine("El archivo se subio a Azure");
	    
	```

## 0110. Agregando una unidad de File Storage en Windows [23496](https://platzi.com/clases/1705-almacenamiento-azure/23496-agregando-una-unidad-de-file-storage-en-windows/)

### Descripci√≥n:


El Almacenamiento tipo File es una de las herramientas que m√°s √∫tiles puedes encontrar debido a que te puede ser de utilidad para casos profesionales y tambi√©n para efectos personales. Al final, qui√©n no desea tener unos cuantos terabytes de almacenamiento con un costo muy bajo y con ventajas como compartir esta informaci√≥n entre tus equipos de trabajo f√°cilmente.

Te recuerdo que esta lectura es completamente opcional dependiendo del Sistema Operativo que est√©s usando.

Si usas una distribuci√≥n de Linux basada en Debian como Ubuntu entonces puedes ver el equivalente de este art√≠culo aqu√≠.

Si usas una m√°quina con Mac OS entonces puedes ver el equivalente de este art√≠culo aqu√≠.

#### Agregar una unidad de File Storage en Windows.

Comienza por crear la unidad de almacenamiento desde el Explorador de almacenamiento, recuerda que el nombre debe ir enteramente en min√∫sculas para no tener ning√∫n error.  
![alma 1.png](https://static.platzi.com/media/user_upload/alma%201-f78337db-b989-42a9-bb63-50ab575a3c5e.jpg)

Despu√©s de eso, ve a tu portal y abre el √≠ndice de tu almacenamiento y selecciona la opci√≥n de Archivos.  
![alma 2.png](https://static.platzi.com/media/user_upload/alma%202-c80014a0-7c81-43f9-8493-134a5451837f.jpg)

Selecciona el File Share que acabas de crear desde tu Explorador.  
![alma 3.png](https://static.platzi.com/media/user_upload/alma%203-f05e22e9-304f-49a3-ae82-5d1997e9f38b.jpg)

Selecciona la opci√≥n de **Conectar**.  
![alma 4.png](https://static.platzi.com/media/user_upload/alma%204-3f1ef3a0-06c2-4599-af27-6251f327b8eb.jpg)

Aqu√≠ podr√°s ver que las tres opciones se despliegan. Copia todos los comandos que aparecen en la primera opci√≥n. Abre una sesi√≥n de PowerShell, si, porque ¬°hasta en Windows las mejores herramientas se configuran en l√≠nea de comandos! Y ejecuta el script, que, de hecho, se ejecutar√° solo.  
![alma 5.png](https://static.platzi.com/media/user_upload/alma%205-ad4edf01-ac0c-4c37-95a0-ce7dd9f7fddd.jpg)

Ve a tu explorador de Windows en la opci√≥n de Este equipo y selecciona la opci√≥n de Agregar unidad compartida.  
![alma 6.png](https://static.platzi.com/media/user_upload/alma%206-482a8a3d-351b-4ba7-8200-d0b193d93375.jpg)

Con esto, tendr√°s ya agregada la unidad en tu explorador de Windows.  
![alma 7.png](https://static.platzi.com/media/user_upload/alma%207-fa44e8b4-79a1-480f-b70f-75de24fa175f.jpg)

¬øQuieres divertirte? Entra a tu unidad, copia algunos archivos, vuelve a tu explorador y observa como esos archivos est√°n ya visibles ah√≠. ¬°Muy bien! Ahora tienes un disco duro que puedes compartir con quien t√∫ quieras para tener archivos generales.

### Comentarios:

* **carlosbazanhuaman** (1) [900142](https://platzi.com/comentario/900142/) 

	muy interesante, es practico para poder trabajar con archivos compartidos por diferentes oficinas.

* **Christian David S√°nchez** (1) [779608](https://platzi.com/comentario/779608/) 

	Geniaaaaaaal!!!üòéüò≤üí™

## 0120. Agregando una unidad de File Storage en Linux [23497](https://platzi.com/clases/1705-almacenamiento-azure/23497-agregando-una-unidad-de-file-storage-en-linux/)

### Descripci√≥n:


El Almacenamiento tipo File es una de las herramientas que m√°s √∫tiles puedes encontrar debido a que te puede ser de utilidad para casos profesionales y tambi√©n para efectos personales. Al final, qui√©n no desea tener unos cuantos terabytes de almacenamiento con un costo muy bajo y con ventajas como compartir esta informaci√≥n entre tus equipos de trabajo f√°cilmente.

Te recuerdo que esta lectura es completamente opcional dependiendo del Sistema Operativo que est√©s usando.

Si usas una m√°quina con Windows entonces puedes ver el equivalente de este art√≠culo aqu√≠.

Si usas una m√°quina con Mac OS entonces puedes ver el equivalente de este art√≠culo aqu√≠.

#### Agregar una unidad de File Storage en Linux.

Comienza por crear la unidad de almacenamiento desde el Explorador de almacenamiento, recuerda que el nombre debe ir enteramente en min√∫sculas para no tener ning√∫n error.  
![hola1.png](https://static.platzi.com/media/user_upload/hola1-ec80c0e2-3a19-4ae6-8a0b-234a7b8153b7.jpg)

Despu√©s de eso, ve a tu portal y abre el √≠ndice de tu almacenamiento y selecciona la opci√≥n de Archivos.  
![hola2.png](https://static.platzi.com/media/user_upload/hola2-73cf1301-c851-4517-bc5f-5d554d0748ae.jpg)

Selecciona el File Share que acabas de crear desde tu Explorador.  
![hola3.png](https://static.platzi.com/media/user_upload/hola3-1bfb612e-e320-4e75-bb34-91d81b157d71.jpg)

Selecciona la opci√≥n de **Conectar**.  
![hola4.png](https://static.platzi.com/media/user_upload/hola4-68085953-3324-4366-ae69-16fb6787e381.jpg)

Aqu√≠ podr√°s ver que las tres opciones se despliegan. Haz una pausa en el portal y verifica que tu equipo tenga ya instalados un par de paquetes (dependiendo de la distribuci√≥n podr√° ser que ya est√©n instalados). Comienza primero por **cifs-utils**.  
![hola5.png](https://static.platzi.com/media/user_upload/hola5-d60765d4-f0e8-4361-b0d6-5e3899aeec30.jpg)

Despu√©s ve por **nfs-common**.  
![hola6.png](https://static.platzi.com/media/user_upload/hola6-ee49da8f-46ee-4225-b3a5-c162b67fc267.jpg)

Y una vez que ambos paquetes est√©n instalados entonces pega lo que el portal de Azure te pide pegar.  
![hola7.png](https://static.platzi.com/media/user_upload/hola7-39ec7154-c646-4d99-9042-59f1b5bd9dbc.jpg)

Todos los comandos que se encuentran en fila dentro de lo que copiaste se ejecutar√°n uno a uno, el √∫ltimo ser√° el √∫nico que se esperar√° a que presiones **ENTER** para comenzar su ejecuci√≥n. No hay ning√∫n mensaje de confirmaci√≥n, aunque tampoco hay uno que muestre alg√∫n error. Si todo sale bien, abre entonces una ventana para explorar tus archivos y ve al disco duro.

En la unidad de tu m√°quina, selecciona la carpeta **mnt**.

¬°Listo! Tendr√°s ah√≠ tu unidad montada.

Algo que notar√°s es que la carpeta viene desde ra√≠z as√≠ que necesitar√°s un par de clics para llegar a la carpeta de almacenamiento en donde podr√°s insertar todos tus archivos sin problemas.

¬°Disfruta comenzando a respaldar todas esas fotos de tus dispositivos!

### Comentarios:

* **carlosbazanhuaman** (1) [900144](https://platzi.com/comentario/900144/) 

	muy practico para compartir informacion con varias areas

* **Christian David S√°nchez** (1) [779621](https://platzi.com/comentario/779621/) 

	Continuemos üòé

## 0130. Agregando una unidad de File Storage en MacOS [23526](https://platzi.com/clases/1705-almacenamiento-azure/23526-agregando-una-unidad-de-file-storage-en-macos/)

### Descripci√≥n:


El Almacenamiento tipo File es una de las herramientas que m√°s √∫tiles puedes encontrar debido a que te puede ser de utilidad para casos profesionales y tambi√©n para efectos personales. Al final, qui√©n no desea tener unos cuantos terabytes de almacenamiento con un costo muy bajo y con ventajas como compartir esta informaci√≥n entre tus equipos de trabajo f√°cilmente.

Te recuerdo que esta lectura es completamente opcional dependiendo del Sistema Operativo que est√©s usando.

Si usas una distribuci√≥n de Linux basada en Debian como Ubuntu entonces puedes ver el equivalente de este art√≠culo aqu√≠.

Si usas una m√°quina con Windows entonces puedes ver el equivalente de este art√≠culo aqu√≠.

#### Agregar una unidad de File Storage en MacOS

Comienza por crear la unidad de almacenamiento desde el Explorador de almacenamiento, recuerda que el nombre debe ir enteramente en min√∫sculas para no tener ning√∫n error.  
![az1.png](https://static.platzi.com/media/user_upload/az1-c25304d0-3074-449c-84f3-4005a2415aba.jpg)

Despu√©s de eso, ve a tu portal y abre el √≠ndice de tu almacenamiento y selecciona la opci√≥n de Archivos.  
![az2.png](https://static.platzi.com/media/user_upload/az2-7b6c6ae3-ee4b-48f8-a926-82a19f8b32f7.jpg)  
Selecciona el File Share que acabas de crear desde tu Explorador.  
![az3.png](https://static.platzi.com/media/user_upload/az3-ed6bfd22-6ac2-4f23-bfcf-8d746475ffaf.jpg)  
Selecciona la opci√≥n de Conectar.  
![az4.png](https://static.platzi.com/media/user_upload/az4-6ef86cd1-fe49-4480-8da0-404e23c4701b.jpg)  
Aqu√≠ podr√°s ver que las tres opciones se despliegan. Selecciona MacOS. En tu Finder selecciona dentro del men√∫ Go. La opci√≥n de Connect to Server.  
![az5.png](https://static.platzi.com/media/user_upload/az5-b1496c56-48c4-4b05-9e96-d685bd93a316.jpg)  
En la ventana que aparece, agrega la direcci√≥n de este tipo (la puedes copiar desde tu portal de Azure).

smb://botsgeneralstorage.file.core.windows.net/botsgeneralstorage

Cuando eso suceda, te aparecer√° una pantalla como la siguiente.  
![az6.png](https://static.platzi.com/media/user_upload/az6-3e617e8e-dce4-4aa6-9c79-0881eb9a83c6.jpg)  
Acepta con el bot√≥n de **Conectar**. La siguiente pesta√±a te pedir√° un usuario y contrase√±a.  
![az7.png](https://static.platzi.com/media/user_upload/az7-17ede8fb-78a7-4427-9b8d-6f7b0d0e00c5.jpg)  
Estos datos los puedes obtener en tu portal de Azure. En la secci√≥n de **Claves de acceso**.  
![az8.png](https://static.platzi.com/media/user_upload/az8-6cbdec5c-0325-4cc3-bfe0-aaaa41aabae7.jpg)  
El usuario es el nombre de la cuenta, la contrase√±a es la clave de key1. Cuando todo est√© listo puedes ver la nueva ventana con tu unidad lista.  
![az9.png](https://static.platzi.com/media/user_upload/az9-f4056ee8-5d95-4edf-a43f-9db803699681.jpg)  
Despl√°zate un poco hacia abajo y ver√°s que la unidad ya est√° montada y lista para compartir archivos.  
![az10.png](https://static.platzi.com/media/user_upload/az10-74db47f2-0cac-47b0-a4bd-20ed78ea9f23.jpg)  
¬øQuieres divertirte? Entra a tu unidad, copia algunos archivos, vuelve a tu explorador y observa como esos archivos est√°n ya visibles ah√≠. ¬°Muy bien! Ahora tienes un disco duro que puedes compartir con quien t√∫ quieras para tener archivos generales.

### Comentarios:

* **carlosbazanhuaman** (1) [900146](https://platzi.com/comentario/900146/) 

	esto es como tener un usb gigante.

# Table Storage [4620]

## 0140. Configuraci√≥n para trabajar con Table Storage [23089](https://platzi.com/clases/1705-almacenamiento-azure/23089-configuracion-para-trabajar-con-table-storage/)

### Descripci√≥n:


### Comentarios:

* **carlosbazanhuaman** (1) [927111](https://platzi.com/comentario/927111/) 

	jajaja estamos en almacenamiento pero vemos db, microsoft debe poner orden en sus productos.

* **Christian David S√°nchez** (1) [779650](https://platzi.com/comentario/779650/) 

	Crear un recurso de Cosmos DB
	
	* Click en Add
	* Buscar Azure Cosmos DB
	* Elegir el grupo de recurso,
	* Nombrar la cuenta de CosmosDB
	* Elegir la location
	* Las opciones Geo-redundancy y multi-region es recomendada dejarlas disable
	
	

## 0150. Aplicaci√≥n para Table Storage [23090](https://platzi.com/clases/1705-almacenamiento-azure/23090-aplicacion-para-table-storage/)

### Descripci√≥n:


### Links:

* [
        NuGet Gallery
        | Microsoft.Azure.Cosmos.Table 1.0.5
    ](https://www.nuget.org/packages/Microsoft.Azure.Cosmos.Table)

### Comentarios:

* **Christian David S√°nchez** (1) [779843](https://platzi.com/comentario/779843/) 

	Paquete instalado:
	
	* Microsoft.Azure.Cosmos.Table:  
	**< PackageReference Include=‚ÄúMicrosoft.Azure.Cosmos.Table‚Äù Version=‚Äú1.0.5‚Äù />**
	
	

## 0160. Operaci√≥n INSERT en Table Storage [23091](https://platzi.com/clases/1705-almacenamiento-azure/23091-operacion-insert-en-table-storage/)

### Descripci√≥n:


### Comentarios:

* **rmgelvez** (1) [935130](https://platzi.com/comentario/935130/) 

	No entendi esa relacion rara entre Storage y Cosmos, buscar√© mas informacion de eso pero excelente ejercicio!

* **carlosbazanhuaman** (1) [900253](https://platzi.com/comentario/900253/) 

	tableStorage es una buena opcion para nuevo proyectos donde necesitemos almacenar informacion no tan relacional.

* **Christian David S√°nchez** (1) [780097](https://platzi.com/comentario/780097/) 

	```
	    TableOperation insertOperation = TableOperation.InsertOrMerge(contacto);
	    TableResultresult = await table.ExecuteAsync(insertOperation);
	    Contacto insertedContact = result.ResultasContacto;
	    Console.WriteLine("contacto agregado");
	    
	```

## 0170. Operaciones CRUD en Table Storage [23092](https://platzi.com/clases/1705-almacenamiento-azure/23092-operaciones-crud-en-table-storage/)

### Descripci√≥n:


¬øInsertaste ya tu entidad como en el video? ¬øEres feliz de que pudiste lograr la inserci√≥n de la entidad? Bueno, pues ya llevas la mitad, vamos ahora por las siguientes operaciones. Solo verifica que tu entidad est√° por ahora ya visible en el portal de Azure. Para hacerlo, debes ir al portal y seleccionar tu base de datos de CosmosDB y elegir la opci√≥n de exploraci√≥n de datos.

![table1.png](https://static.platzi.com/media/user_upload/table1-5ef2c586-de9e-412f-be27-bf437a84a27a.jpg)

Con tu entidad lista ahora podemos comenzar a ver las siguientes dos operaciones restantes. Aprovecha la entidad que ya creaste para seguir con la siguiente operaci√≥n. La de inserci√≥n fue la que ya hicimos. Podemos ver en el portal a tu nueva entidad y guardaremos para el final la operaci√≥n de lectura.

Comencemos con la operaci√≥n para actualizar el registro reci√©n creado. Para hacer eso lo √∫nico que debes hacer es modificar los datos de tu contacto reci√©n creado.
``` 
            {
                Contacto contacto = new Contacto("Espinoza", "Miranda")
                {
                    Email = "miranda@outlook.com",
                    Telefono = "8118748461"
                };
     
                TableOperation insertOrMergeOperation = TableOperation.InsertOrMerge(contacto);
                TableResult result = await table.ExecuteAsync(insertOrMergeOperation);
                Contacto insertedCustomer = result.Result as Contacto;
                Console.WriteLine("Entidad modificada");
            }
    
    
```

Nota que solo modifiqu√© un par de d√≠gitos del contacto para ver que si haya un cambio. ¬°Ah! Si, tambi√©n modifiqu√© el mensaje de la consola para avisar que el registro fue modificado. Ejecuta tu aplicaci√≥n y ve a tu portal de Azure, podr√°s ver el cambio reflejado ah√≠.

![Table2.png](https://static.platzi.com/media/user_upload/Table2-00098ffb-e83b-40a9-afc7-d77e088b6139.jpg)

Bastante sencillo ¬øno es as√≠? El mismo m√©todo te permite insertar o actualizar y eso es fenomenal en t√©rminos de reutilizaci√≥n de c√≥digo, sin embargo, debes notar tambi√©n que si no cuidas tu c√≥digo y no generas una nueva entidad lo que suceder√° es que puedes reemplazar accidentalmente un registro en lugar de crear uno nuevo as√≠ que ten mucho cuidado.  
Vamos ahora con la operaci√≥n de lectura, es decir, la operaci√≥n que debe mostrar en mi aplicaci√≥n el registro que tengo en la base de datos. No hay mucha ciencia aqu√≠, solo usas un objeto de tipo TableOperation, y con este objeto podemos buscar a nuestro elemento. Estar√≠a muy bien que jugaras con esta l√≠nea para no solo obtener un registro sino todos en una lista. ¬øQu√© tendr√≠as que hacer aqu√≠? En fin, el resultado de la operaci√≥n se va a un objeto TableResult que es de donde puedes obtener el resultado para mostrar en la terminal.
``` 
            {
                TableOperation retrieveOperation = TableOperation.Retrieve<Contacto>("Espinoza", "Miranda"); 
                TableResult result = await table.ExecuteAsync(retrieveOperation);
                Contacto customer = result.Result as Contacto;
     
                if (customer != null)
                {
                Console.WriteLine("{0}\t{1}\t{2}\t{3}", customer.PartitionKey, customer.RowKey, customer.Email, customer.Telefono);
                }
            }
    
    
```

Al ejecutar tu aplicaci√≥n, el resultado en tu terminal debe ser parecido a esto.  
![table3.png](https://static.platzi.com/media/user_upload/table3-079c0792-6f52-4e77-97d2-9bb1e52f8599.jpg)

Ya tenemos tres de las cuatro operaciones b√°sicas. Vamos con la final y la m√°s triste de todas. La operaci√≥n de eliminar. Aqu√≠ esencialmente se repite lo mismo.
``` 
            {
                Contacto contacto = new Contacto("Espinoza", "Miranda")
                {
                    Email = "miranda@outlook.com",
                    Telefono = "8118748461",
                    ETag = "*"
                };
     
                TableOperation deleteOperation = TableOperation.Delete(contacto);
                TableResult result = await table.ExecuteAsync(deleteOperation);
     
                Console.WriteLine("Resultado de la operaci√≥n: " + result.RequestCharge);
            }
    
```

La gran diferencia es que entre las propiedades de tu nueva entidad debes agregar una propiedad adicional llamada ETag, nunca he sabido la raz√≥n exacta alguien una vez me dijo que se trataba de una medida de seguridad para evitar borrar accidentalmente, alguien tambi√©n me dijo que se trataba de algo legado de las primeras versiones de almacenamiento. De una u otra manera solo agrega esta propiedad y despu√©s de eso regresa a tu portal. Ver√°s que tu carpeta est√° vac√≠a.

![table4.png](https://static.platzi.com/media/user_upload/table4-596d2f81-8d4f-45ad-8fc8-ed399e5e4101.jpg)

De esta manera es que podr√°s ejecutar cualquiera de todas tus operaciones b√°sicas de edici√≥n en Table Storage ¬°Divi√©rtete comenzando a hacer procesos m√°s complejos!

### Comentarios:

* **rmgelvez** (1) [935177](https://platzi.com/comentario/935177/) 

	Lo use sin el ETag y tambien lo elimino

* **carlosbazanhuaman** (1) [900262](https://platzi.com/comentario/900262/) 

	hay que reforzar el tema de los async

	* **juan camilo castillo saucedo** [900262] (2)

		En los cursos de net core se ve el tema mejor explicado

* **Christian David S√°nchez** (1) [780837](https://platzi.com/comentario/780837/) 

	Muy buena la explicaci√≥n, y entendible todo üòé

## 0180. Operaciones de entrada en Queues [23093](https://platzi.com/clases/1705-almacenamiento-azure/23093-operaciones-de-entrada-en-queues/)

### Descripci√≥n:


### Comentarios:

* **moises-bravo** (1) [1030107](https://platzi.com/comentario/1030107/) 

	Creo ha faltado que se explique mejor en que casos de deben usar cada uno de los servicios que hemos estado estudiando

* **carlosbazanhuaman** (1) [927154](https://platzi.com/comentario/927154/) 

	cuales podrian ser las aplicaciones mas usuales para este tipo de servicio normalmente?

* **Christian David S√°nchez** (1) [782486](https://platzi.com/comentario/782486/) 

	Paquete instalado:  
	Microsoft.Azure.Storage.Queue  
	**< PackageReference Include=‚ÄúMicrosoft.Azure.Storage.Queue‚Äù Version=‚Äú11.1.0‚Äù />**

## 0190. Aplicaci√≥n para Queues [23094](https://platzi.com/clases/1705-almacenamiento-azure/23094-aplicacion-para-queues/)

### Descripci√≥n:


### Comentarios:

* **carlosbazanhuaman** (1) [900302](https://platzi.com/comentario/900302/) 

	la base de storage para todos los objetos es la misma y eso ayuda a que sea mas facil entender

* **Christian David S√°nchez** (1) [782509](https://platzi.com/comentario/782509/) 

	```
	    //realiza la conexion con el Storage Account
	    CloudStorageAccount myClient = CloudStorageAccount.Parse(configuration["connectionstring"]);
	    
	    //crea la instancia Queue que se usara.
	    CloudQueueClient queueClient = myClient.CreateCloudQueueClient();
	    
	    //crea my queue.
	    CloudQueue queue = queueClient.GetQueueReference("myFirstQueue");
	    queue.CreateIfNotExist(); //Crear si no existe mi queue`
	    
	```

## 0200. Consumir Colas [23095](https://platzi.com/clases/1705-almacenamiento-azure/23095-consumir-colas/)

### Descripci√≥n:


### Comentarios:

* **Giame Carlos Fajardo Santos** (1) [833571](https://platzi.com/comentario/833571/) 

	Aunque resolviste mi duda me rompiste el corazon cuando mencionas que es necesario crear el archivo local para luego subirlo. :')

## 0210. Crear un archivo en Blob a partir de cada Queue [23096](https://platzi.com/clases/1705-almacenamiento-azure/23096-crear-un-archivo-en-blob-a-partir-de-cada-queue/)

### Descripci√≥n:


### Comentarios:

* **moises-bravo** (1) [1030565](https://platzi.com/comentario/1030565/) 

	Este es el c√≥digo que usamos en el clase pero me da error al final, ya revise el c√≥digo varias veces
	``` 
	    using System;
	    using System.IO;
	    using Microsoft.Extensions.Configuration;
	    using Microsoft.Azure.Storage;
	    using Microsoft.Azure.Storage.Queue;
	    using Microsoft.Azure.Storage.Blob;
	    
	    
	    namespace QueueConsole
	    {
	        class Program
	        {
	            static void Main(string[] args)
	            {
	                var builder = new ConfigurationBuilder()
	                       .SetBasePath(Directory.GetCurrentDirectory())
	                       .AddJsonFile("appsettings.json");
	                 IConfiguration config = new ConfigurationBuilder()
	                       .AddJsonFile("appsettings.json",true,true).Build();
	    CloudStorageAccount myClient = CloudStorageAccount.Parse(config ["ConectionString"]);
	                CloudQueueClient queueClient = myClient.CreateCloudQueueClient();
	                CloudQueue queue = queueClient.GetQueueReference("filaprocesos");
	                CloudQueueMessage peekedMessage = queue.PeekMessage();
	                CloudBlobClient blobClient = myClient.CreateCloudBlobClient();
	                CloudBlobContainer container = blobClient.GetContainerReference("contenedorregistros");
	                container.CreateIfNotExists();
	                foreach (CloudQueueMessage item in queue.GetMessages(20, TimeSpan.FromSeconds(100)))
	                {
	                    string filePath = string.Format(@"log{0}.txt",item.Id);
	                    TextWriter tempFile = File.CreateText(filePath);
	                    var message = queue.GetMessage().AsString;
	                    tempFile.WriteLine(message);
	                    Console.WriteLine("Archivo Creado");
	                    tempFile.Close();
	    
	                    using(var fileStream =System.IO.File.OpenRead(filePath))
	                    {
	                        CloudBlockBlob myblob = container.GetBlockBlobReference(string.Format("log{0}.txt", item.Id));
	                        myblob.UploadFromStream(fileStream);
	                        Console.WriteLine("blob Creado");
	                    }
	    
	                    queue.DeleteMessage(item);
	                }
	                Console.ReadLine(); 
	            }    
	        }
	    }
	    
	    
	```
	
	me aparece este erro:
	
	Unhandled exception. Microsoft.Azure.Storage.StorageException: The specified queue does not exist.  
	at Microsoft.Azure.Storage.Core.Executor.Executor.ExecuteAsync[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext, CancellationToken token) at Microsoft.Azure.Storage.Core.Executor.Executor.<>c__DisplayClass0_0`1.<ExecuteSync>b__0()  
	at Microsoft.Azure.Storage.Core.Util.CommonUtility.RunWithoutSynchronizationContext[T](Func`1 actionToRun) at Microsoft.Azure.Storage.Core.Executor.Executor.ExecuteSync[T](RESTCommand`1 cmd, IRetryPolicy policy, OperationContext operationContext)  
	at Microsoft.Azure.Storage.Queue.CloudQueue.PeekMessages(Int32 messageCount, QueueRequestOptions options, OperationContext operationContext)  
	at Microsoft.Azure.Storage.Queue.CloudQueue.PeekMessage(QueueRequestOptions options, OperationContext operationContext)

# Cierre [4621]

## 0220. Cierre [23097](https://platzi.com/clases/1705-almacenamiento-azure/23097-cierre/)

### Descripci√≥n:


¬°Felicidades por haber llegado hasta aqu√≠!

Aprendiste a subir archivos a Blob Storage, crear tablas e insertar registros en Table Storage, Crear colas y consumir colas en Queue. TIenes posibilidades incre√≠bles para aplicar todos estos conocimientos.

### Links:

* [Curso de C# con .Net Core | Platzi](https://platzi.com/clases/c-sharp/)

* [Curso de ASP.NET Core](https://platzi.com/clases/aspnet-core/)

* [Curso de Azure Iaas](https://platzi.com/clases/azure-iaas/)

* [Curso de Web Apps y Logic Apps en Azure](https://platzi.com/clases/web-apps/)

* [Curso de SQL en Azure](https://platzi.com/clases/sql-azure/)

### Comentarios:

