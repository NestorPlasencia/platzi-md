# Introducci√≥n a PWA

## 0010. ¬øQu√© es una PWA

### Descripci√≥n:


No hay una definici√≥n concreta sobre que es una PWA. Lo mejor es entender como es el panorama actual.

¬øC√≥mo es la web hoy?

  * **Spoiler Alert:** No funciona muy bien en mobile.
  * M√°s del 50% de nuestros usuarios est√° en mobile.
  * Tenemos malas conexiones en los dispositivos m√≥viles, conexiones tipo 3G y LTE no son particularmente confiables. Esto genera que un sitio promedio tarda 14 segundos en cargar en mobile.
  * La UX no es solamente el dise√±o de nuestra app, tiene que ver con que tan r√°pido funciona nuestra aplicaci√≥n en el mundo real, con un tel√©fono que tiene una conexi√≥n mala.



Hay estudios que demuestran la importancia de lograr que tu sitio funcione r√°pidamente en dispositivos m√≥viles:  
‚Ä¢ 50% de los usuarios se van de un sitio que tarda m√°s de 3 segundos en cargar.  
‚Ä¢ Cada segundo de demora nos cuesta un 5-10% de nuestras ventas.

Vamos a centrarnos en tres cosas a lo largo de este curso:

  1. 
```       Performance.
    
```

  2. 
```       Instalable en Homescreen.
    
```

  3. 
```       Dar soporte Offline.
    
```




### Comentarios:

* **Julio J Y√©pez** (23)

	
	Ya, ya, ya ‚Ä¶ lo compro! ‚Ä¶ como dir√≠a el #sensei @LeonidasEsteban ‚Ä¶
	
	![](https://noesishosting.com/drive/tmp/vamo-a-darle-pq.gif)

	* **nachoogoomez** (8)

		
		El mejor GIF de todos los tiempos. Leo crack!

* **jsechirinos** (12)

	
	Mucha expectativa pa este curso‚Ä¶
	
	**Qu√© es una PWA?**  
	Un est√°ndar de calidad, de como deber√≠a ser la web  
	pensada primera para `mobile`.
	
	**Ventajas:**
	
	  * Mejor Experiencia de Usuario
	  * Estar en la Home Screen
	  * No hay apps Stores
	
	
	
	**Historias de Exito:**
	
	  * [pwastats.com](https://www.pwastats.com/)
	  * [wpostats.com](https://wpostats.com/)
	
	

* **Juan David Castro (Platzi)** (4)

	  * [Build a PWA in Just 10 Minutes](https://www.kirupa.com/apps/build_a_pwa.htm)
	
	

* **benitezconzeta** (4)

	
	**¬øQu√© es una Progressive Web App?**  
	_‚ÄúUna PWA es un est√°ndar de calidad. Es c√≥mo deber√≠a ser la web pensada primero para mobile‚Äù_

* **Jos√© Tuzinkievicz** (2)

	
	El profesor define a las PWA como un standard de calidad, de que la web deber√≠a ser pensada primero para mobile. Sin embargo su spoiler alert es ‚Äúno funciona muy bien en mobile‚Äù, lo que me da a pensar que estamos en un proceso en que las PWA no estan del todo maduras?

	* **Daniel Esteves** (2)

		
		Ya actualmente tienen una madurez muy alta, a las PWA solo les falta manejar cosas nativa como lo hacen las aplicaciones que si un explorador de archivos, c√°mara, entre otros.

* **Baltazar Ortega** (2)

	
	Genial que el profesor sea Roberto. Me gust√≥ mucho su curso de Next.

* **xThreeh** (2)

	
	Puedo hacer una PWA con flutter?

	* **onlinejaime** (3)

		
		Flutter es un lenguaje de programaci√≥n para hacer apps nativas, tanto en android como en ios‚Ä¶ Una app nativa no es una PWA.

* **John Jairo Bernal Garc√≠a** (2)

	
	Hola amigos,
	
	Realice el curso basico de programaci√≥n, creen que puedo empezar este curso inmediatamente, o deber√≠a empezar con otro?
	
	Gracias!!!

	* **Alexei Garban** (3)

		
		Hola, te recomiendo comenzar con Fundamentos de Javascript por Sacha Lipfzyc  
		[https://platzi.com/clases/fundamentos-javascript/](url)

	* **Sergio Minei** (3)

		
		Primero deber√≠as aprender [Javascript](https://platzi.com/clases/fundamentos-javascript/), luego [React](https://platzi.com/clases/react/) y cuando ya sepas usar estos reci√©n te recomendar√≠a llevar el [Curso de Progressive Web Apps con React.js  
		](https://platzi.com/clases/pwa-react-js/)

	* **paezjmv** (1)

		
		Si tienes platzi expert, acercate a placticar con el team platzi para que te ayuden a crear tu ruta de aprendizaje (Es un programa con los cursos recomendados de acuerdo al objetivo que persigues)

* **xThreeh** (2)
Puedo hacer una PWA con flutter?

	* **onlinejaime** (3)

		
		Flutter es un lenguaje de programaci√≥n para hacer apps nativas, tanto en android como en ios‚Ä¶ Una app nativa no es una PWA.

* **John Jairo Bernal Garc√≠a** (2)
Hola amigos, Realice el curso basico de programaci√≥n, creen que puedo empezar este curso inmediatamente, o deber√≠a empezar con otro? Grac...

	* **Alexei Garban** (3)

		
		Hola, te recomiendo comenzar con Fundamentos de Javascript por Sacha Lipfzyc  
		[https://platzi.com/clases/fundamentos-javascript/](url)

* **Camilo Alexander Velandia Velandia** (1)

	
	vamos!

* **Juan Guerra** (1)

	
	Iniciando Curso‚Ä¶ Alla Vamos!!!

* **Jorge Mendez Ortega** (1)

	
	Iniciando a jugar con PWA

* **ehnbytes** (1)

	
	Comenzando el curso!!

* **jangove** (1)

	
	Voy a realizar una web de pasarella de pagos como en que me recomiendan realizarlo???

* **KevinMartello** (1)

	
	Muy interesante

* **Pamela Cinthya Torres Guti√©rrez** (1)

	
	balla se escucha muy prometedor y me gusta mucho la forma en que Roberto explica lo que es PWA, espero que sea asi de sencillo aplicarlo.

* **Juan Pablo Fernandez** (1)

	
	Es posible agregar funcionalidad de angular js a aplicaciones PWA? Tengo una pagina web hecha en pug y angular y queria saber si se pueden agregar eventos de angular como apretar un boton, entre otras, en una PWA, Muchas gracias!

	* **Diego Alexander Forero Higuera (Platzi)** (2)

		
		Hola, claro que es posible, aqu√≠ tienes el curso con el que puedes lograrlo <https://platzi.com/clases/pwa-angular/>

* **Juan Pablo Fernandez** (1)

	
	muy buena introducci√≥n!!! Va a ser interesante empezar con este tema!

* **benitezconzeta** (1)

	
	Excelente!!!

* **jlquichimbo** (1)

	
	Qu√© es una PWA. Definici√≥n.

* **Jesus Garcia** (1)

	
	Excelente ya realice el de nextJS con roberto, es muy buen profesor a darle.!

* **Joel Alejandro Morales Garc√≠a** (1)

	
	Despu√©s de ver las clases en el live solo puedo esperar lo mejor de este curso üòÄ

* **jacamachoc** (1)
Hola, tengo una pregunta, espero alguien me pueda ayudar. Se puede aplicar las funcionalidades de una PWA a un sitio, que su stack, no se...

	* **nikosantis** (1)

		
		Supongo que s√≠, si se cumplen las caracter√≠sticas que se debe tener. Utiliza lighthouse de Chrome y genera una auditor√≠a de PWA y te dar√° la informaci√≥n de todo lo que necesitas üòÉ

* **Jonathan Jim√©nez** (0)

	
	Vamos all√°, con muchas ganas de aprender acerca de PWA con react üòÑ

## 0020. Progressive Web App vs. Native App

### Descripci√≥n:


### Comentarios:

* **Julio J Y√©pez** (24)

	
	Similitudes y diferencias entre una **PWA** y una **App nativa** :
	
	**Similitudes:**
	
	  * Trabajar Offline
	  * Recibir notificaciones
	  * Ser instaladas en la HomeScreen
	
	
	
	Diferencias:  
	**Las Apps Nativas**
	
	  * Acceso de mejor calidad a las funcionalidades nativas de Android y iOS
	  * Mayor libertad para crear apps avanzadas
	  * Mejor performance
	  * Mejores funcionalidades espec√≠ficas de cada plataforma
	
	
	
	**Las PWAs**
	
	  * Mejor desempe√±o en SEO
	  * M√°s sencillo conseguir y convertir usuarios
	  * Son mejores para sitios de medios, noticias o aplicaciones virales
	  * Costos de producci√≥n menores
	  * Facilidad para conseguir usuarios
	
	
	
	Al momento de decidir deber√≠amos hacernos la siguiente pregunta:
	
	> **¬øPodemos crear una experiencia de usuario dram√°ticamente SUPERIOR con una app nativa?**
	
	¬°Si la respuesta es SI, y dispones del personal y los recursos para hacerlo, pu√©s adelante!
	
	De lo contrario, la mejor decisi√≥n es:
	
	**¬°Crear una PWA!**

	* **Carlos Rivas** (6)

		
		Tremendo el resumen!

	* **benitezconzeta** (2)

		
		Buen√≠simo el res√∫men!!!

	* **Jhon Alexander Perez Valencia** (2)

		
		nice

* **Pamela Cinthya Torres Guti√©rrez** (3)

	
	excelente explicaci√≥n y algo que me llamo mucho la atenci√≥n fue que es mucho m√°s sencillo conseguir usuarios y los costos son menores, y creo que no solo para las start ups si no que tambi√©n para micro emprendedores que se quieren aventurar en la web.

* **Mart√≠n Leyva** (3)

	
	Excelente explicaci√≥n, yo espero una convergencia entre las dos tecnolog√≠as en poco tiempo.

* **Manuel Rivera** (1)

	
	La verdad no conoc√≠a sobre las PWA, pero con esta clase me queda mas que claro que quiero aprender ahora üöÄ‚Ä¶

* **Paulina Zoffoli** (1)

	
	Quiero hacer una aplicaci√≥n que funcione para web, para app de android y para iphone, ¬ødebo hacer una pwa?
	
	Entonces no tengo que aprender React Native?

	* **Diego Alexander Forero Higuera (Platzi)** (4)

		
		Puedes hacer una PWA, pero ten en cuenta que una PWA no tiene el mismo nivel de acceso que si haces una aplicaci√≥n nativa hecha con Java (Android) o Swift (iOS) o hecha con React Native. Todo depende de lo que necesites hacer.

## 0030. El proyecto

### Descripci√≥n:


Nuestro proyecto ser√° **Platzi Recetas:** una PWA para ver recetas que utiliza la API de TheMealDB.  
Solamente usaremos React, generado por Create React App, junto con React Router.

### Comentarios:

* **Sergio Minei** (13)

	
	 **Creaci√≥n del Proyecto**
	
	Crear el proyecto usando `create-react-app`.
	``` 
	    create-react-app platzi-recetas
	    
	```
	
	Luego, instalar **react-helmet** , **react-router-dom** y **serve**
	``` 
	    npm i react-helmet react-router-dom serve
	    
	```
	
	Finalmente, agregar los scripts en el package.json.
	``` 
	    "scripts": {
	      "dev": "react-scripts start",
	      "start": "serve ./build -s -p ${PORT:-4000}",
	      "build": "react-scripts build",
	      "test": "react-scripts test --env=jsdom",
	      "eject": "react-scripts eject"
	    }
	    
	```
	
	Pueden ver el resumen completo del curso **[aqu√≠](https://github.com/MineiToshio/CursosPlatzi/tree/master/Curso%20de%20Progressive%20Web%20Apps%20con%20React.js)**.  
	Pueden ver mi lista de res√∫menes **[aqu√≠](https://github.com/MineiToshio/CursosPlatzi)**.

	* **Cristihan Albarran** (3)

		
		ty bro!

* **Sergio Minei** (13)

	
	Este es el repo del curso: <https://github.com/Aerolab/platzi-pwa>

	* **Jessica Tatiana Camacho** (3)

		
		gracias compa√±ero!

	* **Freddy C√≥rdova Arana** (3)

		
		Mil gracias üòÑ

	* **Camilo Rivera Quintero** (2)

		
		+100

* **Brian Dennis Vega Hidalgo** (3)

	
	se puede mesclar NextJs con un PWA ?

	* **Diego Alexander Forero Higuera (Platzi)** (3)

		
		En teor√≠a si es posible.

	* **Gabriel Ch√°vez** (2)

		
		Por supuesto, sigue siendo JS, puedes ver proyectos demo en GitHub: <https://github.com/Aerolab/nextjs-pwa>
		
		Aunque yo me iria mas por un framework mas robusto como ReactJS, AngularJS o VueJS.

	* **Brian Dennis Vega Hidalgo** (1)

		
		Super muchas gracias GOLLUM23 y gabrielchaveme investigare y ver√© los proyectos ahora mismo .

	* **eltenis** (1)

		
		Pero Next.js no es React ??? que diferencia hay entre create-react-app y Next.js???

	* **Jhonatan Miranda** (2)

		
		Next.js es un microframework de React.js, por otro lado React solo es una librer√≠a.

* **Fernando Salazar** (3)
Hola Roberto, Disculpa podrias compartir un gist o un json con tus plugins de vscode? Saludos. PD: Estaria bueno que todos los profesores...

	* **robertomgonzalez** (2)

		
		Hola! Uso muy pocos plugins para VSCode. Los que m√°s aprovecho son NPM Intellisense (autocomplete de dependencias) e Import Cost. Este √∫ltimo te permite ver aproximadamente cu√°ndo pesa cada librer√≠a que us√°s en tu c√≥digo, y es genial para mejorar la performance de tu frontend.
		
		Despu√©s s√≥lo tengo vscode-styled-jsx para proyectos con Next.JS y ESLint / StandardJS para unificar estilos. La fuente de la terminal es Menlo for Powerline con oh-my-zsh, que tenemos en el [Setup de Aerolab](https://github.com/aerolab/setup).

* **jhon manuel angulo moncada** (2)

	
	como dicen los compa√±eros ya el API de themealdb cambio as√≠ que cambien en mealdb-api.js  
	la parte del fetch de ‚Äú/latest.php‚Äù a ‚Äúsearch.php?f=c‚Äù
	
	si desean bastantes recetas con la letra c o la s

* **Sebastian Duque Morales** (2)

	
	Hola, tengo una pregunta, como tal el curso no est√° orientado a hacer la app desde 0 sino a pasar una app ya creada a una PWA?

	* **ricardocelis (Platzi)** (1)

		
		as√≠ es justamente!

	* **Sebastian Duque Morales** (2)

		
		Ahh jaja, la idea era empezarla desde 0, recomiendan alg√∫n sitio donde la pueda empezar desde 0?

	* **Cristian Caballero** (1)

		
		Puedes hacer el curso de React o React Avanzado, terminar esa app y luego usar este curso para pasarla a PWA, aunque si mal no recuerdo el curso de React Avanzado ya incluye PWA en uno de sus capitulos al final

* **Wilson Fabian P√©rez Sucuzha√±ay** (2)

	
	pero para el SEO no seria NEXT con PWA porque solo react puro ¬ø?

	* **Daniel Esteves** (1)

		
		Esta es una manera de hacerla pero como tu la recomiendas tambi√©n y de hecho es una de las mejores alternativas

* **Fernando Salazar** (2)

	
	Hola Roberto, Disculpa podrias compartir un gist o un json con tus plugins de vscode? Saludos.
	
	PD: Estaria bueno que todos los profesores hagan esto al prncipio de todos los cursos.

	* **robertomgonzalez** (2)

		
		Hola! Uso muy pocos plugins para VSCode. Los que m√°s aprovecho son NPM Intellisense (autocomplete de dependencias) e Import Cost. Este √∫ltimo te permite ver aproximadamente cu√°ndo pesa cada librer√≠a que us√°s en tu c√≥digo, y es genial para mejorar la performance de tu frontend.
		
		Despu√©s s√≥lo tengo vscode-styled-jsx para proyectos con Next.JS y ESLint / StandardJS para unificar estilos. La fuente de la terminal es Menlo for Powerline con oh-my-zsh, que tenemos en el [Setup de Aerolab](https://github.com/aerolab/setup).

* **Julio J Y√©pez** (2)

	
	Se deben instalar `react-router-dom` y `react-helmet` adicionalmente a los paquetes que instala `create-react-app recetas`

	* **Julio J Y√©pez** (2)

		
		El `package.json` queda as√≠:
		``` 
		    {
		      "name": "platzi-recetas",
		      "version": "0.1.0",
		      "private": true,
		      "dependencies": {
		        "react": "^16.4.1",
		        "react-dom": "^16.4.1",
		        "react-helmet": "^5.2.0",
		        "react-router-dom": "^4.3.1",
		        "react-scripts": "1.1.4"
		      },
		      "scripts": {
		        "dev": "react-scripts start",
		        "start": "serve ./build -s -p ${PORT:-4000}",
		        "build": "react-scripts build",
		        "test": "react-scripts test --env=jsdom",
		        "eject": "react-scripts eject"
		      }
		    }
		    
		```

	* **Julio J Y√©pez** (2)

		
		Tambi√©n se debe instalar serve:
		``` 
		    npm i -S serve
		    
		```

	* **Julio J Y√©pez** (3)

		
		Aunque lo m√°s r√°pido y conveniente ser√≠a descargar los archivos del curso y hacer el `npm install` que se encarga de traer todas las dependencias.

* **Israel Elias Laura Rosas** (2)

	
	Tengo que pasar los cursos de React para tomar este curso?

	* **Oscar Barajas Tavares (Platzi)** (3)

		
		No estas obligado a hacerlo, en este curso te ense√±an a trabajar las PWA con lo b√°sico, pero te recomendar√≠a tomar el curso para tener mas nociones de como se trabaja con ReactJS.

	* **Israel Elias Laura Rosas** (1)

		
		El de React o React Native?

	* **Oscar Barajas Tavares (Platzi)** (3)

		
		Primero sugiero Javascript si ya entiendes la base y aprobaste el curso de Fundamentos, puedes tomar React, para as√≠ poder tomar React native o Redux, Toda la carrera de React es muy buena.
		
		Saludos

	* **Israel Elias Laura Rosas** (2)

		
		@gndx Perfecto‚Ä¶ gracias

* **Pamela Cinthya Torres Guti√©rrez** (2)
una pregunta puedo utilizar este curso pero con otro proyecto que tenga en react?

	* **Kevin Javier Morales (Platzi)** (2)

		
		Claro que s√≠, puedes poner en pr√°ctica todo lo que vas aprendiendo en el curso con el proyecto que quieras. Lo importante es aprender üí™

* **Cristian Caballero** (2)
Esta en algun lugar el proyecto para ir ‚Äúhaciendo‚Äù con el mismo proyecto y no solo ir ‚Äúviendo‚Äù como el lo hace?

	* **Juan David Castro (Platzi)** (1)

		
		Lo tiene GitHub: <https://github.com/Aerolab/platzi-pwa>.

* **Rub√©n Maier Enzler** (2)
no me queda claro una cosa, ¬øel proyecto este de las ‚Äúrecetas‚Äù se realiza en alg√∫n curso o est√° hecho exclusivamente para el curso y nos ...

	* **aragonesteban (Platzi)** (3)

		
		Hola, en todo el curso te dan las bases para crear una PWA con React, la aplicaci√≥n utilizara React y React Router, que por ende usaras algo de estilos CSS y de maquetaci√≥n de HTML.

* **Brian Dennis Vega Hidalgo** (2)
se puede mesclar NextJs con un PWA ?

	* **Diego Alexander Forero Higuera (Platzi)** (3)

		
		En teor√≠a si es posible.

* **Jorge Mendez Ortega** (1)

	
	nunca me a gustado usar  
	`create-react-app`  
	se me hace muy chafa

* **Jorge Velasquez** (1)

	
	<https://recetas.jorgevelasquez006.now.sh/>

* **JarlLuis** (1)

	
	Alguien sabe qu√© extensi√≥n usa el profesor para que el logo del archivo en VSC sea el logo de react para los archivos react aunque s√≥lo terminen en.js ?

	* **Jorge Mendez Ortega** (1)

		
		Esta es la extensi√≥n  
		<https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme>

* **Cristian Caballero** (1)

	
	Alguien mas tuvo este error al intentar correr el proyecto despu√©s de descargarlo?  
	`SyntaxError: Unexpected token < in JSON at position 0`
	
	Me da ese error en consola, esta relacionado con el archivo `recetas/src/mealdb-api.js`
	
	Esto fue despu√©s de usar `npm install` y luego ‚Äònpm run dev‚Äô, carga el sitio, pero vaci√≥ y en consola veo el error que describ√≠ arriba

	* **Wilson Marino Pablo Mendez** (1)

		
		Justamente me esta mostrando lo mismo. ¬øLograste solucionar?

	* **Cristian Caballero** (1)

		
		@Marino_Pablo  
		Las politicas de la API cambiaron y, a menos que seas patreon, ya no permite usar la URL:
		``` 
		    https://www.themealdb.com/api/json/v1/1/latest.php
		    
		```
		
		Puedes que usar la URL de filtrado por primera letra que tiene el mismo formato y esta abierta, aunque por desgracia solo tendras todas las recetas de la letra que usaste y no las demas a menos que pagues
		``` 
		    https://www.themealdb.com/api/json/v1/1/search.php?f=a
		    
		```

* **Cristian Caballero** (1)

	
	Es posible incluir/usar expo en esta PWA ?

* **Rub√©n Maier Enzler** (1)

	
	no me queda claro una cosa, ¬øel proyecto este de las ‚Äúrecetas‚Äù se realiza en alg√∫n curso o est√° hecho exclusivamente para el curso y nos delegan la responsabilidad de conocerlo cual construcci√≥n propia? ¬øes un proyecto de solo react, react router, hntml y css b√°sico o tiene a su vez c√≥digo ya enfocado en la realizaci√≥n de una pwa?

	* **aragonesteban (Platzi)** (3)

		
		Hola, en todo el curso te dan las bases para crear una PWA con React, la aplicaci√≥n utilizara React y React Router, que por ende usaras algo de estilos CSS y de maquetaci√≥n de HTML.

* **Angel Hayling** (1)
platzi-recetas@0.1.0 start C:\Users\leoncito\Documents\Workspace\Front-end\react-class\PWA\pwa_clones\platzi-pwa serve ./bui...

	* **Andres Roberto Coello Goyes** (1)

		
		tambi√©n tuve el mismo error pero basta con ejecutar npm run build

## 0040. Google Lighthouse

### Descripci√≥n:


Es una herramienta oficial de Google que viene con Chrome, con la cual podemos hacer un diagn√≥stico a una Web App. Estos diagn√≥sticos se centran en Performance y Accesibilidad, pero tambi√©n tiene una herramienta para diagnosticar si nuestra Web App se considera una PWA o no y que pasos debemos de tomar para que lo sea.

Lighthouse no sustituye hacer pruebas con un dispositivo m√≥vil real, siempre realiza pruebas en un dispositivo m√≥vil.

El diagnostico de Performance nos muestra dos de los conceptos m√°s importantes en performance: First meaningful Paint y First interactive.

First meaningful Paint o primer pintado significativo, esto se√±ala cuanto tiempo tardo el navegador en renderizar la aplicaci√≥n de una forma que tenga sentido. Generalmente queremos que este situado entre 1 y 2 segundos.

First interactive o primera interacci√≥n, se√±ala el tiempo cuando ya se carg√≥ React, inicializo la aplicaci√≥n y que podamos correr comandos dentro de la aplicaci√≥n.

¬øC√≥mo bajamos estos tiempos?

Para bajar el Time To First Meaningful Paint podemos hacer Server Side Rendering, reducir el tama√±o de nuestro HTML y CSS o simplemente teniendo servidores m√°s r√°pidos.  
El Time To Interactive tiene mucho que ver con el framework que estemos utilizando, usualmente queremos que tarde menos de 5 segundos.

### Comentarios:

* **Julio J Y√©pez** (9)

	
	Stack eficiente:  
	ReactJS + NextJS + PWA ‚Ä¶

* **jsechirinos** (4)

	
	 **Repo del proyecto**
	
	<https://github.com/Aerolab/platzi-pwa>

* **Filiberto Santill√°n** (3)

	
	La API se actualizo ahora hay que cambiar **baseUrl** y las peticiones **fetch()** :  
	.
	``` 
	    const baseUrl = "https://www.themealdb.com/api/json/v1/1";
	    
	    asyncfunctiongetLatest() {
	      const request = await fetch(`${baseUrl}/search.php?f=b`);
	      const data = await request.json()
	      const recipes = data.meals.map((m) => normalizeMeal(m))
	    
	      return recipes
	    }
	    
	    asyncfunctiongetRecipe(recipeId) {
	      const request = await fetch(`${baseUrl}/lookup.php?i=${recipeId}`)
	      const data = await request.json()
	      if( ! data.meals ) returnnull
	      const recipe = normalizeMeal(data.meals.shift())
	    
	      return recipe
	    }
	    
	```

	* **Lisandro Kaliros Quintero Castillo** (1)

		
		Muchas Gracias!!

	* **Camilo Alexander Velandia Velandia** (1)

		
		gracias

* **Julio J Y√©pez** (3)

	
	Seg√∫n el sitio de estad√≠sticas de la web: <https://www.statista.com/>
	
	Al primer semestre de 2018, la distribuci√≥n de versions de Android m√°s usadas en base a los 2000 millones de usuarios a nivel global, seg√∫n datos de Google en la I/O 2018, es la siguiente:
	
	![Captura de pantalla de 2018-07-20 01-26-23.png](https://static.platzi.com/media/user_upload/Captura%20de%20pantalla%20de%202018-07-20%2001-26-23-f6656d06-eb32-4ecd-b26e-a54e137ca4db.jpg)
	
	Esto nos da una idea de las caracter√≠sticas y capacidades que pudieran tener los dispositivos que usar√°n nuestra PWA.

* **Gerardo Nava Pereda** (3)
GatsbyJS vs NextJS ‚Ä¶ ¬øNext o Gatsby?

	* **robertomgonzalez** (8)

		
		Por lo general Gatsby se recomienda para sitios est√°ticos y Next para apps din√°micas o m√°s complejas, pero √∫ltimamente est√°n teniendo paridad de features entre ambos, as√≠ que la elecci√≥n se vuelve un poco m√°s dif√≠cil.
		
		Generalmente prefiero Next.JS porque tiene mejor soporte, creo que es un poco m√°s f√°cil de aprender y tampoco impone demasiadas restricciones de arquitectura, as√≠ que da m√°s control en proyectos grandes. Lo hemos usado en proyectos desde blogs hasta apps gigantes y se comporta muy bien en todos los casos.

* **Jos√© Tuzinkievicz** (2)

	
	Clon√© el proyecto, instal√© las dependencias, luego hice **npm run dev** , y la p√°gina s√≥lo me muestra el t√≠tulo, intenta traer las recetas pero no lo logra.
	
	Al inspeccionar p√°gina, voy a la consola y me muestra  
	`SyntaxError: Unexpected token < in JSON at position 0 __stack_frame_overlay_proxy_console__ @ index.js:2178`

	* **Le_MaliX** (4)

		
		Las politicas de la API cambiaron y, a menos que seas patreon, ya no permite usar la URL:
		``` 
		    https://www.themealdb.com/api/json/v1/1/latest.php
		    
		```
		
		Recomiendo que uses la URL de filtrado por primera letra que tiene el mismo formato y esta abierta
		``` 
		    https://www.themealdb.com/api/json/v1/1/search.php?f=a
		    
		```

	* **Jos√© Tuzinkievicz** (1)

		
		Gracias @Le_MaliX! Funciona perfecto.

	* **Cristian Caballero** (1)

		
		@Le_MaliX, estuve mirando la documentacion de `themealdb`, y no encontre cual seria la mejor opcion para mostrar todas las rescetas (o algo similar), tienes alguna sugerencia?

* **Gerardo Nava Pereda** (2)

	
	GatsbyJS vs NextJS ‚Ä¶ ¬øNext o Gatsby?

	* **robertomgonzalez** (8)

		
		Por lo general Gatsby se recomienda para sitios est√°ticos y Next para apps din√°micas o m√°s complejas, pero √∫ltimamente est√°n teniendo paridad de features entre ambos, as√≠ que la elecci√≥n se vuelve un poco m√°s dif√≠cil.
		
		Generalmente prefiero Next.JS porque tiene mejor soporte, creo que es un poco m√°s f√°cil de aprender y tampoco impone demasiadas restricciones de arquitectura, as√≠ que da m√°s control en proyectos grandes. Lo hemos usado en proyectos desde blogs hasta apps gigantes y se comporta muy bien en todos los casos.

* **Julio J Y√©pez** (2)

	
	El asunto con tener ya el proyecto base desarrollado, es prec√≠samente porque PWA permite tomar **cualquier** proyecto html5 que ya tengas, que hayas programado antes, y agregar los Service Workers y configuraciones necesarias para convertirla en una **PWA** ‚Ä¶ y en ese sentido, crear todo el detalle de la app en este curso, no aporta demasiado, ya que tendr√≠amos que entrar en los detalles de HTML, ReactJS, jsx, JS, CSS, etc ‚Ä¶ necesarios para crear la UI. Incluso la parte de traer los datos de la API.
	
	¬°Eso nos deja toda la concentraci√≥n y dedicaci√≥n para enfocarnos en lo que realmente se refiere a los ServiceWorkers y las potencialidades de las PWAs!

	* **David Alejandro Mosquera Moreno** (1)

		
		Justo me estaba preguntando esto

* **Mart√≠n Leyva** (2)

	
	 ** _First meaningful paint_** is is a browser-supplied metric that measures how long it takes for the most meaningful content to be fully rendered on the site.
	
	En espa√±ol: es una m√©trica suministrada por el navegador, que indica cuanto tarda en segundos o fracciones, la representaci√≥n (renderizaci√≥n) del contenido m√°s significativo en el sitio.
	
	Nota: est√° m√©trica actualmente solo est√° disponible en Google Chrome.

	* **Julio J Y√©pez** (3)

		
		El sitio: <https://pwa-directory.appspot.com/> ‚Ä¶ muestra infinidad de PWAs con sus respectiva calificaciones de Lighthouse!
		
		![Captura de pantalla de 2018-07-20 01-42-39.png](https://static.platzi.com/media/user_upload/Captura%20de%20pantalla%20de%202018-07-20%2001-42-39-df8bbc4b-e2b2-40f4-a4c2-3fc28541bc84.jpg)

* **Manuel Rivera** (1)

	
	Lo estoy haciendo con un proyecto personal y el First Meaningful Paint fue de 12 segundos. üé≠

* **Jean Carlos Nu√±ez Hernandez** (1)

	
	muy buena herramienta

* **dariovinueza** (1)

	
	me sale este error: index.js:2178 SyntaxError: Unexpected end of JSON input

	* **Wilson Marino Pablo Mendez** (2)

		
		Al parecer hubo actulizaciones en la API.
		
		  * 
		
		
		Puedes usar el siguente url
		``` 
		    const baseUrl = 'https://www.themealdb.com/api/json/v1/1/search.php?f=b'
		    
		```
		
		y solo pasarle $baseUrl al fetch()
		``` 
		    const request = await fetch(baseUrl)
		    
		```

* **Pamela Cinthya Torres Guti√©rrez** (1)

	
	woww que interesante, la verdad estoy realizando este curso en un proyecto personal que tengo y no tenia ni idea de la valioza herramienta que es Google lighthouse. Super espero que las dem√°s clases tambi√©n la pueda poner en practica

* **Luis Miguel Rodriguez** (1)

	
	No conoc√≠a esta herramienta y vaya que me ha sorprendido, con esta clase ya vali√≥ la pena el curso. Excelente

* **priscilaC** (1)

	
	Ayudaa‚Ä¶ porque cuando corro el comando npm run dev me salta:  
	‚ÄúModule not found: Can‚Äôt resolve ‚Äò./pages/Home‚Äô in '/home/priscila/Projects/Platzi/prueba-clic2ring/platzi-recetas/src‚Äù?  
	Les agradeceria

	* **priscilaC** (3)

		
		Ya encontr√© el problema‚Ä¶ tenia mal las carpetas

	* **Melina Jacqueline onoriaga** (1)

		
		jajajaja pobre Pri

* **benitezconzeta** (1)

	
	Wow ¬°Qu√© interesante herramienta la de Google Lighthouse!

* **Julio J Y√©pez** (1)

	
	¬øC√≥mo bajar los tiempos del First Meaningful Paint o TTFMP de nuestra PWA?

## 0050. Creando un Web Manifest

### Descripci√≥n:


En esta clase vamos a ver c√≥mo implementar la funcionalidad de Add to Homescreen.

**Nota IMPORTANTE:**

Al momento de crear este curso esta saliendo Chrome 68, dicha versi√≥n va a cambiar el comportamiento del Add to Homescreen sutilmente.  
create-react-app nos da un Web Manifest pre armado el cual debemos configurar. Todo lo que tiene que ver con nuestro Web Manifest est√° dentro de los archivos index.html y manifest.json de la carpeta public de nuestro proyecto.

Por el momento vamos a trabajar dentro del archivo manifest.json, en el podemos ver varios atributos, los cuales son:  
‚Ä¢ short_name: Es el nombre que se utiliza en la Homescreen.  
‚Ä¢ name: Es el nombre de nuestra aplicaci√≥n.  
‚Ä¢ icons: Especifica un array de im√°genes que servir√°n como iconos de la aplicaci√≥n. Cambiaremos el ‚Äúfavicon.ico‚Äù por ‚Äúicon.png‚Äù, especificamos el tama√±o a 512x512 y el tipo a ‚Äúimage/png‚Äù.  
‚Ä¢ start_url: Nos indica en que p√°gina comienza nuestra aplicaci√≥n, por compatibilidad siempre conviene que sea ‚Äú/‚Äù en lugar de ‚Äú./index.html‚Äù.  
‚Ä¢ display: Define el modo de visualizaci√≥n para la aplicaci√≥n. Standalone significa que la aplicaci√≥n puede correr por su misma.  
‚Ä¢ theme_color: Define qu√© color vamos a usar en la barra de tareas de Android para que combine con nuestra aplicaci√≥n.  
‚Ä¢ related_applications: Sirve si queremos que Chrome en el Add to Homescreen recomiende una aplicaci√≥n del Store.

Para probar nuestro Add to Homescreen debemos tener en cuenta que un requisito fundamental de las PWA es que todo funcione con HTTPS.

Nuestra aplicaci√≥n por defecto es fullscreen, as√≠ que NO OLVIDES de brindar un camino al home.

En iOS necesitamos a√±adir alguna metadata al index.html de nuestro proyecto. Al momento de probar nuestra aplicaci√≥n en iOS nos daremos cuenta de que el Add to Homescreen en este caso debe ser a√±adido manualmente por el usuario.

### Links:

* [Web App Manifest | MDN](https://developer.mozilla.org/en-US/docs/Web/Manifest)

### Comentarios:

* **Julio J Y√©pez** (8)

	
	¬°Guao! ‚Ä¶ el dato sobre este servicio **ngrok** es una joya! ‚Ä¶ Gracias.
	
	Instrucciones para instalaci√≥n en: <https://ngrok.com>

	* **Julio J Y√©pez** (2)

		
		Para que ngrok funcione correctamente se debe tener corriendo el servidor local en una terminal, y el ngrok en otra terminal, ambas apuntando al mismo puerto ‚Ä¶ ya que ngrok ‚Ä¶ hace las veces de proxy o similar.

	* **Julio J Y√©pez** (2)

		
		Al momento de acceder a la webapp desde el dispositivo m√≥vil hay que asegurarse de escribir **https://** ya que de lo contrario no tiene el mismo comportamiento, a√∫n cuando no falla, ya que ngrok pone a disposici√≥n ambos protocolos ‚Ä¶ http y https

	* **Julio J Y√©pez** (2)

		
		As√≠ se va viendo ‚Ä¶
		
		![Screenshot_20180720-034329.png](https://static.platzi.com/media/user_upload/Screenshot_20180720-034329-67b5e899-9d3e-47e3-bf3e-541579468112.jpg)

	* **Oscar Barajas Tavares (Platzi)** (1)
Yo lo utilizo mucho para probar en distintos dispositivos, me parece una potente herramienta que todo dev debe de tener.

	* **fecrackle** (1)

		
		Gracias @jjyepez por aportar esa informaci√≥n de ngrok.

	* **Cristihan Albarran** (1)

		
		Gracias @jjyepez

* **Danvasem** (6)

	
	No puede ser!, me quiero volver chango!, donde has estado todo este tiempo NGROK que recien te vendo a conocer!!!.

* **david vicent** (6)

	
	Hay una parte de codigo que no se muestra en pantalla mientras se escribe

	* **Nestor  de Valais** (5)

		
		‚Äústart_url‚Äù: ‚Äú/‚Äù,  
		‚Äúscope‚Äù: ‚Äú/‚Äù,  
		‚Äúdisplay‚Äù: ‚Äústandalone‚Äù,  
		‚Äútheme_color‚Äù: ‚Äú#ffa500‚Äù,  
		‚Äúbackground_color‚Äù: ‚Äú#ffffff‚Äù,  
		‚Äúrelated_applications‚Äù: [],  
		‚Äúprefer_related_applications‚Äù: false

* **alexjcm** (5)

	
	Para los amigos que tienen problemas al ejecutar **npm start** recomiendo hacer lo siguiente:  
	Instalamos serve globalmente:
	``` 
	    npm install -g serve
	    
	```
	
	Configuramos nuestro **package.json**
	``` 
	    "scripts": {   
	        "start": "serve ./build -s -l 5000",
	        "build": "react-scripts build"
	         },
	    
	```

	* **Juan Pablo Fernandez** (1)

		
		me sirvio mucho, seguramente porque no tenia serve configurado globalmente. Muchas gracias!

	* **Freddy C√≥rdova Arana** (1)

		
		Muchas gracias, solucion√≥ mi problema

* **Jefferson Mart√≠nez** (4)

	
	Hubiera sido muy ch√©vere que el proyecto se construyera para ir paso a paso y no que ya le muestren uno hecho

* **Sergio Minei** (4)

	
	Todo funciona OK, pero NO me muestra la ventanita de ‚Äúadd to self‚Äù. Sin embargo, si lo agrego desde ‚Äúcrear acceso directo‚Äù todo me funciona bien. ¬øQu√© puede ser? Estoy usando Chrome 69.

	* **Carlos Andr√©s Cobo Sinisterra** (2)

		
		Me pasa lo mismo man!!! alguien sabe?

	* **pablobernalrosas** (1)

		
		A mi tampoco me salia, hasta que me di cuenta que me hacia falta la imagen del taco (icon.png), agredando la imagen ya me salia el ‚Äúadd to sefl‚Äù.

* **Facundo Nahuel Herrera** (4)

	
	Desconozco por que al lanzar el comando ‚Äònpm start‚Äô (luego de construir el build, tal como muestra el video) me tira una serie de errores. Por lo tanto lo que hice fue instalar:
	``` 
	    $ npm install -g serve
	    $ serve -s build
	    
	```
	
	Posterior a esto todo fue normalmente como en el video, incluso su conexi√≥n con ngrok.

	* **jsechirinos** (0)

		
		Si, tienes raz√≥n, busque en su documentaci√≥n y te recomienda instalar de forma global [serve](https://github.com/zeit/serve)

	* **jsechirinos** (4)

		
		Modificando el `package.json` un poquito funciona correctamente:
		``` 
		    "scripts": {
		    	‚Ä¶
		    	"start": "serve ./build -s -l 5000",
		    	‚Ä¶
		    }
		    
		    
		```

	* **Carlos Rivas** (1)

		
		@jsechirinos c√≥mo diste con esta respuesta?

* **Josias Cubillos Gutierrez** (4)
No me aparece la opci√≥n de ‚ÄúADD TO HOME SCREEN‚Äù, que podr√≠a hacer ?

	* **Daniel Alberto Esquinazi** (2)

		
		este [link](https://www.xda-developers.com/progressive-web-apps-chrome-how-to/) me ayudo.

* **Juan Sebastian Reina** (3)

	
	Tuve problemas al ejecutar
	``` 
	    npm run build && npm start
	    
	```
	
	Lo que hice fue modificar el script de `start`
	``` 
	    "start": "serve ./build -s -p 4000",
	    
	```
	
	luego, ejecute de nuevo:
	``` 
	    npm run build && npm start
	    
	```

* **alexjcm** (3)

	
	Este curso est√° incre√≠ble.

* **Javier Fuentes Mora** (2)

	
	Con Netlify es muy sencillo , solo lo instalan y le dan netlify deploy y listo les da un link donde estar√° corriendo

* **Wilson Marino Pablo Mendez** (2)

	
	Esto esta chevere üò±üò±  
	üëçüëçüëçüëçüëç

* **Pamela Cinthya Torres Guti√©rrez** (2)

	
	no me aparece esa barrita de Add.

	* **Daniel Esteves** (1)

		
		Para que te salga necesitas subirlo a un servidor con HTTPS y luego de ir entrar a la p√°gina para que eso te salga

* **salvador-lavariega** (2)

	
	Para que salga el add to homescreen  
	Otra opci√≥n es subirlo a Firebase Hosting.  
	Primero debes ingresar a firebase y crear un proyecto y seleccionar Desarrollo/Hosting y sigues los pasos de este link:
	
	<https://www.robinwieruch.de/firebase-deploy-react-js/>
	
	Aunque para Safary no sale üòï

* **Luis Miguel Rodriguez** (2)

	
	A mi no me funciono el ‚ÄúAdd to homescreen‚Äù:  
	Lo solucione haciendo un deploy a now y todo funciono correcto. sospecho que es por no tener en local la forma de montar https.  
	si alguien tiene una mejor soluci√≥n por favor me la comentan.

* **Luis Rodriguez** (2)

	
	A mi no me sali√≥ el ‚ÄúAdd to homescreen‚Äù en mis dispositivos, pero cuando lo corr√≠ en el emulador s√≠ me apareci√≥.
	
	Les comparto las gu√≠as de google que para que sepan, necesitan tener al menos dos tama√±os de iconos para que aparezca el ‚Äúadd to homescreen‚Äù, uno de 192x192 y otro de 512x512
	
	<https://developers.google.com/web/fundamentals/app-install-banners/native>
	
	![](![Screen Shot 2019-05-17 at 12.08.16 PM.png](https://static.platzi.com/media/user_upload/Screen%20Shot%202019-05-17%20at%2012.08.16%20PM-6e3b2223-b569-46ee-a04a-88adde156405.jpg)

* **Josias Cubillos Gutierrez** (2)

	
	No me aparece la opci√≥n de ‚ÄúADD TO HOME SCREEN‚Äù, que podr√≠a hacer ?

	* **Daniel Alberto Esquinazi** (2)

		
		este [link](https://www.xda-developers.com/progressive-web-apps-chrome-how-to/) me ayudo.

	* **Ramiro Calo** (1)

		
		@esquinazi lo que entiendo de ese articulo es como hacer para installar la pwa de forma manual, en la versi√≥n 72 de chrome no me sale el cartel.
		
		T√∫ si lo pudiste solucionar?

	* **Edison Sanchez** (1)

		
		el link de @exquinazi me funciono, pero solo aparece un simbolo + a la derecha de la barra de direccion.

* **dutchster** (2)

	
	Hola acabo de instalarme npm ‚Ä¶ pero al ejecutar el comando que lo muestra para levantar o que pueda ejecutar el sitio en un puerto diferente me sale errores y mas perdido no se si voy haciendo bien las cosas .  
	react-scripts build
	
	sh: 1: react-scripts: not found
	
	npm ERR! Linux 4.15.0-34-generic  
	npm ERR! argv ‚Äú/usr/bin/node‚Äù ‚Äú/usr/bin/npm‚Äù ‚Äúrun‚Äù "build"  
	npm ERR! node v8.10.0  
	npm ERR! npm v3.5.2  
	npm ERR! file sh  
	npm ERR! code ELIFECYCLE  
	npm ERR! errno ENOENT  
	npm ERR! syscall spawn  
	npm ERR! platzi-recetas@0.1.0 build: `react-scripts build`  
	npm ERR! spawn ENOENT  
	npm ERR!

* **Daniee** (2)

	
	c√≥mo puedo crear un emulador de un dispositivo m√≥vil, tal y c√≥mo lo tiene Roberto ?

	* **robertomgonzalez** (3)

		
		Para el curso utilic√© [Android Studio](https://developer.android.com/studio/), que tiene emuladores de los celulares m√°s populares (Pixel, Nexus, etc), y es excelente para testear apps.  
		Como √∫nico detalle, hay que tener en cuenta que hay que utilizar ngrok, localtunnel o similar para que todo funcione bien porque tienen una configuraci√≥n de red muy particular.
		
		Para iPhone la principal alternativa es usar el emulador de [XCode](https://developer.apple.com/xcode/), que es muy bueno y es m√°s simple de usar, pero s√≥lo funciona en Mac.

	* **Daniee** (3)

		
		Muchas gracias Roberto ! Eres un gran profesor, me encanta la transparencia y lo sencillo que es seguir tus clases. Ojal√° te vea por m√°s cursos ! Un abrazo üòâ

* **Pamela Cinthya Torres Guti√©rrez** (2)
tengo problemas con lo de manifest, me marca error

	* **Juan David Castro (Platzi)** (1)

		
		üëã ¬°Hola!
		
		ü§î ¬°Mu√©stranos tu error! Sin esa info c√≥mo te ayudamos. üòÖüêõ

* **Carlos Rivas** (2)
¬øAlguien podr√≠a explicar claramente como funciona ngrok? De verdad siento que no logro comprender del todo su funcionalidad.

* **Nestor  de Valais** (2)
cual es el comando en el manifest para agregar el Shortcut ?

	* **.** (3)

		
		Se llama `related_applications`, si quieres saber m√°s informaci√≥n sobre este par√°metro y el manifest en general, la documentaci√≥n de Mozilla es un buen lugar para ello.
		
		<https://developer.mozilla.org/en-US/docs/Web/Manifest>

* **Jorge Mendez Ortega** (1)

	
	Creo que lo mejor para el curso es hacer un ejemplo del SW desde 0 para luego entrar al worbox

* **Filiberto Santill√°n** (1)

	
	Los invito a ver el estado de las PWA‚Äôs en iOS 13  
	.  
	<https://brainhub.eu/blog/pwa-on-ios-13/>

* **Jorge Mendez Ortega** (1)

	
	no me funciona el ejemplo en android y IOS

* **Cristian Caballero** (1)

	
	En las ultimas versiones ya no aparece por default en pantalla ‚ÄúAdd to HomeScreen‚Äù, pero si aparece en las opciones, no necesitas instalar nada extra

* **Andres Roberto Coello Goyes** (1)

	
	Tengo un error al ejecutar npm run start  
	![c.png](https://static.platzi.com/media/user_upload/c-0c1e3b5e-99ce-4e39-929a-e5b2496e442a.jpg)

	* **Byron Miguel Piedrahita Hernandez** (1)

		
		Tengo el mismo problema üò¶

	* **gallardo-ysla-andres** (1)

		
		Alguien logro solucionar esto?

	* **Andres Roberto Coello Goyes** (1)

		
		solo se que el tenia una dependencia llamada sever que nunca lo que conocido, lo que hice es ejecutar npm run build y hacer deploy con now y en https ya funcionaba‚Ä¶ intentalo‚Ä¶

	* **Pamela Cinthya Torres Guti√©rrez** (1)

		
		ok gracias

	* **Cristian Caballero** (1)

		
		Tienes que instalar `serve`
		``` 
		    npm install -g serve
		    
		```
		
		y modificar el `package.json`
		``` 
		    "scripts": {
		        "dev": "react-scripts start",
		        "start": "serve ./build -s -l 5000",
		    
		```

	* **Juan Sebastian Reina** (1)

		
		Me paso lo mismo, para evitar instalar `serve` como dependencia global prueba el siguiente comando:
		``` 
		    npx serve ./build -s -p4000
		    
		```
		
		npx ya viene por defecto con nodejs y permite ejecutar/utilizar las dependecias que se encuentran dentro de la carpeta de `node__modules`

* **Danvasem** (1)

	
	Aunque coloque el tag ‚Äúapple-mobile-web-app-capable‚Äù en ‚Äúno‚Äù igual la aplicaci√≥n en Apple se muestra en pantalla completa, al parecer desde ios12 la prioridad la tiene el archivo manifest.json

* **alexjcm** (1)

	
	En la versi√≥n 73 o superior de Google Chrome ya no sale ning√∫n mensaje cuando accedemos al **<http://localhost:5000>** , simplemente vamos a nuestro emulador de android y abrimos el link que nos proporciona **Ngrok** y ya nos aparecer√° la opci√≥n de _Agregar a la pantalla de inicio_

* **Carlos Rivas** (1)

	
	¬øAlguien podr√≠a explicar claramente como funciona ngrok? De verdad siento que no logro comprender del todo su funcionalidad.

* **Eduardo Rasgado Ruiz** (1)

	
	Donde est√° la imagen del taco?. La icon.png, no la encuentro. A mi no me sale.

	* **Diego Alexander Forero Higuera (Platzi)** (2)

		
		En la pesta√±a de archivos vas a la carpeta public y encuentras el archivo icon.png.

* **Julio J Y√©pez** (1)

	
	El que los **ServiceWorkers** s√≥lo funcionen en modo de producci√≥n tiene que ver con que requieren de forma obligatoria estar alojados en sitios que usan sertificados SSL, es decir con protocolo **https**
	
	Es por razones de confiabilidad y seguridad, ya que las PWAs pueden solicitar permisos que podr√≠an poner en riesgo la privacidad de los usuarios, y Google previene para no ser responsable de ataques Man-in-the-middle, etc.

* **Nestor  de Valais** (1)

	
	cual es el comando en el manifest para agregar el Shortcut ?

	* **.** (3)

		
		Se llama `related_applications`, si quieres saber m√°s informaci√≥n sobre este par√°metro y el manifest en general, la documentaci√≥n de Mozilla es un buen lugar para ello.
		
		<https://developer.mozilla.org/en-US/docs/Web/Manifest>

* **Sergio Minei** (1)
Todo funciona OK, pero NO me muestra la ventanita de ‚Äúadd to self‚Äù. Sin embargo, si lo agrego desde ‚Äúcrear acceso directo‚Äù todo me funcio...

	* **Carlos Andr√©s Cobo Sinisterra** (2)

		
		Me pasa lo mismo man!!! alguien sabe?

* **Julio J Y√©pez** (0)

	
	A partir de Android 8 (oreo), los √≠conos de las PWAs, llevan ese logo peque√±o de Chrome que se ve en el min 7:55, en las versiones anteriores se ve como un √≠cono normal de la misma manera que las apps nativas.

	* **Facundo Nahuel Herrera** (1)

		
		¬øPor que se hizo eso?. Tampoco es que antes se queria enga√±ar al usuario de que era una app nativa cuando no lo era, pero a niveles de UX era lo ideal ya que uno est√° acostumbrado a identificar las apps por el icono de la misma.

## 0060. Implementar el Manifest

### Descripci√≥n:


Para finalizar este m√≥dulo pon a prueba lo aprendido sobre el Web Manifest y Google Lighthouse. Prueba con diferentes colores en el Web Manifest, experimenta con todas las opciones que puedes poner en el documento. En el mundo real, particularmente con proyectos complejos, nuestra PWA vendr√° acompa√±ada de otras aplicaciones m√≥viles por lo cual te servir√° ir practicando con la propiedad ‚Äúrelated_applications‚Äù para vincular dichas aplicaciones.

### Comentarios:

* **adrian-gonzalez** (9)

	
	Agrego para el que le interese.  
	<https://pwa.rocks/>

* **Julio J Y√©pez** (8)

	
	Varios ejemplos de PWAs  
	<https://pwa-directory.appspot.com/>

	* **Oscar Barajas Tavares (Platzi)** (2)
üëå

* **JarlLuis** (2)

	
	Si alguie usa webpackm, webpack-pwa-manifest es un paquete que facilita hacer el manifest al compilar

	* **Manuel Rivera** (1)

		
		Muchas gracias bro, lo necesitaba

* **Jorge Mendez Ortega** (1)

	
	los ejemplos no me funcionan al 100 no hace nada de lo que comentan

* **Pamela Cinthya Torres Guti√©rrez** (1)

	
	eso es genial, he aprendido de macialdo el d√≠a de hoy

* **Orlando Guzman Londo√±o** (1)

	
	descargue el repositorio del proyecto pero no me aparece la opci√≥n de agregar el icono en android , aun esta en funcionamiento el m√©todo que est√°n explicando ?

	* **Diego Alexander Forero Higuera (Platzi)** (2)

		
		Revisa que npm instale las mismas versiones, es probable que en una actualizaci√≥n cambiara algo y por eso no sale la opci√≥n.

# Service Workers

## 0070. ¬øQu√© es un Service Worker

### Descripci√≥n:


Son la caracter√≠stica m√°s importante de una PWA.

Es lo que hace posible que las PWA funcionen, es un script que nuestro navegador corre detr√°s de escena y este no puede tocar el DOM.

Podemos tener control absoluto a nivel red de nuestra aplicaci√≥n gracias a los service workers.

### Comentarios:

* **adrian-gonzalez** (4)

	
	Yo creo bastante acertada la decicion de Safari en limitar a 50MbB, por un lado tenemos esa capacidad, tambien tenemos otros 50MbB de IndexedBD, lo cual ya nos deja 100 y tambien me deja tranquilo que nadie puede llenar mi dico de porqueria, como si lo hace Chrome.

* **Julio J Y√©pez** (4)

	
	Dato clave: los ServiceWorkers son scripts que corren en el navegador pero en background, y NO tiene acceso al DOM de la aplicaci√≥n!

* **Julio J Y√©pez** (3)

	
	Lo que me alivia de Safari, es esa informaci√≥n de un par de clases atr√°s sobre, que s√≥lo el 10% de los usuarios de la web usan Safari.
	
	Eso nos da un poco menos de qu√© preocuparnos, no es que los dejemos por fuera, pero no es tan grave no tener 100% funcional la PWA para Safari. Adem√°s seg√∫n la comunidad de WebKit, est√° en el roadmap de las futuras versiones de Safari, ir aumentando la adopci√≥n de todo lo relativo a ServiceWorkers y PWAs en general.

	* **Danvasem** (1)

		
		Sera solo el 10% pero seg√∫n el publico objetivo de tu app puede llegar a ser un gran diferenciador. Un ejemplo, el a√±o pasado lance una app que inicialmente consideramos suficiente en Android, al menos por los primeros 3 meses, los usuarios de la app era el publico en general pero quien pagaba por la app eran los due√±os de los negocios. Ahora, ac√° en Ecuador el 85% son Android, pero nos topamos que al menos el 50% de los due√±os de los negocios tenian un iPhone, entonces venderles algo que ellos no pod√≠an utilizar al 100% (ya que la alternativa para iOS era usar la web app) nos limitaba en nuestra gesti√≥n de venta. Al final tuvimos que correr para sacar la versi√≥n de iOS lo mas pronto posible.

	* **Leonardo Valencia** (1)

		
		@Danvasem la version de ios la sacaron en una PWA ?

## 0080. Introducci√≥n a Workbox

### Descripci√≥n:


En esta clase vamos a ver como implementar service workers en nuestra aplicaci√≥n.

Los service workers solo funcionan en producci√≥n.

Una recomendaci√≥n siempre que trabajemos con service workers es ir a Clear Storage en la tab de Application de las DevTools, y limpiar la informaci√≥n del sitio. Esto desinstalara todo lo que es cache y limpiara los service workers.

Quienes habr√°n prestado atenci√≥n a la documentaci√≥n de create-react-app habr√°n le√≠do que este incluye un service worker.  
El service worker de Create React App hace algo llamado ‚ÄúSW Precache‚Äú, lo que hace es precargar y dejar disponibles offline todos los archivos necesarios para correr la aplicaci√≥n. Una recomendaci√≥n a la hora de hacer debugging es refrescar el sitio pues un service worker por lo general se inicializa despu√©s de la primera carga.

NUNCA conviene escribir nuestro propio service worker especialmente con herramientas de bajo nivel.

Para implementar nuestro propio service worker usaremos Workbox, una librer√≠a creada por Google para crear Service Workers.

Hay un peque√±o detalle al momento de implementar Workbox en nuestro proyecto y es que estamos yendo en contra de los principios de Create React App y esto solo significa una cosa ‚Äúeject‚Äù, esto nos llenar√≠a de archivos que no nos sirven. Para evitar hacer eject vamos a instalar react-app-rewired y el plugin para webpack de workbox.
``` 
    npm add workbox-webpack-plugin react-app-rewire-workbox react-app-rewired
    
```

### Links:

* [GitHub - timarney/react-app-rewired: Override create-react-app webpack configs without ejecting](https://github.com/timarney/react-app-rewired)

### Comentarios:

* **Julio J Y√©pez** (11)

	
	ADEVERTENCIA:
	
	> _Nunca conviene escribir nuestro propio ServiceWorker, especialmente con herramientas de bajo nivel. Esto no tiene que ver con un tema de confianza, sino con c√≥mo funciona un SW y sobre todo lo qu√© un SW tiene control_  
	>  Una vez que el ServiceWorker se instala en el cliente, el sitio queda fuertemente cacheado c√≥mo est√° y es muy dif√≠cil corregir bugs en este contexto.
	
	RECOMENDACI√ìN:
	
	> Siempre conviene confiar o utilizar alguna herramienta que est√© muy testeada y probada, y que tenga buenas herramientas de testing. Y ‚Ä¶ NO intentar crear nuestros propios Service Workers.
	
	¬°Workbox es un ejemplo de estas herramientas probadas! y es by Google.

	* **Julio J Y√©pez** (2)

		
		Workbox es una librer√≠a hecha por Google para crear ServiceWorkers, y tiene una API f√°cil de usar. Muy bien pensada.

	* **Julio J Y√©pez** (1)

		```
		    npm install react-app-rewired react-app-rewire-workbox workbox-weppack-plugin
		    
		```

	* **Gianfranco Correa** (1)

		
		gracias @jjyepez  
		solo agrego un peque√±o typo:  
		weppack por webpack
		``` 
		    npm install react-app-rewired react-app-rewire-workbox workbox-webpack-plugin```
		    
		```

* **Ramiro Calo** (7)

	
	Buenas!! no s√© si alguno le pas√≥ que cunado limpiaban el cache, refrescaban y pon√≠an la aplicaci√≥n offline chrome mostraba un error y no se ve√≠a la p√°gina.
	
	Si ve√≠an la consola les mostraba el siguiente error
	``` 
	    service-worker.js:11 Uncaught TypeError: workbox.precaching.suppressWarnings is not a function
	        at service-worker.js:11
	    
	    Error during service worker registration: TypeError: Failed to register a ServiceWorker: ServiceWorker script evaluation failed
	    
	    
	```
	
	Si da este problema cuando limpian el cache y como muestra el segundo error, no se registra el service worker por lo tanto no cachea nada.
	
	Leyendo un poco lo que hace el m√©todo suppressWarnings es generar un log de precaching.
	
	En la documentaci√≥n de workbox <https://developers.google.com/web/tools/workbox/reference-docs/latest/workbox.precaching> ya no vi que estuviera ese m√©todo por lo tanto lo coment√© de mi c√≥digo en services-worker.js
	``` 
	    /**
	     * The workboxSW.precacheAndRoute() method efficiently caches and responds to
	     * requests forURLsin the manifest.
	     * See https://goo.gl/S9QRab
	     */
	    
	    // Precarga la app
	    self.__precacheManifest = [].concat(self.__precacheManifest || [])
	    //workbox.precaching.suppressWarnings()
	    workbox.precaching.precacheAndRoute(self.__precacheManifest, {})
	    
	    
	```
	
	a partir de ah√≠ empez√≥ a registrarme el cache sin problemas y cuando dejo la app offline, me muestra el header o lo cacheado en la home.
	
	espero que sirva de algo.
	
	Saludos.

	* **Danvasem** (1)

		
		Excelente! justo tuve el mismo problema y tu ayuda me ahorro mucho tiempo!!

	* **Luis Rodriguez** (1)

		
		gracias, hermano! se agradece tu aporte. üòÑ

* **Eduardo Rasgado Ruiz** (4)

	
	Que gran curso!

* **Andres Roberto Coello Goyes** (3)

	
	Pase 2 horas creando mi service workers‚Ä¶ -_- pero lo logre

* **Julio J Y√©pez** (3)

	
	La manera de limpiar la cach√© y datos residuales para evitar bugs con los ServiceWorkers, es ir al tab de Aplication, a la opci√≥n Clear Storage, y hacer click en el boton Clear Site Data.
	
	Tip importante. Gracias!

* **WilliamVelazquez** (3)

	
	En el caso de que no utilicemos create-react-app y trabajemos con un Framework como Next.js ¬øC√∫al ser√≠a la forma de agregar Workbox? o en ese caso ¬øConviene utilizar alguna otra librer√≠a/biblioteca?  
	Saludos üòÉ

	* **robertomgonzalez** (3)

		
		Para Next el mejor plugin es [next-offline](https://github.com/hanford/next-offline), que utiliza workbox detr√°s de escena.  
		Igualmente aviso que tiene un bug documentado, que es que el app shell (navigationRoute) no funciona bien, as√≠ que solamente funciona offline correctamente si entr√°s a la app por una home sin getInitialProps (o que maneje las requests por IndexedDB o similar).  
		En s√≠ tener soporte offline con server side rendering es bastante rebuscado en general ya que usualmente necesit√°s un storage local de datos adem√°s del manejo de red.

	* **WilliamVelazquez** (1)

		
		Muchas gracias Roberto! Investigar√© m√°s acerca de ello.  
		Saludos.

* **Joel Alejandro Morales Garc√≠a** (3)

	
	Los archivos que vienen en la clase no estan actualizados, alguien sabe si estan en algun repositorio de github, gracias üòÉ

	* **robertomgonzalez** (5)

		
		Tenemos el repo subido en GitHub (Hay un branch por cada clase para que sea m√°s f√°cil de navegar): <https://github.com/Aerolab/platzi-pwa>

	* **Joel Alejandro Morales Garc√≠a** (1)

		
		Muchas gracias profe üòÉ

	* **Nestor  de Valais** (1)

		
		Se podr√°n subir los archivos de que se completan en esta seccion, en el repositorio no se encuentran

* **Adri√°n Rueda** (2)

	
	Si no usamos create-react-app, como podemos hacerlo funcionar?.
	
	Ser√≠a igual?

	* **robertomgonzalez** (3)

		
		Si no usamos CRA es un poco m√°s complejo crearlo ya que hay que registrar y actualizar el Service Worker a mano en JS, pero se puede sin problemas.
		
		Para sitios est√°ticos u otros proyectos se puede utilizar [Workbox CLI](https://developers.google.com/web/tools/workbox/modules/workbox-cli), que si bien es un poco m√°s rebuscado de configurar, nos da acceso a todas las configuraciones avanzadas. Hay un tutorial simple en [Google Developers](https://developers.google.com/web/tools/workbox/guides/generate-service-worker/cli) que aplica a casi cualquier proyecto.

	* **Adri√°n Rueda** (2)

		
		Al final lo que hice fue migrar a create-react-app tard√© pocos minutos. Muchas gracias por tu respuesta!. Me encant√≥ el curso‚Ä¶ üòÑ

	* **Andres Roberto Coello Goyes** (1)

		
		<https://www.youtube.com/watch?v=cY1AFfLhM1E>

* **Cristian Caballero** (2)
QUe hago si no me aparecen los service-worker entre los archivos mostrados en Network?

	* **Juan David Castro (Platzi)** (1)

		
		¬°Hola! ¬øTienes tu c√≥digo publicado en alguna parte? As√≠ sin verlo est√° un poco dif√≠cil ayudarte. üòÖ
		
		Te recomiendo descargar los archivos de la clase y compararlos con los tuyos, as√≠ puedes ver si te falt√≥ algo o escribiste alguna l√≠nea de c√≥digo diferente. üòâ

* **Sim√≥n Neptal√≠ Escobar Guerra** (2)
¬øSe podr√≠a hacer un custom environment de react y usar WorkBox, para evitar usar create-react-app?

* **Adri√°n Rueda** (2)
Tengo el siguiente problema cuando actualizo ‚Äúreact-scripts‚Äù el cual la versi√≥n actual es vulnerable. 

* **Carlos Rivas** (2)
Espec√≠ficamente, ¬øQu√© es lo que hace esta linea?: self.__precacheManifest = [].concat(self.__precacheManifest || []) 

	* **Erika Luna (Platzi)** (1)

		
		El m√©todo almacena y responde en forma eficiente a solicitudes de URL en el manifiesto.

* **WilliamVelazquez** (2)
En el caso de que no utilicemos create-react-app y trabajemos con un Framework como Next.js ¬øC√∫al ser√≠a la forma de agregar Workbox? o en...

	* **robertomgonzalez** (3)

		
		Para Next el mejor plugin es [next-offline](https://github.com/hanford/next-offline), que utiliza workbox detr√°s de escena.  
		Igualmente aviso que tiene un bug documentado, que es que el app shell (navigationRoute) no funciona bien, as√≠ que solamente funciona offline correctamente si entr√°s a la app por una home sin getInitialProps (o que maneje las requests por IndexedDB o similar).  
		En s√≠ tener soporte offline con server side rendering es bastante rebuscado en general ya que usualmente necesit√°s un storage local de datos adem√°s del manejo de red.

* **Jorge Mendez Ortega** (1)

	
	nada de lo que esta en el curso funciona, tal cual es necesario actualizar, de hecho ni el codigo de ejemplo esta al 100 le faltan algunas dependencias que utilizan y no existen jeje,

* **Manuel Rivera** (1)

	
	Ya hace falta actualizar el curso, hay cosas que han cambiado, incluso otras no estan , y nos encontramos con problemas que lleva algo de tiempo solucionar

* **SOFTDYNAMIC** (1)

	
	???
	``` 
	    > platzi-recetas@0.1.0 build C:\Users\Usuario\Documents\prjs\react\platzi-pwa
	    > react-app-rewired build
	    
	    Generating Service Worker
	    Creating an optimized production build...
	    Failed to compile.
	    
	    Cannot read property 'make'ofundefined
	    
	    npm ERR! code ELIFECYCLE
	    npm ERR! errno 1
	    npm ERR! platzi-recetas@0.1.0 build: `react-app-rewired build`
	    npm ERR! Exit status 1
	    npm ERR!
	    npm ERR! Failed at the platzi-recetas@0.1.0 build script.
	    npm ERR! This is probably not a problem withnpm. There is likely additional logging output above.```
	    
	```

	* **Angel Joaqu√≠n Velasco G√≥mez** (1)

		
		Tengo el mismo problema, estoy viendo como solucionarlo.

	* **Angel Joaqu√≠n Velasco G√≥mez** (1)

		
		Es por la version de nodejs, en el trabajo tengo la version 8 y en casa la 10, en casa todo funciono sin problema.

	* **Manuel Rivera** (1)

		
		Utilizo yarn como manejador de paquetes y tambi√©n tengo el mismo problema üé≠

* **Cristian Caballero** (1)

	
	A alguien mas le sucedio que no le aparecen los service-worker entre los archivos mostrados en Network?

	* **nikosantis** (3)

		
		Depende.  
		Yo re hice toda la app con la actual versi√≥n de create-react-app  
		Y por defecto el serviceWorker viene desactivado
		
		`unregister()`
		
		Para activarlo hay que poner:
		
		`serviceWorker.register()`

	* **Javier Fuentes Mora** (2)

		
		es correcto lo que dice @niko la nueva version ay viene todo muy optimizado ,para las PWA

	* **Cristian Caballero** (1)

		
		Lo hice y me aparecio el service worker, pero luego me aparece este error `serviceWorker.js:97 Error during service worker registration: TypeError: Failed to register a ServiceWorker for scope ('http://localhost:5000/') with script ('http://localhost:5000/service-worker.js'): ServiceWorker script evaluation failed`

	* **Manuel Rivera** (1)

		
		Gracias por le dato parceros

* **Sim√≥n Neptal√≠ Escobar Guerra** (1)

	
	¬øSe podr√≠a hacer un custom environment de react y usar WorkBox, para evitar usar create-react-app?

* **Adri√°n Rueda** (1)

	
	Tengo el siguiente problema cuando actualizo ‚Äúreact-scripts‚Äù el cual la versi√≥n actual es vulnerable. <https://nodesecurity.io/advisories/725>  
	Y si lo actualizo, la web deja de funcionar.
	
	npm WARN react-app-rewired@1.6.2 requires a peer of react-scripts@^1.0.14 but none is installed. You must install peer dependencies yourself.

* **Carlos Rivas** (1)

	
	Espec√≠ficamente, ¬øQu√© es lo que hace esta linea?:
	``` 
	    self.__precacheManifest = [].concat(self.__precacheManifest || []) 
	    
	```

	* **Erika Luna (Platzi)** (1)

		
		El m√©todo almacena y responde en forma eficiente a solicitudes de URL en el manifiesto.

	* **Erika Luna (Platzi)** (2)

		
		Aqu√≠ te dejo la documentaci√≥n de Workbox üòÉ <https://developers.google.com/web/tools/workbox/modules/workbox-precaching>

* **kiux** (1)

	
	Espero les sirva
	
	**.unregister()**
	``` 
	    navigator.serviceWorker.getRegistrations().then(function(registrations) {
	        for (letregistrationofregistrations) {
	            registration.unregister();
	        }
	    });
	    
	```
	
	**.update()**
	``` 
	    navigator.serviceWorker.getRegistrations().then(function(registrations) {
	        for (letregistrationofregistrations) {
	            registration.update();
	        }
	    });
	    
	```

## 0090. Implementando Workbox

### Descripci√≥n:


En esta clase vamos a ver como implementar estrategias de carga con Workbox.

El funcionamiento de un service worker por defecto toma una lista de assets para precargarlos y si la ruta coincide exactamente con un asset entonces lo tomara de cache.

Workbox tiene una caracter√≠stica llamada registerNavigationRoute la cual se encarga de hacer el funcionamiento por defecto de un service worker m√°s aparte si encuentra una url que no conoce va a buscar una url, en este caso index.html y que el se encargue de lo que va a mostrar.

Existen diferentes estrategias de carga.  
La primera y fundamental se llama Network Only. Esta se encarga checar si hay conexi√≥n a internet, si existe una conexi√≥n realiza la petici√≥n de informaci√≥n, en caso de no haber conexi√≥n se rompe la p√°gina.

**¬øCu√°ndo usar Network Only?**  
Por defecto si no queremos cache o manejamos informaci√≥n en tiempo real.

Network First es otra estrategia de carga, se encarga mandar la petici√≥n a internet, si la conexi√≥n a internet esta ca√≠da entonces tomara la informaci√≥n que tenga almacenada en cache.

**¬øCu√°ndo usar Network First?**  
Cuando queremos la √∫ltima versi√≥n de un asset y tener soporte offline.

### Links:

* [GitHub - davejm/react-app-rewire-workbox: Customise the service worker for create-react-app apps without ejecting - using Google's Workbox webpack plugins instead of the old sw-precache](https://github.com/davejm/react-app-rewire-workbox)

### Comentarios:

* **Julio J Y√©pez** (9)
![Captura de pantalla de 2018-07-20 19-10-41.png](https://static.platzi.com/media/user_upload/Captura%20de%20pantalla%20de%202018-07-20%2019-10-41-4f6e266b-db0d-4cb3-842c-84964d67c561.jpg) ![Captura de pantalla de 2018-07-20 19-14-24.png](https://static.platzi.com/media/user_upload/Captura%20de%20pantalla%20de%202018-07-20%2019-14-24-07590e67-91c1-4915-8656-53d83936030e.jpg)

	* **Jean Carlos Nu√±ez Hernandez** (1)

		
		Waaao bueno explicacion con ese grafico, esta espectacular

* **Joaquin Araujo** (7)

	
	Algunas anotaciones de inter√©s:
	
	  * **Network Only:** Por defecto. Si hay conexi√≥n a Internet, busca el recurso, si no la hay pues dinosaurio de Chrome.
	  * **Network First:** Es la forma ‚Äúpor defecto‚Äù de manejar el modo Offline de una PWA, intenta buscar en la red alg√∫n recurso, en caso de no tener conexi√≥n lo busca en el cach√© üòÉ
	
	

* **Juan Sebastian Reina** (5)

	
	Actualmente hay otra manera de definir una estrategia por defecto:
	``` 
	    workbox.routing.setDefaultHandler(
	      new workbox.strategies.NetworkFirst(),
	    );
	    
	```
	
	Ahora bien, la que presenta el profesor tambi√©n funciona:
	``` 
	    workbox.routing.registerRoute(
	      /^https?.*/,
	      new workbox.strategies.NetworkFirst()
	    );
	    
	```

* **Julio J Y√©pez** (5)

	
	Para solucionar la situaci√≥n en la que se hace cach√© s√≥lo de los elementos base del home de la app, pero no de las p√°ginas internas, debemos entender un poco y emular lo que hace el par√°metro -s en el script ‚Äústart‚Äù con serve ‚Ä¶
	``` 
	    serve ./build -s -p ${PORT:-5000}
	    
	```
	
	el par√°mtero **-s** lo que hace es: identificar cualquier ruta que no sea un archivo est√°tico, y si no es est√°tico, lo sirve a trav√©s de un archivo **index.html** que es el core de la aplicaci√≥n y es qui√©n va a decidir finalmente si una ruta es v√°lida o no.
	
	En Workbox hay que hacer lo mismo. Se le llama, navigation route.
	``` 
	    workbox.routing.registerNavigationRoute('/index.html')
	    
	```

	* **Carlos Rivas** (2)

		
		Muy genial, creo que si no hubiese visto este comentario me hubiese costado mas aprender el concepto.

* **Hector Jose Flores Colmenarez** (4)

	
	Solo para los que esten por aqui en estos dias. Han ocurrido varios cambios en la forma de usar workbox, les recomiendo leer la documentaci√≥n en:
	
	[Workbox-Strategies](https://developers.google.com/web/tools/workbox/modules/workbox-strategies)
	
	Ahora cuando hacemos un registerRoute debemos instanciar usando new y reescribiendo el m√©todo usando PascalCase.
	
	Por ejemplo:
	
	Usar `NetworkFirst` en vez de `networkFirst`.
	``` 
	    workbox.routing.registerRoute(
	      /^https?.*/,
	      new workbox.strategies.NetworkFirst()
	    );
	    
	```
	
	En el siguiente video, tambien deben tener estos consejos.
	
	Espero les sirva de mucho.

	* **Danvasem** (4)

		
		Es correcto, adicionalmente tambi√©n se debe actualizar la l√≠nea
		
		workbox.routing.registerNavigationRoute(  
		"/index.html"  
		);
		
		por
		
		workbox.routing.registerNavigationRoute(  
		workbox.precaching.getCacheKeyForURL("/index.html")  
		);

* **Jos√© Tuzinkievicz** (3)

	
	Al que le aparezca el siguiente error, es porque a partir de la versi√≥n 4.3 de workbox ya no hace **falta workbox.precaching.suppressWarnings()**  
	![Screenshot from 2019-10-09 10-55-45.png](https://static.platzi.com/media/user_upload/Screenshot%20from%202019-10-09%2010-55-45-bd509fe0-0f83-4765-81ff-b3e081d9fb8f.jpg)

* **jose ortiz** (3)

	
	tengo un problema, el latest.php no me llega por service worker por mas que lo intento‚Ä¶ a alguien le ha pasado lo mismo?

	* **valentina-rua-carrillo** (2)

		
		Me paso lo mismo e implemente lo siguiente y ahora funciona perfectamente.
		``` 
		    // Precarga la app
		    self.__precacheManifest = [].concat(self.__precacheManifest || []);
		    workbox.precaching.precacheAndRoute(self.__precacheManifest, {});
		    
		    // App shell
		    workbox.routing.registerNavigationRoute(
		      workbox.precaching.getCacheKeyForURL('./index.html')
		    );
		    
		    // Todo lo dem√°s usa Network First
		    workbox.routing.registerRoute(
		      new RegExp(/^https?.*/),
		      new workbox.strategies.NetworkFirst(),
		      'GET'
		    );
		    
		```

	* **Le_MaliX** (1)

		
		Aun con los cambios sugeriidos, sigue sin cargar la API por el service worker üòî

* **benitezconzeta** (3)
¬øEs posible modificar las estrategias de carga en las diferentes versiones de la app y que esto sea reconocido autom√°ticamente en el brow...

	* **benitezconzeta** (2)

		
		Quiz√°s para los recursos que pueden modificarse como scripts o css de la app pueden usarse con la estrategia staleWhileRevalidate ¬øEsa puede ser la soluci√≥n?

* **nikosantis** (2)

	
	Que buena clase!!! tantas ideas se me vienen a la cabeza para aplicar!

* **dezkareid** (2)

	
	Les dejo el [offline cookbook](https://jakearchibald.com/2014/offline-cookbook/) de Jake Archibald, es un googler que ha hecho varios materiales acerca de SW, ah√≠ tiene a detalle como funcionan las estrategias de carga

* **benitezconzeta** (2)

	
	¬øEs posible modificar las estrategias de carga en las diferentes versiones de la app y que esto sea reconocido autom√°ticamente en el browser?  
	Por ejemplo, usar en la primer versi√≥n la estrategia networkOnly para un recurso y en la pr√≥xima versi√≥n cacheFirst o visceversa.  
	¬øC√≥mo se actualiza el cache y las modificaciones en el service-worker entre versi√≥n y versi√≥n?

	* **benitezconzeta** (2)

		
		Quiz√°s para los recursos que pueden modificarse como scripts o css de la app pueden usarse con la estrategia staleWhileRevalidate ¬øEsa puede ser la soluci√≥n?

* **benitezconzeta** (2)

	
	¬°Ya lo estoy probando! Me encanta esto de los service-workers

* **Silvio Morales** (2)
Hola, estoy con el tutorial, en este modulo me sale al correr el npm rub build && npm start, el siguiente error: que puede ser? <...

	* **Andres Roberto Coello Goyes** (1)

		
		ejecuta solo npm run build y luego levanta la app. este error pasa por que el profesor esta utilizando otra dependencia‚Ä¶

* **jose ortiz** (2)
tengo un problema, el latest.php no me llega por service worker por mas que lo intento‚Ä¶ a alguien le ha pasado lo mismo?

	* **valentina-rua-carrillo** (2)

		
		Me paso lo mismo e implemente lo siguiente y ahora funciona perfectamente.
		``` 
		    // Precarga la app
		    self.__precacheManifest = [].concat(self.__precacheManifest || []);
		    workbox.precaching.precacheAndRoute(self.__precacheManifest, {});
		    
		    // App shell
		    workbox.routing.registerNavigationRoute(
		      workbox.precaching.getCacheKeyForURL('./index.html')
		    );
		    
		    // Todo lo dem√°s usa Network First
		    workbox.routing.registerRoute(
		      new RegExp(/^https?.*/),
		      new workbox.strategies.NetworkFirst(),
		      'GET'
		    );
		    
		```

* **Jorge Mendez Ortega** (1)

	
	buscando un poco encontre este ejemplo  
	<https://codelabs.developers.google.com/codelabs/workbox-lab/#1>

* **Jorge Mendez Ortega** (1)

	
	realmente nome esta funcionand nada

* **Jorge Mendez Ortega** (1)

	
	por que usan react create app? eso si no me gusto veo que lo comentan mucho en el curso

* **Jorge Mendez Ortega** (1)

	
	En vardad estoy probando el codigo y no me funciona üò¶

* **Jean Carlos Nu√±ez Hernandez** (1)

	
	con esta implementacion de Worbox es muy util para el user final

* **Le_MaliX** (1)

	
	Hola, estoy siguiendop la clase y no importa cu√°nto le mueva no logro hacer que la API cargue en el service worker, anexo el codigo de mi service-worker.js
	``` 
	    // Precarga la app
	    self.__precacheManifest = [].concat(self.__precacheManifest || []);
	    workbox.precaching.precacheAndRoute(self.__precacheManifest, {});
	    
	    // App shell
	    workbox.routing.registerNavigationRoute(
	      workbox.precaching.getCacheKeyForURL('./index.html')
	    );
	    
	    // Todo lo dem√°s usa Network First
	    workbox.routing.registerRoute(
	      new RegExp(/^https?.*/),
	      new workbox.strategies.NetworkFirst(),
	      'GET'
	    );
	    
	```
	
	¬øAlguien puede ayudarme?

* **Carlos Stiwar Asprilla Mosquera** (1)

	
	Hola, estoy teniendo problemas al hacer el build de la app y me sale este error, cual puede ser la solucion?
	``` 
	    npm run build && npm start
	    
	    > platzi-recetas@0.1.0build /home/stiwar/Stiwar A'/ReactJS Platzi/platzi-
	    pwa-master
	    > react-app-rewired build
	    
	    internal/modules/cjs/loader.js:775
	        throw err;
	        ^
	    
	    Error: Cannot find module '/home/stiwar/Stiwar A'/ReactJS Platzi/platzi-pw
	    a-master/config-overrides'
	    Require stack:
	    - /home/stiwar/Stiwar A'/ReactJS Platzi/platzi-pwa-master/node_modules/react-app-rewired/config-overrides.js
	    - /home/stiwar/Stiwar A'/ReactJS Platzi/platzi-pwa-master/node_modules/react-app-rewired/scripts/build.js
	        atFunction.Module._resolveFilename (internal/modules/cjs/loader.js:772:15)
	        atFunction.Module._load (internal/modules/cjs/loader.js:677:27)
	        atModule.require (internal/modules/cjs/loader.js:830:19)
	        at require (internal/modules/cjs/helpers.js:68:18)
	        atObject.<anonymous> (/home/stiwar/Stiwar A'/ReactJS Platzi/platzi-pwa-master/node_modules/react-app-rewired/config-overrides.js:5:18)
	        at Module._compile (internal/modules/cjs/loader.js:936:30)
	        at Object.Module._extensions..js (internal/modules/cjs/loader.js:947:10)
	        at Module.load (internal/modules/cjs/loader.js:790:32)
	        at Function.Module._load (internal/modules/cjs/loader.js:703:12)
	        at Module.require (internal/modules/cjs/loader.js:830:19) {
	      code: 'MODULE_NOT_FOUND',
	      requireStack: [
	        "/home/stiwar/Stiwar A'/ReactJS Platzi/platzi-pwa-master/node_modules/react-app-rewired/config-overrides.js",
	        "/home/stiwar/Stiwar A'/ReactJS Platzi/platzi-pwa-master/node_modules/react-app-rewired/scripts/build.js"
	      ]
	    
	```

	* **Byron Miguel Piedrahita Hernandez** (3)

		
		Revisa donde hiciste el config-overrides.js el cual va en la raiz del proyecto y el service-worker.js va en la carpeta src

	* **Carlos Stiwar Asprilla Mosquera** (2)

		
		Gracias, problema solucionado üòÑ

* **Silvio Morales** (1)

	
	Hola, estoy con el tutorial, en este modulo me sale al correr el npm rub build && npm start, el siguiente error:
	
	que puede ser?
	``` 
	    Error: Cannot find module '/home/smorales/Documentos/Proyectos/pwa-platzi/platzi-pwa/config-overrides'
	        at Function.Module._resolveFilename (internal/modules/cjs/loader.js:668:15)
	        at Function.Module._load (internal/modules/cjs/loader.js:591:27)
	        at Module.require (internal/modules/cjs/loader.js:723:19)
	        at require (internal/modules/cjs/helpers.js:14:16)
	        at Object.<anonymous> (/home/smorales/Documentos/Proyectos/pwa-platzi/platzi-pwa/node_modules/react-app-rewired/config-overrides.js:5:18)
	        at Module._compile (internal/modules/cjs/loader.js:816:30)
	        at Object.Module._extensions..js (internal/modules/cjs/loader.js:827:10)
	        at Module.load (internal/modules/cjs/loader.js:685:32)
	        at Function.Module._load (internal/modules/cjs/loader.js:620:12)
	        at Module.require (internal/modules/cjs/loader.js:723:19)```
	    
	```

	* **Andres Roberto Coello Goyes** (1)

		
		ejecuta solo npm run build y luego levanta la app. este error pasa por que el profesor esta utilizando otra dependencia‚Ä¶

* **Joaquin Araujo** (1)

	
	Estrategias de carga: Network Only y Network First

## 0100. Aplicando Estrategias de Carga

### Descripci√≥n:


En esta clase vamos a analizar diferentes estrategias de carga, veremos sus ventajas y desventajas.

‚Ä¢ Cache First.

Es una estrategia de carga que lo primero que hace es ir al cache y si encuentra el recurso lo sirve directamente. En caso de no encontrarlo va a ir a red, guardar la informaci√≥n en cache y servir esa versi√≥n.

Esta estrategia puede ser peligrosa y solo es recomendable cuando queremos m√°xima velocidad y estamos manejando un recurso que nunca cambia, como una imagen o alguna fuente.

‚Ä¢ Stale While Revalidate

Esta es una estrategia de carga muy particular y que mejor funciona a la hora de mejorar el rendimiento. Lo que hace es ir a cache y a red al mismo tiempo, toma la versi√≥n m√°s r√°pida que siempre ser√° la de cache y en cuanto recibe la de red va a actualizar la versi√≥n de cache.

Es recomendable esta estrategia cuando queremos mucha velocidad y estamos manejando un recurso que puede estar levemente desactualizado.  
Al momento de escribir nuestras estrategias en Workbox SI IMPORTA el orden en que pongamos las cosas, si queremos una estrategia o regla por defecto debemos poner esa regla hasta el final de todo.

### Comentarios:

* **esdraspavon** (4)
![cache_first.png](https://static.platzi.com/media/user_upload/cache_first-d5eda965-d881-482a-b35e-eb9b257d0e24.jpg) ![stale_while_revalidate.png](https://static.platzi.com/media/user_upload/stale_while_revalidate-10e9aacd-3ef4-4566-bb33-2d18a6731020.jpg)

* **Joaquin Araujo** (3)

	
	Algunas anotaciones de inter√©s:
	
	  * **Cache First:** Primero busca el recurso en cach√©, en caso de no encontrarlo va a la red, lo trae, lo guarda en cach√© y nos lo sirve desde el cach√©. Con esto no sale nuevamente a la red a menos que sea eliminado del cach√©. Esta estrategia puede ser peligrosa, con este tipo de estrategias se deben cachear cosas que no cambiar√≠an (normalmente) con el pasar del tiempo, como por ejemplo: Fuentes, Im√°genes, Est√°ticos.
	  * **Stale While Revalidate:** Va a la chach√© y a la red al mismo tiempo, es obvio que cach√© ser√° m√°s r√°pido, por eso trae primero el recurso desde el cach√© pero al regresar de la red con una actualizaci√≥n de dicho recurso lo guarda en cach√© y actualiza la UI.
	
	

* **Oscar Fern√°ndez del Amo** (2)
Hay algo qe se pudiera hacer con una aplicaci√≥n con llamadas POST? Si cacheo llamadas de este tipo se realizar√°n cuando la aplicaci√≥n ten...

	* **tecnox** (1)

		
		Teoricamente POST es para enviar recursos al servidor, no estoy seguro que quisieras ‚Äòcachear‚Äô en ese escenario

* **Wilson Marino Pablo Mendez** (1)

	
	Probe la app en mi movil fisico y todo funciona bien.

* **Byron Miguel Piedrahita Hernandez** (1)

	
	Nose porque me esta dando este error service-worker.js:11 Uncaught TypeError: workbox.precaching.suppressWarnings is not a function  
	at service-worker.js:11

* **jesusmurf** (1)

	
	Estrategia: Stale While Revalidate

	* **Luis Miguel Rodriguez** (1)

		
		Grande jesus üòÉ espero hables mas de react en tus streams de twitch

* **Luis Rodriguez** (1)

	
	Service Workers necesitan una conexi√≥n encriptada. Si ya tienes un server relativamente econ√≥mico, puedes utilizar "Let's encrypt" para poder tener un HTTPS.

* **fernandolc** (1)

	
	se puede crear un workbox con firebase para las consultas que se hacen en tiempo real, obviamente quitando el tiempo real.

	* **Eduardo Hidalgo D√≠az Rugama** (2)

		
		no se a que te refieres con ‚Äúworkbox‚Äù. firebase tiene un feature llamado ‚ÄúCloud Functions‚Äù que podr√≠a acercarse muy fuerte a los serviceWorkers.

* **Oscar Fern√°ndez del Amo** (1)

	
	Hay algo qe se pudiera hacer con una aplicaci√≥n con llamadas POST? Si cacheo llamadas de este tipo se realizar√°n cuando la aplicaci√≥n tenga conexi√≥n a internet?

	* **tecnox** (1)

		
		Teoricamente POST es para enviar recursos al servidor, no estoy seguro que quisieras ‚Äòcachear‚Äô en ese escenario

	* **Osmell Caicedo** (1)
Existe el Background Sync en el API que creo es lo que funcionar√≠a en este caso

* **Joaquin Araujo** (1)

	
	Estrategias de carga: Cache First

* **fernandolc** (1)
se puede crear un workbox con firebase para las consultas que se hacen en tiempo real, obviamente quitando el tiempo real.

	* **Eduardo Hidalgo D√≠az Rugama** (2)

		
		no se a que te refieres con ‚Äúworkbox‚Äù. firebase tiene un feature llamado ‚ÄúCloud Functions‚Äù que podr√≠a acercarse muy fuerte a los serviceWorkers.

* **jsechirinos** (0)

	
	 **Importante Recordar**  
	El orden de las reglas en `service-worker.js` es importante  
	`La primera que se matchea` es la que afecta y el resto se anula.  
	la regla por defecto siempre al final de todo. (en este caso el network first)

## 0110. Google Analytics Offline

### Descripci√≥n:


En esta clase vamos a implementar Google Analytics con soporte offline en nuestra aplicaci√≥n.

Como primer paso debemos incorporar react-ga, un plugin que nos permite correr Google Analytics dentro de React.

Para unir nuestro plugin a la historia de React Router la mejor opci√≥n es incorporarlo dentro de la historia de la aplicaci√≥n cambiando el BrowserRouter por un Router com√∫n, creamos un nuevo history para poder extender los m√©todos del Router, y que cada vez que el usuario cambie de pagina haga tracking de una page view.

Si tienes alg√∫n AdBlocker desact√≠valo cuando est√©s desarrollando tu sitio para que evitar que bloque√© Google Analytics.

Workbox ya cuenta con un m√©todo para facilitar que Google Analytics funcione de forma offline, va a capturar todas las peticiones que hagamos a GA, las va a guardar en memoria y cuando el usuario retome la conexi√≥n a internet se enviaran las peticiones.

### Comentarios:

* **WilliamVelazquez** (3)
Si estoy utilizando next-offline para una PWA con NextJS ¬øC√≥mo debo indicar que hago el trackeo cuando estoy offline (lo equivalente a es...

	* **Javier Fuentes Mora** (3)

		
		Que pregunton

* **Baltazar Ortega** (2)

	
	porque no aparece analytics.js en modo produccion?

* **WilliamVelazquez** (2)

	
	Si estoy utilizando next-offline para una PWA con NextJS ¬øC√≥mo debo indicar que hago el trackeo cuando estoy offline (lo equivalente a esta clase en el archivo service-worker.js al agregar el initialize)?

	* **Javier Fuentes Mora** (3)

		
		Que pregunton

	* **WilliamVelazquez** (2)

		
		jajaja xD ya te hab√≠as tardado en tomar el curso üòõ

	* **Javier Fuentes Mora** (2)

		
		mas vale tarde que nunca

	* **WilliamVelazquez** (1)

		
		Jejeje cierto! üòâ

* **Joaquin Araujo** (2)

	
	  * `yarn add react-ga`
	  * `import ReactGA from 'react-ga'`
	  * `import { createBrowserHistory } from 'history'`
	  * `window.location.pathname + window.location.search`
	  * `ReactGA.initialize('UA-000000-01')`
	  * `workbox.googleAnalytics.initialize()`
	
	

* **Eduardo Rasgado Ruiz** (2)

	
	Porqu√© el analytics.js no aparece en modo producci√≥n, solo en dev, pero al ponerlo en workbox y ponerlo en producci√≥n aparece un workbox-google-analytics.dev.js. Se que es evidente que ese workbox analytics sea de lo que hicimos en service-worker pero porque ya no analitycs.js y porque este otro no en produccion? Help me please.

* **Eduardo Rasgado Ruiz** (2)

	
	En donde se mete el ID en ReactGA.initialize(‚ÄòID‚Äô) debo de meter el id que me da google analitycs al crear mi cuenta y un nuevo seguimiento??.

	* **tecnox** (1)

		
		si

* **WilliamVelazquez** (2)
¬øCu√°l ser√≠a la forma correcta de implementar lo visto en esta clase si no estoy ocupando React Router (Estoy trabajando con NextJs y ocup...

	* **Cristihan Albarran** (1)

		
		eso mismo estaba pensando, tocara leer bien la documentacion!

* **Jorge Mendez Ortega** (1)

	
	pero que pasa su no quiero usar react lo quiero generar directo con workbox

* **WilliamVelazquez** (1)

	
	¬øCu√°l ser√≠a la forma correcta de implementar lo visto en esta clase si no estoy ocupando React Router (Estoy trabajando con NextJs y ocupo el Link que trae por default)?

	* **Cristihan Albarran** (1)

		
		eso mismo estaba pensando, tocara leer bien la documentacion!

* **Oscar Fern√°ndez del Amo** (1)

	
	Alguien sabe si esto funciona igual con google tag manager?

## 0120. Experimentar con Workbox

### Descripci√≥n:


Para que experimentes con las diferentes estrategias de carga que ofrece workbox realiza el siguiente reto:

  1. 
```       Las im√°genes deben tener una estrategia Cache First.
    
```

  2. 
```       Las im√°genes guardadas en cache deben tener un vencimiento de 1 semana.
    
```

  3. 
```       Probar Plugins y Estrategias.
    
```




### Comentarios:

* **Hector Jose Flores Colmenarez** (10)

	
	Mi solucion, espero les sea de ayuda.
	``` 
	    workbox.routing.registerRoute(
	      /^https?:\/\/www.themealdb.com\/images\/.*/,
	      new workbox.strategies.CacheFirst({
	        cacheName: 'image-cache',
	        plugins: [
	          new workbox.expiration.Plugin({
	            maxAgeSeconds: 7 * 24 * 60 * 60,
	            maxEntries: 20
	          })
	        ]
	      })
	    )
	    
	```

* **lucasmoyano.ar Moyano** (2)
Mmm y si tengo que crear, modificar y eliminar entidades estando offline y despu√©s persistir cuando est√© online... ¬øCu√°l ser√≠a la mejor e...

	* **lucasmoyano.ar Moyano** (1)

		
		Me autorespondo jeje‚Ä¶ Estuve investigando mucho acerca de este tema‚Ä¶ Se me hizo bastante complejo, pero encontr√© una soluci√≥n bastante simple.  
		Actualmente lo estoy solucionando de la siguiente forma‚Ä¶  
		En las entidades que quiero que funcionen offline, en vez de utilizar un id autoincrement en la base de datos, utilizo UUID.  
		De esta forma puedo crear los ids desde el frontend sin problemas.  
		Despu√©s, a la hora de hacer un post requests, voy almacenando todas las request en un array en LocalStorage‚Ä¶ devolviendo una respuesta mockeada‚Ä¶ y cuando vuelve la conexi√≥n a internet ejecuto todos las request en el orden en que fueron almacenadas‚Ä¶  
		La verdad esto me esta funcionando muy bien y me esta cubriendo casi todos los casos.

* **Brian Bentancourt** (2)
hola, en mi aplicacion react estoy uttilizando leaflet y hace llamadas http, por lo que workbox me da errores y no carga las urls. Como p...

* **Brian Bentancourt** (1)

	
	hola, en mi aplicacion react estoy uttilizando leaflet y hace llamadas http, por lo que workbox me da errores y no carga las urls. Como puedo solucionarlo?

* **Eduardo Rasgado Ruiz** (1)

	
	Con la nueva ley europea no hay un aviso especial para nuestros usuarios para decirles que les estamos trackeando con service workers y google analytics? O va implicito en el aviso de las coockies?

	* **Diego Alexander Forero Higuera (Platzi)** (3)

		
		Tienes que informar que datos recolectas ademas dar la opci√≥n de que borren toda su informaci√≥n del sistema.

# Funcionalidades Avanzadas

## 0130. Web Share API

### Descripci√≥n:


Web Share API es una API reciente de Android que nos permite usar el Share nativo del sistema operativo.

Para implementarlo hay que tener presente que solo funcionara si hacemos click a alg√∫n link, esto es una medida de precauci√≥n para que nadie abuse de la API oblig√°ndonos a tener que compartir algo que no queremos. Adem√°s, Web Share API por el momento solo funciona en Android as√≠ que tenemos que detectar si tenemos la caracter√≠stica para poder usarla.

Web Share API solamente funciona con HTTPS.

### Links:

* [Navigator.share - Web APIs | MDN](https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share)

* [ngrok - secure introspectable tunnels to localhost](https://ngrok.com)

### Comentarios:

* **Wilson Marino Pablo Mendez** (3)

	
	Excelente curso!

* **jesusmurf** (3)

	
	Parece ser que a d√≠a de hoy Web Share API ya funciona en iOS
	
	<https://caniuse.com/#feat=web-share>

	* **Wilson Marino Pablo Mendez** (1)

		
		QUE BIEN!!

* **SOFTDYNAMIC** (2)

	
	Good tool

* **Andres Roberto Coello Goyes** (2)

	
	si te muestra error en el share, revisa que navegadores soporta este metodo.  
	en: <https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share>

* **Eduardo Rasgado Ruiz** (2)

	
	Para testear por https la web share api podemos usar ngrok, el software recomendado en clases anteriores.

* **Carlos Rivas** (2)
En mi propio tel√©fono (Moto G4 Plus) me arroja el mensaje de que no puedo compartir‚Ä¶ ¬øQu√© me falta? üò¶

	* **lautaumpierrez** (1)

		
		Eso te ocurre por que la pagina est√° siendo accedida de forma insegura, intenta ingresando a la app por medio de certificado ssl (<https://dominio>), a mi me ocurri√≥ lo mismo y lo solucion√© de esta forma.

* **Manuel Rivera** (1)

	
	Brutal‚Ä¶

* **Jean Carlos Nu√±ez Hernandez** (1)

	
	web share suma valor y funcionalidad para los usuarios

* **Carlos Rivas** (1)

	
	En mi propio tel√©fono (Moto G4 Plus) me arroja el mensaje de que no puedo compartir‚Ä¶ ¬øQu√© me falta? üò¶

	* **lautaumpierrez** (1)

		
		Eso te ocurre por que la pagina est√° siendo accedida de forma insegura, intenta ingresando a la app por medio de certificado ssl (<https://dominio>), a mi me ocurri√≥ lo mismo y lo solucion√© de esta forma.

	* **Victor Martin Ortiz Palacio** (1)

		
		Este metodo no esta disponible para todos los navegadores, puedes revisar en el enlace que nos dejaron hacia la pagina de MDN los que tiene soporte de esta funcion, como por ejemplo chrome para android.

## 0140. Trabajando Offline

### Descripci√≥n:


Vamos a mejorar la UX para que nuestro usuario tenga una respuesta visible de que se encuentra offline.

La forma de saber si la aplicaci√≥n esta offline u online es a trav√©s de una variable llamada Navigator.onLine, algo muy importante a tener en cuenta es que la variable nos va a decir que estamos online siempre y cuando no estemos offline lo cual significa que si el usuario tiene mala conexi√≥n a internet igual va a marcar como online.

La forma correcta de checar si el navegador esta online u offline es con dos eventos que se a√±aden a window, ‚Äúoffline‚Äù y ‚Äúonline‚Äù.

### Comentarios:

* **Andr√©s Mauricio Montoya S√°nchez** (11)

	
	Para los que quieren estar un poco m√°s actualizados, este es el c√≥digo de componente `<IsOffline />` basado en Hooks.
	``` 
	    import React, { memo, useState, useEffect } from"react";
	    
	    const isOffline = ({ children }) => {
	      const [online, setOnline] = useState(navigator ? navigator.onLine : true);
	    
	      useEffect(() => {
	        if (!window) return;
	    
	        window.addEventListener("online", goOnline);
	        window.addEventListener("offline", goOffline);
	    
	        return () => {
	          window.removeEventListener("online", goOnline);
	          window.removeEventListener("offline", goOffline);
	        };
	      });
	    
	      functiongoOnline() {
	        setOnline(true);
	      }
	    
	      functiongoOffline() {
	        setOnline(false);
	      }
	    
	      if (online) {
	        returnnull;
	      }
	    
	      return<span>{children}</span>;
	    };
	    
	    exportdefault memo(isOffline);
	    
	    
	```

	* **alexjcm** (1)

		
		Genial, gracias

* **Carlos Rivas** (2)
¬øY en el caso de que se este usando SSR? ¬øC√≥mo se bindearian los eventos al inicializarse el componente? ¬øO c√≥mo se detectar√≠a el cambio?

* **Juan Carlos Sulbaran** (1)

	
	entre los archivos de la clase no est√° el componente IfOffline que se creo

	* **JarlLuis** (1)

		
		escribelo

* **amir-schneider** (1)

	
	como se manipula ese html

* **amir-schneider** (1)

	
	wowoooow

* **Carlos Rivas** (1)

	
	¬øY en el caso de que se este usando SSR? ¬øC√≥mo se bindearian los eventos al inicializarse el componente? ¬øO c√≥mo se detectar√≠a el cambio?

* **Fernando Salazar** (1)

	
	Tambien pudo haber creado una funci√≥n ‚ÄòsetOnlineStatus‚Äô que recibiese un valor true o false para actualizar el estado del componente
	``` 
	    	setOnlineStatus = status = () => this.setState({ onLine: status })
	    
	```
	
	Y en el componentDidMount seria algo tipo
	``` 
	    	window.addEventListener('online', this.setOnlineStatus(true));
	    
	```
	
	Respectivamente igual para los demas.
	
	PD: Qu√© fuente esta usando en el vscode?

## 0150. Notificaciones

### Descripci√≥n:


Una de las funcionalidades m√°s populares de las PWA son las Notificaciones.

Hay que tener en cuenta que, si el usuario apenas entra a nuestro sitio y le aparece un mensaje para permitir las notificaciones esto est√° afectando la UX, por lo cual debemos darle un contexto de porque le vamos a enviar notificaciones a nuestro usuario.

Existen tres tipos de permiso para las notificaciones:

‚Ä¢ Estado por defecto: no sabemos si podemos enviar notificaciones o no, aqu√≠ es donde debemos preguntarle al usuario si quiere recibir las notificaciones.  
‚Ä¢ Granted: el usuario ha concedido el permiso.  
‚Ä¢ Denied: directamente no podemos enviar las notificaciones.

Primero que nada, debemos preguntar si nuestro navegador puede mandar notificaciones. Para ello vamos a checar si hay un objeto Notification en window y un Service Worker en el navegador, esto es as√≠ debido a que en Android necesitamos un Service Worker para que las notificaciones funcionen. En iOS no hay soporte para notificaciones.

### Comentarios:

* **Gianfranco Correa** (6)

	
	Muy bueno el curso, solo me quedo una duda.  
	veo que al cerrar el servidor de producci√≥n y volver a abrirlo, la √∫nica forma de ver los cambios es borrando el cache.  
	Esto es un problema para la UX, hay alguna forma para manejar esta situaci√≥n?

	* **Daniel Esteves** (2)

		
		Precisamente porque se te instal√≥ el service-worker y debes borrar el cach√© para que se actualice a los nuevos cambios

* **Maikol Pedroza** (2)
Holi

* **Gianfranco Correa** (2)
Muy bueno el curso, solo me quedo una duda. veo que al cerrar el servidor de producci√≥n y volver a abrirlo, la √∫nica forma de ver los cam...

	* **Daniel Esteves** (2)

		
		Precisamente porque se te instal√≥ el service-worker y debes borrar el cach√© para que se actualice a los nuevos cambios

* **Jean Carlos Nu√±ez Hernandez** (1)

	
	Para notificacion tenemos que tener un service worked

* **Byron Miguel Piedrahita Hernandez** (1)
Excelente el Curso pero despu√©s de investigar cambios en la forma del c√≥digo no pude comprobar la navegaci√≥n Offline y el navegador de Ch...

## 0160. Publicando la app

### Descripci√≥n:


Antes de publicar nuestro proyecto en Github no olvides escribir un buen Readme, aseg√∫rate de incluir un link funcional de la aplicaci√≥n. Para poner en producci√≥n nuestro proyecto usaremos now. Si quieres profundizar en now puedes checar [el curso que tenemos en Platzi](https://platzi.com/clases/deploy-now/).

Now nos permite llevar a producci√≥n hasta proyectos que incluyen Docker, tambi√©n tenemos un [curso muy bueno en Platzi](https://platzi.com/clases/docker/).

Felicitaciones, con esto has terminado el curso de PWA con React. Hay que tener en cuenta a fin de este curso es que todos nuestros usuarios est√°n en mobile, por ello te recomiendo dos cursos m√°s:

‚Ä¢ [Curso de Dise√±o de Interfaces M√≥viles](https://platzi.com/clases/interfaces-moviles/)  
‚Ä¢ [Curso de Next.js](https://platzi.com/clases/next-js/)

No olvides de tomar el examen de este curso.

### Comentarios:

* **jsechirinos** (3)

	
	 **Excelente Curso**  
	Me hubiera encantado m√°s contenido en las ( Notificaciones ), pero eso lo dejare como un reto.
	
	Aqui mi deploy en now: [Platzi Recetas](https://platzi-recetas-nyjjgeymby.now.sh)

	* **jsechirinos** (1)

		
		Y aqu√≠ esta el Repo con el Readme =)  
		[Platzi Recetas PWA](https://github.com/JoseChirinos/recipe-react-pwa)

* **Luis Rodriguez** (2)

	
	Para los que est√©n tomando el curo desde que sali√≥ NOW V2, uno debe crear un archivo que se llama ‚Äúnow.json‚Äù
	
	sigan estas instrucciones: <https://github.com/zeit/now-examples/tree/master/create-react-app>

* **Ricardo Medina** (2)

	
	Gracias por el curso muy bien explicado. Le echare un vistazo a lo de las notificaciones push en el curso de PWA con Angular para tener un referencia. Saludos

* **Sergio Minei** (2)

	
	Muy buen curso!
	
	Les dejo un resumen que hice del curso **[aqu√≠](https://github.com/MineiToshio/CursosPlatzi/tree/master/Curso%20de%20Progressive%20Web%20Apps%20con%20React.js)**.  
	Pueden ver mi lista de res√∫menes **[aqu√≠](https://github.com/MineiToshio/CursosPlatzi)**.
	
	Les dejo mi **[repo del proyecto](https://github.com/MineiToshio/Platzi-Recetas)**.
	
	Aqu√≠ est√° el **[despliegue de la app](https://platzirecetas.now.sh/)**.

* **Eduardo Rasgado Ruiz** (2)

	
	Un curso muy interesante, pasos clave para volverse un React developer serio. Gracias Roberto!

* **Jhon Alexander Perez Valencia** (2)
cuando publico la App y miro la url que me genera carga una pagina en blanco. si abro el inspector de elementos me muestra los siguientes...

	* **Andres Roberto Coello Goyes** (2)

		
		Bueno el mensaje es que tienes un error de sintaxis en tu c√≥digo, tambi√©n pasa si implementaste mal alguna funci√≥n o m√©todo que forme parte de react

* **Jose Luis Campos Bautista** (1)

	
	Comparto algunas notas tomadas en el curso, igual y les sirve. [Notas](https://github.com/bautistaj/notes/blob/master/FRONT_END/REACT/PWA/note.md)

* **SOFTDYNAMIC** (1)

	
	I liked the course, great !

* **Oscar Lozano** (1)

	
	README xd

* **Jhon Alexander Perez Valencia** (1)

	
	cuando publico la App y miro la url que me genera carga una pagina en blanco.  
	si abro el inspector de elementos me muestra los siguientes errores.  
	<https://imgur.com/zwYbc30>  
	![error](https://i.imgur.com/zwYbc30g.png)  
	por que pasa?

	* **Andres Roberto Coello Goyes** (2)

		
		Bueno el mensaje es que tienes un error de sintaxis en tu c√≥digo, tambi√©n pasa si implementaste mal alguna funci√≥n o m√©todo que forme parte de react

* **alexjcm** (1)

	
	Genial, excelente curso

* **esdraspavon** (1)

	
	Muy buen curso!!

* **Eduardo Rasgado Ruiz** (1)

	
	Publiqu√© mi app:
	
	[Recetuki](https://platzi-recetas-disawzxtgs.now.sh/)  
	Una duda: donde cambio el nombre que va a estar en mi url?**  
	Gran curso!

	* **Juan Luis Rojas Le√≥n** (2)

		
		Para que tu URL sea personalizada puedes usar el comando:
		``` 
		    now alias https://url-con-hash-feo.now.sh https://url-cool.now.sh
		    
		```
		
		[Puedes ver la documentaci√≥n oficial](https://zeit.co/docs/features/aliases)

	* **Eduardo Rasgado Ruiz** (1)

		
		Gracias bro!

* **Eduardo Rasgado Ruiz** (1)

	
	Si les da error por tama√±o de archivo mayor a 5 MB al subir a Now, solo borren su carpeta .readme-static, la eliminacion de la screenshot puede salvarles la vida.

	* **Ricardo Medina** (1)

		
		Pueden comprimir la imagen en [tinypng](https://tinypng.com/) Saludos‚Ä¶

