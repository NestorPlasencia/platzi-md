[Curso de SQL en Azure 1706](https://platzi.com/cursos/sql-azure)

# Introducci√≥n [4630]

## 0010. Introducci√≥n a SQL Azure [23118](https://platzi.com/clases/1706-sql-azure/23118-introduccion-a-sql-azure/)

### Descripci√≥n:


Aprende m√°s en el Curso de SQL en Azure: <https://platzi.com/sqlaz>  
Adquiere hoy tu suscripci√≥n a Platzi: <https://platzi.com/precios>

En esta clase el profesor Amin Espinoza nos explica qu√© es y c√≥mo funciona Azure SQL, un servicio de base de datos heredado de SQL Server, pero que ahora tenemos disponible en forma de Plataforma como Servicio.

Al trabajar con Plataformas como Servicio nos encargarnos √∫nicamente de construir nuestras aplicaciones y obtener nuestros datos cuando los necesitamos. Dejamos de lado la infraestructura, administraci√≥n del servidor, mantenimiento de hardware, instalaciones y actualizaciones. Adem√°s, siempre estaremos con la versi√≥n m√°s actualizada y disponibilidad de hasta 99.9%.

### Comentarios:

* **jousalas** (2) [785956](https://platzi.com/comentario/785956/) 

	Genial este curso

* **Luis Garcia** (2) [762288](https://platzi.com/comentario/762288/) 

	excelente estaba esperando el curso

* **Jonattan_Infante** (2) [760740](https://platzi.com/comentario/760740/) 

	¬øCual es la diferencia entre Google SQL y Azure SQL?

	* **Nestor Cepeda (Platzi)** [760740] (3)

		Hola Jonattan aqu√≠ [podr√≠as](https://www.itcentralstation.com/products/comparisons/google-cloud-sql_vs_sql-azure) ver una tabla de comparaci√≥n.

	* **Jonattan_Infante** [760740] (3)

		Gracias, Amigo

* **Christian David S√°nchez** (2) [758369](https://platzi.com/comentario/758369/) 

	Estaba esperando con ansias este curso. üòé

* **dbzdavidbaez** (1) [1021447](https://platzi.com/comentario/1021447/) 

	A seguir aprendiendo Sql Azure

* **Cristian Antony Soncco Boza** (1) [998980](https://platzi.com/comentario/998980/) 

	Aqu√≠ vamos! formalizando mi actualizaci√≥n‚Ä¶

* **claudiomorales** (1) [829153](https://platzi.com/comentario/829153/) 

	Este curso es Buen√≠simo!

* **Emmanuel Rodr√≠guez Ram√≠rez** (1) [81614](https://platzi.com/comentario/985351/) 
¬øPor qu√© West US y no South US?

	* **Isaac Lugo** [81614] (2)

		supongo que estaba en san Francisco cuando grabo el curso

# Crear Bases de datos [4629]

## 0020. Creando la Base de Datos en Azure SQL [23117](https://platzi.com/clases/1706-sql-azure/23117-creando-la-base-de-datos-en-azure-sql/)

### Descripci√≥n:


### Comentarios:

* **sergioale75** (5) [766508](https://platzi.com/comentario/766508/) 

	Minuto 2:58 quedo mal la edici√≥n se escucha el detras de escena.

* **Christian David S√°nchez** (3) [775845](https://platzi.com/comentario/775845/) 

	Pasos para crear un server y una BD en SQL Azure  
	-Crear un recurso  
	-B√∫squeda AzureSQL  
	-Haga clic en Crear bases de datos SQL  
	-Crear un recurso grupal  
	-Crear Servidor (Nombre, Autenticaci√≥n)  
	-Crear base de datos  
	-Si trabajo con un proyecto webApi, debo hacer clic en Permitir accesos de Azure  
	-Necesito nombrar la base de datos

* **Claudio Pedalino** (2) [841789](https://platzi.com/comentario/841789/) 

	Si bien la suscripci√≥n es gratuita, al crear una base de datos me estima un coste mensual, alguien sabe si es gratuita la creaci√≥n de una db de prueba?

* **ju2ank** (2) [814480](https://platzi.com/comentario/814480/) 

	Si llego a dar clic en crear dice que el costo estimado va ser de 18.15 USD al mes. Si tengo una suscripci√≥n de evaluaci√≥n gratuita esa valor me lo cobran?

* **alexgv04** (1) [898537](https://platzi.com/comentario/898537/) 

	para acceder a la base de datos desde su host, se debe registrar la ip local, esto se puede hacer desde el portal de azure seleccionar el server y la opci√≥n Firewalls and virtual networks y colocar la ip

* **alexgv04** (1) [898532](https://platzi.com/comentario/898532/) 

	pueden suscribirse como estudiantes, solo es necesario tener un correo .edu y te dan acceso a muchos recursos.

* **soymichelt** (1) [82626](https://platzi.com/comentario/1009190/) 
Tengo una duda, ¬øsi yo desear√° emplear este servicio en una aplicaci√≥n, cu√°l es el costo mensual?

	* **Juan David Castro (Platzi)** [82626] (1)

		Depende de los servicios que necesites y qu√© tan grande es tu aplicaci√≥n. Recuerda que puedes usar la Calculadora de Precios de Azure para calcular un estimado: <https://azure.microsoft.com/es-es/pricing/calculator/>. üòâ

## 0030. Seguridad en SQL Azure [23119](https://platzi.com/clases/1706-sql-azure/23119-seguridad-en-sql-azure/)

### Descripci√≥n:


### Comentarios:

* **Christian David S√°nchez** (2) [777472](https://platzi.com/comentario/777472/) 

	Una directiva de seguridad de SQL Azure es que debemos habilitar las IP publicas para acceder a la  
	Base de datos.  
	![security.PNG](https://static.platzi.com/media/user_upload/security-75fcc55f-9623-46ca-8b96-311f605e69fb.jpg)

	* **desh991218** [777472] (2)

		Gracias Men me ayudaste

	* **Christian David S√°nchez** [777472] (1)

		Que super!

* **Emmanuel Capandegui** (1) [853927](https://platzi.com/comentario/853927/) 

	hola!  
	¬øEs posible permitir el acceso por ip solo a una BD determinada?

	* **daniel alonso** [853927] (1)

		s√≠. De hecho as√≠ lo hizo en el ejericio.

## 0040. Explorando mi base de datos desde el portal de Azure [23120](https://platzi.com/clases/1706-sql-azure/23120-explorando-mi-base-de-datos-desde-el-portal-de-azu/)

### Descripci√≥n:


### Comentarios:

* **Christian David S√°nchez** (3) [777489](https://platzi.com/comentario/777489/) 

	Aqu√≠ dejo un link donde hay buenos ejemplos de consultas SQL <https://bit.ly/2OEIoKZ>

## 0050. Configuraci√≥n y acceso a nuestra Base de Datos desde VSCode [23121](https://platzi.com/clases/1706-sql-azure/23121-configuracion-y-acceso-a-nuestra-base-de-datos-des/)

### Descripci√≥n:


### Links:

* [
        SQL Server (mssql) - Visual Studio Marketplace
    ](https://marketplace.visualstudio.com/items?itemName=ms-mssql.mssql)

### Comentarios:

* **capzzula** (4) [851144](https://platzi.com/comentario/851144/) 

	[Azure Data Studio](https://docs.microsoft.com/en-us/sql/azure-data-studio/download?view=sql-server-ver15), es otra herramienta increible que usa la misma interfase de VSCode, Se los recomiendo.

* **Christian David S√°nchez** (2) [778330](https://platzi.com/comentario/778330/) 

	Consultas desde VSCode
	
	* Instalar el package MSSQL en VSCode para realizar consultas SQL
	* Realizar la cadena de conexion en VSCode
	
	

* **FabGam** (2) [763546](https://platzi.com/comentario/763546/) 

	ctrl +ship + p => l√≠nea de comandos

* **cristhian-alexander-marino-gar** (1) [1083783](https://platzi.com/comentario/1083783/) 

	Para realizar la conexi√≥n ahora son estos pasos
	
	  1. Poner el nombre del servidor
	  2. Poner el nombre de la base de datos
	  3. Autenticarse con el usuario y contrase√±a
	
	

* **daniel alonso** (1) [981134](https://platzi.com/comentario/981134/) 

	Agregar cadena de conexi√≥n(crear perfil) . en VS code.

* **Cesar Manuel Herrera Vergara** (1) [774692](https://platzi.com/comentario/774692/) 

	tengo el siguiente error:  
	Setup is unable to connect to SQL Server with the connection information provided

	* **Fabian Alexander Zapata Vallejo** [774692] (1)

		Pudiste resolverlo?

* **Marilians** (1) [83681](https://platzi.com/comentario/1032164/) 
He seguido todo al pie de la letra pero no logro conectar la BD en Code, que puede ser? Adicionalmente que me instruyan en como publicar ...

	* **Marilians** [83681] (1)

		Bien, simplemente VSCode no asimil√≥ la cadena de conexi√≥n que copie de Azure, as√≠ que viendo bien lo que solicitaba MS SQL: Connect era cada par√°metro por vez, primero el servername, luego dbname, usuario y password.
		
		As√≠ conecto‚Ä¶

## 0060. Operaciones de consulta con SQL [23122](https://platzi.com/clases/1706-sql-azure/23122-operaciones-de-consulta-con-sql/)

### Descripci√≥n:


### Comentarios:

* **Christian David S√°nchez** (2) [778333](https://platzi.com/comentario/778333/) 

	Documentaci√≥n de SQL Server <https://bit.ly/35w2nS0>

* **desh991218** (1) [927785](https://platzi.com/comentario/927785/) 

	Aqu√≠ estar√≠a un comando ejemplo para crear una tabla:  
	CREATE TABLE citas  
	(  
	citaId INT IDENTITY PRIMARY KEY,  
	titulo NVARCHAR(50) NOT NULL,  
	fecha NVARCHAR(20) NOT NULL,  
	hora NVARCHAR(20) NOT NULL,  
	descripcion NVARCHAR(255) NOT NULL,  
	para NVARCHAR(20) NOT NULL,  
	quien NVARCHAR(20) NOT NULL  
	);

## 0070. Operaciones CRUD [23123](https://platzi.com/clases/1706-sql-azure/23123-operaciones-crud/)

### Descripci√≥n:


Despu√©s de ver la configuraci√≥n y una operaci√≥n de consulta b√°sica con VS Code, toca el turno de ver c√≥mo hacer las cuatro operaciones que ser√°n la base fundamental para modificar los datos de tus tablas.

**Operaci√≥n SELECT**  
Esta ya la viste cuando estuvimos hablando de la configuraci√≥n.
``` 
    SELECT * FROM SalesLT.ProductCategory
    
```

Esta operaci√≥n te regresa todos los registros de tu tabla, es la mejor manera de comprobar que los cambios a la misma ya fueron hechos.  
![Negro1.png](https://static.platzi.com/media/user_upload/Negro1-6e04ac92-d88f-4953-87e3-8500f3ea4b21.jpg)  
**Operaci√≥n INSERT**  
Esta operaci√≥n es la encargada de hacer que un nuevo registro sea colocado dentro de la tabla
``` 
    INSERT INTO SalesLT.ProductCategory (Name, rowguid, ModifiedDate)
    VALUES ('Coffee', 'cfbda25c-df65-47a7-b98b-64ee999aa37c',   2002-06-01)
     
    SELECT * FROM SalesLT.ProductCategory
    
```

Primero estableces la opci√≥n, despu√©s colocas los campos que deseas modificar, por √∫ltimo, los valores de estos campos. Como lo mencion√© en el punto anterior, usa la operaci√≥n SELECT para ver que tu tabla tiene ya el nuevo valor insertado.

![negro2.png](https://static.platzi.com/media/user_upload/negro2-30bd114a-50b5-4217-970d-f1e17cc29e3e.jpg)  
**Operaci√≥n UPDATE**  
Digamos que escribiste mal una palabra o un dato ya no cuenta con el mismo valor por lo que si quieres conservar el registro, pero solo modificar un campo entonces esta es la operaci√≥n indicada.
``` 
    UPDATE SalesLT.ProductCategory
    SET Name = 'Chocolate'
    WHERE ProductCategoryID = 42
    SELECT * FROM SalesLT.ProductCategory
    
```

Demuestras que quieres actualizar, el valor que deseas cambiar y ver cu√°l ser√° el registro que quieres modificar.

![negro3.png](https://static.platzi.com/media/user_upload/negro3-0a7531f6-8416-4a11-aadf-40a15889a065.jpg)

Sigamos con la m√°s delicada de todas las operaciones.  
**Operaci√≥n DELETE**  
Esta operaci√≥n es por mucho a la que m√°s cuidado debemos darle porque con un descuido podr√≠amos perder informaci√≥n muy importante.  
La estructura de esta operaci√≥n es la siguiente.
``` 
    DELETE FROM SalesLT.ProductCategory
    WHERE ProductCategoryID = 42
    SELECT * FROM SalesLT.ProductCategory
    
```

La m√°s delicada y la m√°s simple. Curioso ¬øno?  
Bueno, no hay mucho que decir en cuanto a la sentencia. Elimina de esta tabla el registro que cumpla con esta condici√≥n. El resultado es el siguiente:  
![negro4.png](https://static.platzi.com/media/user_upload/negro4-f1eb6058-47e5-41da-914b-9a2272bfbdec.jpg)  
Como ver√°s, el registro que insertamos y actualizamos ya no se encuentra m√°s disponible.  
Con estas cuatro operaciones podr√°s sentar las bases de cualquier proceso que desees ejecutar aqu√≠. Para darle un seguimiento mucho m√°s avanzado y profundo del tema (si te interesa especializarte en esto) puedes visitar el sitio de W3Schools que cubre muchos ejercicios del lenguaje SQL.

### Comentarios:

* **Christian David S√°nchez** (3) [778553](https://platzi.com/comentario/778553/) 

	Dejo los link que consult√© para reforzar estos temas:  
	W3Schools: <https://www.w3schools.com/sql/default.asp>  
	Ejercicios pr√°cticos: <https://bit.ly/2OEIoKZ>

* **carlosbazanhuaman** (1) [906601](https://platzi.com/comentario/906601/) 

	este CRUD es super basico para probar la BD

# Desarrollar una Web APi [4631]

## 0080. Creando una Web APi con .NET Core [23124](https://platzi.com/clases/1706-sql-azure/23124-creando-una-web-api-con-net-core/)

### Descripci√≥n:


### Links:

* [Curso de ASP.NET Core](https://platzi.com/clases/aspnet-core/)

### Comentarios:

* **Christian David S√°nchez** (4) [778580](https://platzi.com/comentario/778580/) 

	 **WEB API .NET CORE**
	
	* Definici√≥n: Una API es un conjunto de funciones y procedimientos que cumplen una o muchas funciones con el fin de ser utilizadas por otro software.
	
	* Para instalar las plantilla de Web Api:  
	**dotnet new --install ‚ÄúMicrosoft.DotNet.Web.ProjectTemplates2.2‚Äù**
	
	
	
	
	-Para ver los tipos de proyectos disponlbles:  
	**dotnet new**
	
	Para crear un project webApi:  
	**dotnet new webapi -n ‚ÄúProjectSQLAzure‚Äù**
	
	Para compilar el proyecto:  
	**dotnet run**
	
	-CLI DOTNET CORE:  
	**<https://bit.ly/2BcxKmF>**

* **alexmilano** (1) [990357](https://platzi.com/comentario/990357/) 

	El comando `dotnet new` ya no es valido dentro de la terminal de VS CODE. ¬øCual lo sustituye?

* **Fabian Alexander Zapata Vallejo** (0) [906018](https://platzi.com/comentario/906018/) 

	Buena noche,
	
	Para instalar la plantilla, me indica que el termino Dotnet no lo reconoce, me podr√≠an indicar con cual lo puedo cambiar

## 0090. Agregar modelos y configuraci√≥n en mi Web Api [23128](https://platzi.com/clases/1706-sql-azure/23128-agregar-modelos-y-configuracion-en-mi-web-api/)

### Descripci√≥n:


### Links:

* [
        C# Extensions - Visual Studio Marketplace
    ](https://marketplace.visualstudio.com/items?itemName=kreativ-software.csharpextensions)

* [
  ¬øQ√∫√© es el patr√≥n MVC? en Curso de ASP.NET Core
](https://platzi.com/clases/1395-aspnet-core/14484-que-es-el-patron-mvc/)

* [
        NuGet Gallery
        | Home
    ](https://www.nuget.org)

### Comentarios:

* **Angie0014** (1) [1084975](https://platzi.com/comentario/1084975/) 

	<https://www.nuget.org/> para descargar el framework

* **marioamaciasortiz** (1) [836473](https://platzi.com/comentario/836473/) 

	Que extension se utiliza para tener las referencias en codigo? las que dicen por ahora  
	0 references

* **Christian David S√°nchez** (1) [778598](https://platzi.com/comentario/778598/) 

	NuGet que debemos agregar para podernos conectar con la B.D.
	
	**\- ENTITY FRAMEWORK CORE**  
	<PackageReference Include=‚ÄúMicrosoft.EntityFrameworkCore‚Äù Version=‚Äú2.2.6‚Äù />
	
	**\- ENTITY FRAMEWORK CORE SQL SERVER**  
	<PackageReference Include=‚ÄúMicrosoft.EntityFrameworkCore.SqlServer‚Äù Version=‚Äú2.2.6‚Äù />

* **agustin modia** (0) [792869](https://platzi.com/comentario/792869/) 

	hola al hacer el dotnet build me sale lo siguientes errores
	
	PS C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql> dotnet build  
	Microsoft ¬Æ Build Engine version 16.3.0+0f4c62fea for .NET Core  
	Copyright ¬© Microsoft Corporation. All rights reserved.
	
	Restore completed in 13.14 ms for C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj.  
	Models\Contactscontext.cs(1,17): error CS0234: The type or namespace name ‚ÄòEntityFrameworkCore‚Äô does not exist in the namespace ‚ÄòMicrosoft‚Äô (are you missing an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]
	
	Models\Contactscontext.cs(1,17): error CS0234: The type or namespace name ‚ÄòEntityFrameworkCore‚Äô does not exist in the namespace ‚ÄòMicrosoft‚Äô (are you missing an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(5,36): error CS0246: The type or namespace name ‚ÄòDbContext‚Äô could not be found (are you missing a using directive or an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(7,32): error CS0246: The type or namespace name ‚ÄòDbContextOptions‚Äô could not be found (are you missing a using directive or an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	0 Warning(s)  
	3 Error(s)
	
	Time Elapsed 00:00:00.71  
	PS C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql> dotnew restore  
	dotnew : The term ‚Äòdotnew‚Äô is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was  
	included, verify that the path is correct and try again.  
	At line:1 char:1
	
	* dotnew restore
	* 
	```      + CategoryInfo          :ObjectNotFound: (dotnew:String) [], CommandNotFoundException
	      + FullyQualifiedErrorId : CommandNotFoundException
	    
	    
	```
	
	
	
	
	PS C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql> dotnet restore  
	Restore completed in 12.31 ms for C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj.  
	PS C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql> dotnet build  
	Microsoft ¬Æ Build Engine version 16.3.0+0f4c62fea for .NET Core  
	Copyright ¬© Microsoft Corporation. All rights reserved.
	
	Restore completed in 11.73 ms for C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj.  
	Models\Contactscontext.cs(1,17): error CS0234: The type or namespace name ‚ÄòEntityFrameworkCore‚Äô does not exist in the namespace ‚ÄòMicrosoft‚Äô (are you missing an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(5,36): error CS0246: The type or namespace name ‚ÄòDbContext‚Äô could not be found (are you missing a using directive or an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(7,32): error CS0246: The type or namespace name ‚ÄòDbContextOptions‚Äô could not be found (are you missing a using directive or an assembly refembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apis.csproj]ql\apisql.csproj]  
	0 Warning(s)  
	3 Error(s)  
	ityFrameworkCore‚Äô does not exist in the namespace ‚ÄòMicrosoft‚Äô (are you missing an assem  
	Time Elapsed 00:00:00.76 \apisql.csproj]  
	PS C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql> dotnet restoontext‚Äô could not be found (are you missing a using directive or an assembly reference?re ]  
	Restore completed in 13.19 ms for C:\Users\Agustin\Desktop\CURSOS PROGRAMACIontextOptions‚Äô could not be found (are you missing a using directive or an assembly refON\azure sql\apisql\apisql.csproj. .csproj]  
	PS C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql> dotnet build  
	Microsoft ¬Æ Build Engine version 16.3.0+0f4c62fea for .NET Core  
	Copyright ¬© Microsoft Corporation. All rights reserved.
	
	Restore completed in 13.67 ms for C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj.  
	Models\Contactscontext.cs(1,17): error CS0234: The type or namespace name ‚ÄòEntityFrameworkCore‚Äô does not exist in the namespace ‚ÄòMicrosoft‚Äô (are you missing an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(5,36): error CS0246: The type or namespace name ‚ÄòDbContext‚Äô could not be found (are you missing a using directive or an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(7,32): error CS0246: The type or namespace name ‚ÄòDbContextOptions‚Äô could not be found (are you missing a using directive or an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]
	
	Build FAILED.
	
	Models\Contactscontext.cs(1,17): error CS0234: The type or namespace name ‚ÄòEntityFrameworkCore‚Äô does not exist in the namespace ‚ÄòMicrosoft‚Äô (are you missing an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(5,36): error CS0246: The type or namespace name ‚ÄòDbContext‚Äô could not be found (are you missing a using directive or an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	Models\Contactscontext.cs(7,32): error CS0246: The type or namespace name ‚ÄòDbContextOptions‚Äô could not be found (are you missing a using directive or an assembly reference?) [C:\Users\Agustin\Desktop\CURSOS PROGRAMACION\azure sql\apisql\apisql.csproj]  
	0 Warning(s)  
	3 Error(s)

## 0100. Configurando mi conexi√≥n a SQL [23129](https://platzi.com/clases/1706-sql-azure/23129-configurando-mi-conexion-a-sql/)

### Descripci√≥n:


### Comentarios:

* **Christian David S√°nchez** (2) [778708](https://platzi.com/comentario/778708/) 

	 **Un peque√±o resumen:**
	
	* La clase context debe heredar de DBCONTEXT de Entity Framework.
	
	* El nombre del constructor debe coincidir con el nombre de la clase ‚Äòcontext‚Äô.
	
	* DbSet es una colecci√≥n de los datos que vienen de la Base de Datos(en este caso SQL Azure).  
	**public DbSet <contacts> Contacts { get; set; }**
	
	
	
	
	-Para la conexi√≥n a la Base de Datos:  
	Nos vamos a la clase **Startup.css** y agregamos un nuevo servicio:
	``` 
	    string connectionString = Configuration.GetConnectionString("DefaultConnection"); //Aqui obtenemos la cadena de conexion que colocamos enel archivo appsettings.json.
	    services.AddDbContext<ClaseContext>(opt => opt.UseSqlServer(connectionString));```
	    
	```

* **alexgv04** (1) [898712](https://platzi.com/comentario/898712/) 

	todo este proceso se puede implementar autom√°ticamente desde visual studio 2019, se crean las clases y se selecciona New Scaffolded Item se selecciona la clase y autom√°ticamente se crea el controlador, se debe de tener en cuenta tambi√©n cambiar la cadena de conexi√≥n.

* **rmgelvez** (1) [83945](https://platzi.com/comentario/1038723/) 
Una pregunta Amin, he visto que en mi trabajo hemos tenido muchos problemas a la hora de utilizar varios contextos, errores en transaccio...

	* **Jhonnattan Rivera** [83945] (1)

		quisas deberian implementar una metodologia QA o si no tienen, crear un equipo de testing para asegurarse que todo funciona bien.

## 0110. Comandos de Entity Framework Core [23130](https://platzi.com/clases/1706-sql-azure/23130-comandos-de-entity-framework-core/)

### Descripci√≥n:


### Comentarios:

* **Orlando13** (6) [759712](https://platzi.com/comentario/759712/) 

	Al ejecutar el comando dotnet ef me daba un error que no reconoc√≠a la instrucci√≥n:
	
	Lo solucione de la siguiente manera:
	
	* dotnet tool install --global dotnet-ef
	* dotnet ef migrations add InitialCreate
	
	

	* **Amin Espinoza** [759712] (1)

		Esto est√° buen√≠simo, quiz√° en alg√∫n momento de mi instalaci√≥n lo hice sin darme cuenta. Muchas gracias por el tip Orlando!

	* **Christian David S√°nchez** [759712] (1)

		Hey üòÆ excelente aporte!

	* **desh991218** [759712] (2)

		Gracias men! üòÉ

	* **langeld83** [759712] (1)

		Excelente aporte Orlando, Gracias.  
		Saludos.

* **Daniel .** (3) [1032701](https://platzi.com/comentario/1032701/) 

	Si les sale este error:
	``` 
	    Your startup project 'APISQLPlatzi' doesn't reference Microsoft.EntityFrameworkCore.Design. This packageis required for the Entity Framework Core Tools to work. Ensure your startup project is correct, install the package, and try again.
	    
	```
	
	Instalen el siguiente package:
	``` 
	    dotnet add package Microsoft.EntityFrameworkCore.Design
	    
	```

* **claudiomorales** (2) [830664](https://platzi.com/comentario/830664/) 

	.NET CORE hasta el momento se basa en migraciones
	
	* dotnet ef migrations add InitialCreate --> Para agregar una migracion
	* dotnet ef migrations update --> Para afectar los cambios en la base de datos
	
	
	
	¬øQue son los DataAnnotations?  
	Agregan un significado adicional a los datos al agregar etiquetas de atributos. La ventaja de utilizar la funci√≥n de anotaci√≥n de datos es que al aplicar atributos de datos, podemos gestionar la definici√≥n de datos en un solo lugar y no es necesario volver a escribir las mismas reglas en varios lugares.
	
	La caracter√≠stica de anotaci√≥n de datos se introdujo en .NET 3.5 y el System.ComponentModel.DataAnnotations espacio de nombres contiene las clases que se utilizan como atributos de datos.
	
	Los atributos de anotaci√≥n de datos se dividen en tres categor√≠as:  
	Atributos de validaci√≥n : se utilizan para aplicar reglas de validaci√≥n.  
	Mostrar atributos : se utiliza para especificar c√≥mo se muestran los datos de una clase / miembro en la interfaz de usuario.  
	Atributos de modelado : se utiliza para especificar el uso previsto del miembro de la clase y la relaci√≥n entre las clases.  
	Fuente: <https://bit.ly/2nKuXye>

* **Christian David S√°nchez** (2) [778743](https://platzi.com/comentario/778743/) 

	.NET CORE hasta el momento se basa en migraciones  
	**\- dotnet ef migrations add InitialCreate** \--> Para agregar una migracion  
	**\- dotnet ef migrations update** \--> Para afectar los cambios en la base de datos
	
	**¬øQue son los DataAnnotations?**  
	Agregan un significado adicional a los datos al agregar etiquetas de atributos. La ventaja de utilizar la funci√≥n de anotaci√≥n de datos es que al aplicar atributos de datos, podemos gestionar la definici√≥n de datos en un solo lugar y no es necesario volver a escribir las mismas reglas en varios lugares.
	
	La caracter√≠stica de anotaci√≥n de datos se introdujo en .NET 3.5 y el System.ComponentModel.DataAnnotations espacio de nombres contiene las clases que se utilizan como atributos de datos.
	
	Los atributos de anotaci√≥n de datos se dividen en tres categor√≠as:  
	Atributos de validaci√≥n : se utilizan para aplicar reglas de validaci√≥n.  
	Mostrar atributos : se utiliza para especificar c√≥mo se muestran los datos de una clase / miembro en la interfaz de usuario.  
	Atributos de modelado : se utiliza para especificar el uso previsto del miembro de la clase y la relaci√≥n entre las clases.  
	Fuente: <https://bit.ly/2nKuXye>

* **Antonio Rafael Gonz√°lez Ferrer** (1) [1043576](https://platzi.com/comentario/1043576/) 

	Me marca errror:  
	error CS1061: ‚ÄòIConfiguration‚Äô does not contain a definition for ‚ÄògetConnectionString‚Äô and no accessible extension method ‚ÄògetConnectionString‚Äô accepting a first argument of type ‚ÄòIConfiguration‚Äô could be found (are you missing a using directive or an assembly reference?)
	
	¬øAlguien le pas√≥ y c√≥mo lo solucion√≥?

* **alexgv04** (1) [898723](https://platzi.com/comentario/898723/) 

	algunos comandos y funcionamiento de Entity Framework:  
	<https://docs.microsoft.com/en-us/ef/core/managing-schemas/migrations/?tabs=dotnet-core-cli>
	
	tener en cuenta que cada migraci√≥n crea un folder con la migraci√≥n y un registro en la base de datos con la informaci√≥n de la migraci√≥n

## 0120. Operaci√≥n Select desde mi API [23131](https://platzi.com/clases/1706-sql-azure/23131-operacion-select-desde-mi-api/)

### Descripci√≥n:


### Comentarios:

* **jose-martin-rangel-espinoza** (4) [763638](https://platzi.com/comentario/763638/) 

	El simbolo con el que se indica un destructor se llama virgulilla.

	* **Christian David S√°nchez** [763638] (1)

		No hab√≠a escuchado ese termino o nomenclatura.

	* **Oscar Fernando Moreno Restrepo** [763638] (1)

		algunos tambi√©n lo llaman **Tilde** , por su nombre en ingl√©s

* **Christian David S√°nchez** (2) [778812](https://platzi.com/comentario/778812/) 

	 **¬øQu√© es LINQ?**  
	LINQ (Language Integrated Query) es una sintaxis de consulta uniforme en C # y [VB.NET](http://VB.NET) para recuperar datos de diferentes fuentes y formatos. Est√° integrado en C # o VB, lo que elimina la falta de coincidencia entre los lenguajes de programaci√≥n y las bases de datos, adem√°s de proporcionar una √∫nica interfaz de consulta para diferentes tipos de fuentes de datos.  
	Fuente: <https://bit.ly/2t1rzOv>

* **desh991218** (1) [928006](https://platzi.com/comentario/928006/) 

	Existe una manera un poco mas f√°cil de a√±adir datos sin necesidad de hacer el query SQL:  
	![Captura.JPG](https://static.platzi.com/media/user_upload/Captura-94c03a38-d4c4-4f72-a043-b2ce772b910e.jpg)

* **Oscar Fernando Moreno Restrepo** (1) [814073](https://platzi.com/comentario/814073/) 

	El m√©todo destructor es necesario? hab√≠a escuchado que en C# no se usaba porque .Net elimina de la memoria los elementos obsoletos (GarbageCollector)
	
	Gracias por cualquier aclaraci√≥n al respecto.

	* **Stalin Alvarado** [814073] (2)

		para objetos primitivos, pero para clases complejas como DbContext se debe usar un destructor para liberar memoria. Pero mejor es usar un using

	* **carlosbazanhuaman** [814073] (1)

		cuando usas using(){‚Ä¶} libera memoria al terminar el bloque de las llaves.

## 0130. Publicaci√≥n y ajustes de mi Web API [23132](https://platzi.com/clases/1706-sql-azure/23132-publicacion-y-ajustes-de-mi-web-api/)

### Descripci√≥n:


### Links:

* [Curso de Web Apps y Logic Apps en Azure](https://platzi.com/clases/web-apps/)

### Comentarios:

* **Christian David S√°nchez** (2) [778854](https://platzi.com/comentario/778854/) 

	Comando utilizado en la clase:  
	donet publish -c Release -o ./publish

* **Daniel .** (1) [1032855](https://platzi.com/comentario/1032855/) 

	No me sale la opci√≥n para publicar üò≠

## 0140. Operaciones Get y Post desde mi Web API [23133](https://platzi.com/clases/1706-sql-azure/23133-operaciones-get-y-post-desde-mi-web-api/)

### Descripci√≥n:


### Links:

* [Curso de API REST](https://platzi.com/clases/api-rest/)

### Comentarios:

* **Christian David S√°nchez** (3) [779120](https://platzi.com/comentario/779120/) 

	Otra forman de buscar un registro es con **FIND**.
	``` 
	    [HttpGet ("{id}")]
	    public ActionResult<contacts> Get (int id) 
	    {
	         var data = context.Contacts.Find (id);
	         return data;
	    }
	    
	    // POST api/values
	    [HttpPost]
	    public ActionResult Post ([FromBody] contacts model) 
	    {
	           contacts item = model;
	           context.Contacts.Add (item);
	           context.SaveChanges ();
	            return Ok ("Agregado correctamente!");
	    }
	```

## 0150. Consumiendo las operaciones de mi API [23134](https://platzi.com/clases/1706-sql-azure/23134-consumiendo-las-operaciones-de-mi-api/)

### Descripci√≥n:


### Links:

* [Curso de SQL en Azure](https://platzi.com/clases/1706-sql-azure/23135-operaciones-put-y-delete-desde-mi-web-api/)

### Comentarios:

* **Christian David S√°nchez** (3) [779128](https://platzi.com/comentario/779128/) 

	Las operaciones m√°s importantes en cualquier sistema Rest (CRUD) son:  
	GET (Leer y consultar los registros)  
	POST (Crear nuevos registros)  
	PUT (Editar y modificar los registros)  
	DELETE (Eliminar los registros).
	
	Aqui hay un ejemplo de un API REST en c# desde cero: <https://bit.ly/2B9bOJe>

	* **Juan David Castro (Platzi)** [779128] (2)

		En el Curso de API REST estudiamos este tema a fondo: <https://platzi.com/clases/api-rest/>. üòâ

	* **Christian David S√°nchez** [779128] (2)

		Gracias por la sugerencia. Ese es buen curso.

## 0160. Operaciones Put y Delete desde mi Web API [23135](https://platzi.com/clases/1706-sql-azure/23135-operaciones-put-y-delete-desde-mi-web-api/)

### Descripci√≥n:


Despu√©s de continuar con las operaciones de consulta por par√°metros y la de inserci√≥n, es momento de que vayas por las dos operaciones restantes. ¬øComenzamos?  
**Operaci√≥n Put**  
Acabo de insertar un nuevo registro gracias a mi operaci√≥n de inserci√≥n. Puse un registro as√≠.  
![Blanco1.png](https://static.platzi.com/media/user_upload/Blanco1-a68ce795-cec5-491e-b13d-f331e1b49467.jpg)  
Como ver√°s, hubo un error en los campos, el nombre y apellido del contacto est√°n mal as√≠ que debemos modificarlo. Vuelve a tu proyecto y buscar tu m√©todo Put en la clase ContactController.cs. y agrega lo siguiente.
``` 
    [HttpPut("{id}")]
            public void Put(int id, [FromBody] Contacts value)
            {
                Contacts updatedContact = value;
                var selectedElement = contactsContext.ContactSet.Find(updatedContact.Identificador);
                selectedElement.Nombre = value.Nombre;
                selectedElement.Email = value.Email;
                contactsContext.SaveChanges();
            }
    
```

Lo primero que necesitas es obtener el contacto, igual que en el m√©todo de inserci√≥n, solo que ahora, podr√°s obtener este contacto de tu base para que primero sepas cu√°l ser√° el dato que vas a modificar. Cambia las propiedades que quieres modificar, puedes hacerlo a tu gusto. Solo que despu√©s de eso debes guardar los cambios.  
Corre tu aplicaci√≥n (ya sabes, dotnet run) y despu√©s de eso ve a Postman, inserta un JSON parecido a esto.  
{  
‚Äúidentificador‚Äù: 1,  
‚Äúnombre‚Äù: ‚ÄúAmin Espinoza‚Äù,  
‚Äúemail‚Äù: ["amin.espinoza@correo.com](mailto:%22amin.espinoza@correo.com)",  
‚Äútelefono‚Äù: ‚Äú5543507148‚Äù  
}  
O con los cambios que te acomoden y cambia la operaci√≥n a PUT.  
![blanco2.png](https://static.platzi.com/media/user_upload/blanco2-6d03a92b-5005-400a-bc8b-94909ffe38bc.jpg)  
Los pasos a seguir son muy parecidos a los de la inserci√≥n. En esta secuencia de pasos se trata de:  
1.- Cambiar la operaci√≥n por PUT, ten much√≠simo cuidado en ver la URL. ¬øNotaste que el identificador del elemento que quiero modificar se encuentra al final de la cadena? A mi me tom√≥ como dos d√≠as darme cuenta de eso la primera vez que lo hice. Lo peor es que si no lo haces nada te indicar√° donde est√° el error.  
2.- Selecciona la opci√≥n de Body y en la categor√≠a raw puedes comenzar a escribir.  
3.- Escribe en formato JSON el identificador que vas a buscar y adem√°s los campos que vas a modificar.  
Si realizas la operaci√≥n de la manera adecuada obtendr√°s un 200 OK en Postman.  
![Holis.png](https://static.platzi.com/media/user_upload/Holis-60dec3cb-56fd-4fc9-9e0b-bf920ff7b63f.jpg)  
Y podr√°s ver el resultado en tu base de datos.  
![Holis2.png](https://static.platzi.com/media/user_upload/Holis2-a33a7197-9cd4-4b98-9ece-a317f325d58e.jpg)  
![blanco3.png](https://static.platzi.com/media/user_upload/blanco3-08aa72bc-5086-4a7d-b847-fbf5a2632797.jpg)  
Ya llevamos tres cuartos de felicidad ¬øno?

**Operaci√≥n DELETE**

En esta operaci√≥n podemos trabajar para eliminar los registros. La idea es borrar el registro que acabamos de crear y de nuevo nos vamos a apoyar en el identificador. Como siempre en esta vida, nos tardamos mucho en construir y eliminar nos toma muy poco tiempo y adem√°s resulta ser el m√©todo m√°s f√°cil de todos.  
De vuelta a tu proyecto, col√≥cate en el m√©todo DELETE de tu aplicaci√≥n y agrega lo siguiente.
``` 
            public void Delete(int id)
            {
                var selectedElement = contactsContext.ContactSet.Find(id);
                contactsContext.ContactSet.Remove(selectedElement);
                contactsContext.SaveChanges();
            }
    
```

Como ver√°s, no hay mucho que decir ¬øo s√≠? Simplemente tomas tu identificador recibido, buscas el elemento que tiene ese identificador y lo borras, si, as√≠ de f√°cil las cosas se van.  
Prueba tu m√©todo en Postman, ahora no necesitas enviar nada m√°s que el id en tu URL (igual que en los m√©todos anteriores) y estar√°s listo.  
![blanco4.png](https://static.platzi.com/media/user_upload/blanco4-c9033be0-8270-410b-9633-1286f1b9ec0f.jpg)  
Muy bien, pues ahora solo basta publicar de nuevo la aplicaci√≥n para que puedas tener todos tus m√©todos listos para empezar a gestionar tus contactos.  
¬øQu√© operaciones adicionales crees que puedes hacer con estas cuatro? ¬°No olvides comentarlas!

### Comentarios:

* **Christian David S√°nchez** (2) [779138](https://platzi.com/comentario/779138/) 

	```
	    [HttpPut ("{id}")]
	    public ActionResult Put (int id, [FromBody] contacts model)
	    {
	          var data = context.Contacts.Find (id);
	          context.Entry(data).State = EntityState.Modified;
	          data.Nombre = model.Nombre;
	          data.email = model.email;
	          data.telefono = model.telefono;
	          context.SaveChanges ();
	          return Ok ("Editado correctamente!");
	    }
	    
	    // DELETE api/values/5
	    [HttpDelete ("{id}")]
	    public ActionResult Delete (int id) 
	    {
	         var data = context.Contacts.Find (id);
	         context.Remove(data);
	         context.SaveChanges ();
	          return Ok ("Eliminado correctamente!");
	    }
	    
	```

# Cierre [4634]

## 0170. Cierre [23136](https://platzi.com/clases/1706-sql-azure/23136-cierre/)

### Descripci√≥n:


### Links:

* [Curso de Web Apps y Logic Apps en Azure](https://platzi.com/clases/web-apps/)

* [Curso de Almacenamiento en Azure](https://platzi.com/clases/almacenamiento-azure/)

* [Curso de Azure Iaas](https://platzi.com/clases/azure-iaas/)

* [Curso de ASP.NET Core](https://platzi.com/clases/aspnet-core/)

* [Curso de C# con .Net Core | Platzi](https://platzi.com/clases/c-sharp/)

### Comentarios:

* **Christian David S√°nchez** (2) [779141](https://platzi.com/comentario/779141/) 

	Excelente curso, Gracias Amin!!

* **Ricardo Exequiel De Angelis** (1) [844505](https://platzi.com/comentario/844505/) 

	y el repo de este curso?

	* **Juan David Castro (Platzi)** [844505] (1)

		Aqu√≠ lo tienes: <https://github.com/aminespinoza/ContenidoSQLAzure>. üòâ

